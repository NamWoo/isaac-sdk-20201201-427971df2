/*
 Event object based on jQuery events, MIT license

https://jquery.org/license/
https://tldrlegal.com/license/mit-license
https://github.com/jquery/jquery/blob/master/src/event.js
 Bezier curve function generator. Copyright Gaetan Renaudeau. MIT License: http://en.wikipedia.org/wiki/MIT_License  Runge-Kutta spring physics function generator. Adapted from Framer.js, copyright Koen Bok. MIT License: http://en.wikipedia.org/wiki/MIT_License */
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(p,n,g){p!=Array.prototype&&p!=Object.prototype&&(p[n]=g.value)};
$jscomp.getGlobal=function(p){p=["object"==typeof globalThis&&globalThis,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,p];for(var n=0;n<p.length;++n){var g=p[n];if(g&&g.Math==Math)return g}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(p,n,g,l){if(n){g=$jscomp.global;p=p.split(".");for(l=0;l<p.length-1;l++){var d=p[l];d in g||(g[d]={});g=g[d]}p=p[p.length-1];l=g[p];n=n(l);n!=l&&null!=n&&$jscomp.defineProperty(g,p,{configurable:!0,writable:!0,value:n})}};$jscomp.polyfill("Number.MAX_SAFE_INTEGER",function(){return 9007199254740991},"es6","es3");$jscomp.arrayIteratorImpl=function(p){var n=0;return function(){return n<p.length?{done:!1,value:p[n++]}:{done:!0}}};$jscomp.arrayIterator=function(p){return{next:$jscomp.arrayIteratorImpl(p)}};
$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.SymbolClass=function(p,n){this.$jscomp$symbol$id_=p;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:n})};$jscomp.SymbolClass.prototype.toString=function(){return this.$jscomp$symbol$id_};
$jscomp.Symbol=function(){function p(g){if(this instanceof p)throw new TypeError("Symbol is not a constructor");return new $jscomp.SymbolClass($jscomp.SYMBOL_PREFIX+(g||"")+"_"+n++,g)}var n=0;return p}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var p=$jscomp.global.Symbol.iterator;p||(p=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("Symbol.iterator"));"function"!=typeof Array.prototype[p]&&$jscomp.defineProperty(Array.prototype,p,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var p=$jscomp.global.Symbol.asyncIterator;p||(p=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("Symbol.asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.iteratorPrototype=function(p){$jscomp.initSymbolIterator();p={next:p};p[$jscomp.global.Symbol.iterator]=function(){return this};return p};
$jscomp.iteratorFromArray=function(p,n){$jscomp.initSymbolIterator();p instanceof String&&(p+="");var g=0,l={next:function(){if(g<p.length){var d=g++;return{value:n(d,p[d]),done:!1}}l.next=function(){return{done:!0,value:void 0}};return l.next()}};l[Symbol.iterator]=function(){return l};return l};$jscomp.polyfill("Array.prototype.keys",function(p){return p?p:function(){return $jscomp.iteratorFromArray(this,function(n){return n})}},"es6","es3");
$jscomp.polyfill("Math.log2",function(p){return p?p:function(n){return Math.log(n)/Math.LN2}},"es6","es3");$jscomp.polyfill("Array.prototype.fill",function(p){return p?p:function(n,g,l){var d=this.length||0;0>g&&(g=Math.max(0,d+g));if(null==l||l>d)l=d;l=Number(l);0>l&&(l=Math.max(0,d+l));for(g=Number(g||0);g<l;g++)this[g]=n;return this}},"es6","es3");
!function(p,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.cytoscape=n():p.cytoscape=n()}("undefined"!=typeof self?self:this,function(){return function(p){function n(l){if(g[l])return g[l].exports;var d=g[l]={i:l,l:!1,exports:{}};return p[l].call(d.exports,d,d.exports,n),d.l=!0,d.exports}var g={};return n.m=p,n.c=g,n.d=function(l,d,b){n.o(l,d)||Object.defineProperty(l,d,{configurable:!1,enumerable:!0,
get:b})},n.n=function(l){var d=l&&l.__esModule?function(){return l.default}:function(){return l};return n.d(d,"a",d),d},n.o=function(l,d){return Object.prototype.hasOwnProperty.call(l,d)},n.p="",n(n.s=20)}([function(p,n,g){var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},d=g(3),b=d?d.navigator:null,a=d?d.document:null,c=l(""),e=l({}),f=l(function(){}),
m="undefined"==typeof HTMLElement?"undefined":l(HTMLElement),k=function(a){return a&&a.instanceString&&h.fn(a.instanceString)?a.instanceString():null},h={defined:function(a){return null!=a},string:function(a){return null!=a&&(void 0===a?"undefined":l(a))==c},fn:function(a){return null!=a&&(void 0===a?"undefined":l(a))===f},array:function(a){return Array.isArray?Array.isArray(a):null!=a&&a instanceof Array},plainObject:function(a){return null!=a&&(void 0===a?"undefined":l(a))===e&&!h.array(a)&&a.constructor===
Object},object:function(a){return null!=a&&(void 0===a?"undefined":l(a))===e},number:function(a){return null!=a&&(void 0===a?"undefined":l(a))===l(1)&&!isNaN(a)},integer:function(a){return h.number(a)&&Math.floor(a)===a},bool:function(a){return null!=a&&(void 0===a?"undefined":l(a))===l(!0)},htmlElement:function(a){return"undefined"===m?void 0:null!=a&&a instanceof HTMLElement},elementOrCollection:function(a){return h.element(a)||h.collection(a)},element:function(a){return"collection"===k(a)&&a._private.single},
collection:function(a){return"collection"===k(a)&&!a._private.single},core:function(a){return"core"===k(a)},style:function(a){return"style"===k(a)},stylesheet:function(a){return"stylesheet"===k(a)},event:function(a){return"event"===k(a)},thread:function(a){return"thread"===k(a)},fabric:function(a){return"fabric"===k(a)},emptyString:function(a){return void 0===a||null===a||!(""!==a&&!a.match(/^\s+$/))},nonemptyString:function(a){return!(!a||!h.string(a)||""===a||a.match(/^\s+$/))},domElement:function(a){return"undefined"!=
typeof HTMLElement&&a instanceof HTMLElement},boundingBox:function(a){return h.plainObject(a)&&h.number(a.x1)&&h.number(a.x2)&&h.number(a.y1)&&h.number(a.y2)},promise:function(a){return h.object(a)&&h.fn(a.then)},touch:function(){return d&&("ontouchstart"in d||d.DocumentTouch&&a instanceof DocumentTouch)},gecko:function(){return d&&("undefined"!=typeof InstallTrigger||"MozAppearance"in a.documentElement.style)},webkit:function(){return d&&("undefined"!=typeof webkitURL||"WebkitAppearance"in a.documentElement.style)},
chromium:function(){return d&&"undefined"!=typeof chrome},khtml:function(){return b&&b.vendor.match(/kde/i)},khtmlEtc:function(){return h.khtml()||h.webkit()||h.chromium()},ms:function(){return b&&b.userAgent.match(/msie|trident|edge/i)},windows:function(){return b&&b.appVersion.match(/Win/i)},mac:function(){return b&&b.appVersion.match(/Mac/i)},linux:function(){return b&&b.appVersion.match(/Linux/i)},unix:function(){return b&&b.appVersion.match(/X11/i)}};p.exports=h},function(p,n,g){var l=g(0);n=
g(2);var d={MAX_INT:Number.MAX_SAFE_INTEGER||9007199254740991,trueify:function(){return!0},falsify:function(){return!1},zeroify:function(){return 0},noop:function(){},error:function(b){console.error?(console.error.apply(console,arguments),console.trace&&console.trace()):(console.log.apply(console,arguments),console.trace&&console.trace())},clone:function(b){return this.extend({},b)},copy:function(b){return null==b?b:l.array(b)?b.slice():l.plainObject(b)?this.clone(b):b},copyArray:function(b){return b.slice()},
clonePosition:function(b){return{x:b.x,y:b.y}},uuid:function(b,a){for(a=b="";36>b++;a+=51*b&52?(15^b?8^Math.random()*(20^b?16:4):4).toString(16):"-");return a}};d.makeBoundingBox=n.makeBoundingBox.bind(n);d._staticEmptyObject={};d.staticEmptyObject=function(){return d._staticEmptyObject};d.extend=null!=Object.assign?Object.assign.bind(Object):function(b){for(var a=arguments,c=1;c<a.length;c++){var e=a[c];if(null!=e)for(var f=Object.keys(e),d=0;d<f.length;d++){var k=f[d];b[k]=e[k]}}return b};d.assign=
d.extend;d.default=function(b,a){return void 0===b?a:b};d.removeFromArray=function(b,a,c){for(var e=b.length;0<=e&&(b[e]!==a||(b.splice(e,1),c));e--);};d.clearArray=function(b){b.splice(0,b.length)};d.push=function(b,a){for(var c=0;c<a.length;c++)b.push(a[c])};d.getPrefixedProperty=function(b,a,c){return c&&(a=this.prependCamel(c,a)),b[a]};d.setPrefixedProperty=function(b,a,c,e){c&&(a=this.prependCamel(c,a));b[a]=e};[g(21),g(22),{memoize:g(13)},g(23),g(24),g(25),g(27)].forEach(function(b){d.extend(d,
b)});p.exports=d},function(p,n,g){var l={arePositionsSame:function(d,b){return d.x===b.x&&d.y===b.y},copyPosition:function(d){return{x:d.x,y:d.y}},modelToRenderedPosition:function(d,b,a){return{x:d.x*b+a.x,y:d.y*b+a.y}},renderedToModelPosition:function(d,b,a){return{x:(d.x-a.x)/b,y:(d.y-a.y)/b}},array2point:function(d){return{x:d[0],y:d[1]}},deg2rad:function(d){return Math.PI*d/180},getAngleFromDisp:function(d,b){return Math.atan2(b,d)-Math.PI/2}};l.log2=Math.log2||function(d){return Math.log(d)/
Math.log(2)};l.signum=function(d){return 0<d?1:0>d?-1:0};l.dist=function(d,b){return Math.sqrt(l.sqdist(d,b))};l.sqdist=function(d,b){var a=b.x-d.x;d=b.y-d.y;return a*a+d*d};l.qbezierAt=function(d,b,a,c){return(1-c)*(1-c)*d+2*(1-c)*c*b+c*c*a};l.qbezierPtAt=function(d,b,a,c){return{x:l.qbezierAt(d.x,b.x,a.x,c),y:l.qbezierAt(d.y,b.y,a.y,c)}};l.lineAt=function(d,b,a,c){var e=b.x-d.x,f=b.y-d.y;b=l.dist(d,b);return a=null==a?0:a,c=null!=c?c:a*b,{x:d.x+e/b*c,y:d.y+f/b*c}};l.lineAtDist=function(d,b,a){return l.lineAt(d,
b,void 0,a)};l.triangleAngle=function(d,b,a){var c=l.dist(b,a);a=l.dist(d,a);d=l.dist(d,b);return Math.acos((c*c+a*a-d*d)/(2*c*a))};l.bound=function(d,b,a){return Math.max(d,Math.min(a,b))};l.makeBoundingBox=function(d){if(null==d)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(null!=d.x1&&null!=d.y1){if(null!=d.x2&&null!=d.y2&&d.x2>=d.x1&&d.y2>=d.y1)return{x1:d.x1,y1:d.y1,x2:d.x2,y2:d.y2,w:d.x2-d.x1,h:d.y2-d.y1};if(null!=d.w&&null!=d.h&&0<=d.w&&0<=d.h)return{x1:d.x1,y1:d.y1,x2:d.x1+d.w,y2:d.y1+
d.h,w:d.w,h:d.h}}};l.updateBoundingBox=function(d,b){d.x1=Math.min(d.x1,b.x1);d.x2=Math.max(d.x2,b.x2);d.w=d.x2-d.x1;d.y1=Math.min(d.y1,b.y1);d.y2=Math.max(d.y2,b.y2);d.h=d.y2-d.y1};l.expandBoundingBoxByPoint=function(d,b,a){d.x1=Math.min(d.x1,b);d.x2=Math.max(d.x2,b);d.w=d.x2-d.x1;d.y1=Math.min(d.y1,a);d.y2=Math.max(d.y2,a);d.h=d.y2-d.y1};l.expandBoundingBox=function(d,b){return d.x1-=b,d.x2+=b,d.y1-=b,d.y2+=b,d.w=d.x2-d.x1,d.h=d.y2-d.y1,d};l.boundingBoxesIntersect=function(d,b){return!(d.x1>b.x2)&&
!(b.x1>d.x2)&&!(d.x2<b.x1)&&!(b.x2<d.x1)&&!(d.y2<b.y1)&&!(b.y2<d.y1)&&!(d.y1>b.y2)&&!(b.y1>d.y2)};l.inBoundingBox=function(d,b,a){return d.x1<=b&&b<=d.x2&&d.y1<=a&&a<=d.y2};l.pointInBoundingBox=function(d,b){return this.inBoundingBox(d,b.x,b.y)};l.boundingBoxInBoundingBox=function(d,b){return l.inBoundingBox(d,b.x1,b.y1)&&l.inBoundingBox(d,b.x2,b.y2)};l.roundRectangleIntersectLine=function(d,b,a,c,e,f,m){var k=this.getRoundRectangleRadius(e,f);e/=2;f/=2;var h=void 0,t=c-f-m;if(h=this.finiteLinesIntersect(d,
b,a,c,a-e+k-m,t,a+e-k+m,t,!1),0<h.length)return h;t=a+e+m;if(h=this.finiteLinesIntersect(d,b,a,c,t,c-f+k-m,t,c+f-k+m,!1),0<h.length)return h;t=c+f+m;if(h=this.finiteLinesIntersect(d,b,a,c,a-e+k-m,t,a+e-k+m,t,!1),0<h.length)return h;t=a-e-m;if(h=this.finiteLinesIntersect(d,b,a,c,t,c-f+k-m,t,c+f-k+m,!1),0<h.length)return h;h=void 0;t=a-e+k;var q=c-f+k;if(h=this.intersectLineCircle(d,b,a,c,t,q,k+m),0<h.length&&h[0]<=t&&h[1]<=q)return[h[0],h[1]];t=a+e-k;q=c-f+k;if(h=this.intersectLineCircle(d,b,a,c,t,
q,k+m),0<h.length&&h[0]>=t&&h[1]<=q)return[h[0],h[1]];t=a+e-k;q=c+f-k;if(h=this.intersectLineCircle(d,b,a,c,t,q,k+m),0<h.length&&h[0]>=t&&h[1]>=q)return[h[0],h[1]];e=a-e+k;f=c+f-k;return h=this.intersectLineCircle(d,b,a,c,e,f,k+m),0<h.length&&h[0]<=e&&h[1]>=f?[h[0],h[1]]:[]};l.inLineVicinity=function(d,b,a,c,e,f,m){var k=Math.max(a,e),h=Math.min(c,f);c=Math.max(c,f);return Math.min(a,e)-m<=d&&d<=k+m&&h-m<=b&&b<=c+m};l.inBezierVicinity=function(d,b,a,c,e,f,m,k,h){var t=Math.max(a,m,e)+h,q=Math.min(c,
k,f)-h;c=Math.max(c,k,f)+h;return!(d<Math.min(a,m,e)-h||d>t||b<q||b>c)};l.solveQuadratic=function(d,b,a,c){a=b*b-4*d*(a-c);if(0>a)return[];a=Math.sqrt(a);d*=2;return[(-b+a)/d,(-b-a)/d]};l.solveCubic=function(d,b,a,c,e){b/=d;a/=d;var f=void 0,m=void 0,k=void 0,h=void 0,t=void 0,q=void 0,r=void 0,u=void 0;return m=(3*a-b*b)/9,k=c/d*-27+b*(9*a-b*b*2),k/=54,f=m*m*m+k*k,e[1]=0,r=b/3,0<f?(t=k+Math.sqrt(f),t=0>t?-Math.pow(-t,1/3):Math.pow(t,1/3),q=k-Math.sqrt(f),q=0>q?-Math.pow(-q,1/3):Math.pow(q,1/3),e[0]=
-r+t+q,r+=(t+q)/2,e[4]=e[2]=-r,r=Math.sqrt(3)*(-q+t)/2,e[3]=r,void(e[5]=-r)):(e[5]=e[3]=0,0===f?(u=0>k?-Math.pow(-k,1/3):Math.pow(k,1/3),e[0]=2*u-r,void(e[4]=e[2]=-(u+r))):(m=-m,h=m*m*m,h=Math.acos(k/Math.sqrt(h)),u=2*Math.sqrt(m),e[0]=-r+u*Math.cos(h/3),e[2]=-r+u*Math.cos((h+2*Math.PI)/3),void(e[4]=-r+u*Math.cos((h+4*Math.PI)/3))))};l.sqdistToQuadraticBezier=function(d,b,a,c,e,f,m,k){var h=[];this.solveCubic(1*a*a-4*a*e+2*a*m+4*e*e-4*e*m+m*m+c*c-4*c*f+2*c*k+4*f*f-4*f*k+k*k,9*a*e-3*a*a-3*a*m-6*e*
e+3*e*m+9*c*f-3*c*c-3*c*k-6*f*f+3*f*k,3*a*a-6*a*e+a*m-a*d+2*e*e+2*e*d-m*d+3*c*c-6*c*f+c*k-c*b+2*f*f+2*f*b-k*b,1*a*e-a*a+a*d-e*d+c*f-c*c+c*b-f*b,h);for(var t=[],q=0;6>q;q+=2)1E-7>Math.abs(h[q+1])&&0<=h[q]&&1>=h[q]&&t.push(h[q]);t.push(1);t.push(0);h=-1;for(q=0;q<t.length;q++){var r=Math.pow(1-t[q],2)*a+2*(1-t[q])*t[q]*e+t[q]*t[q]*m;var u=Math.pow(1-t[q],2)*c+2*(1-t[q])*t[q]*f+t[q]*t[q]*k;r=Math.pow(r-d,2)+Math.pow(u-b,2);0<=h?r<h&&(h=r):h=r}return h};l.sqdistToFiniteLine=function(d,b,a,c,e,f){var m=
[d-a,b-c],k=[e-a,f-c];a=k[0]*k[0]+k[1]*k[1];c=m[0]*m[0]+m[1]*m[1];m=m[0]*k[0]+m[1]*k[1];k=m*m/a;return 0>m?c:k>a?(d-e)*(d-e)+(b-f)*(b-f):c-k};l.pointInsidePolygonPoints=function(d,b,a){for(var c=void 0,e,f=void 0,m=void 0,k=0,h=0;h<a.length/2;h++)(c=a[2*h],e=a[2*h+1],h+1<a.length/2?(f=a[2*(h+1)],m=a[2*(h+1)+1]):(f=a[2*(h+1-a.length/2)],m=a[2*(h+1-a.length/2)+1]),c!=d||f!=d)&&(c>=d&&d>=f||c<=d&&d<=f)&&(d-c)/(f-c)*(m-e)+e>b&&k++;return 0!=k%2};l.pointInsidePolygon=function(d,b,a,c,e,f,m,k,h){var t=
Array(a.length),q=void 0;null!=k[0]?(q=Math.atan(k[1]/k[0]),0>k[0]?q+=Math.PI/2:q=-q-Math.PI/2):q=k;k=Math.cos(-q);q=Math.sin(-q);for(var r=0;r<t.length/2;r++)t[2*r]=f/2*(a[2*r]*k-a[2*r+1]*q),t[2*r+1]=m/2*(a[2*r+1]*k+a[2*r]*q),t[2*r]+=c,t[2*r+1]+=e;0<h?(a=this.expandPolygon(t,-h),a=this.joinLines(a)):a=t;return l.pointInsidePolygonPoints(d,b,a)};l.joinLines=function(d){for(var b=Array(d.length/2),a,c,e,f,m=void 0,k=void 0,h=void 0,t=void 0,q=0;q<d.length/4;q++)a=d[4*q],c=d[4*q+1],e=d[4*q+2],f=d[4*
q+3],q<d.length/4-1?(m=d[4*(q+1)],k=d[4*(q+1)+1],h=d[4*(q+1)+2],t=d[4*(q+1)+3]):(m=d[0],k=d[1],h=d[2],t=d[3]),a=this.finiteLinesIntersect(a,c,e,f,m,k,h,t,!0),b[2*q]=a[0],b[2*q+1]=a[1];return b};l.expandPolygon=function(d,b){for(var a=Array(2*d.length),c,e,f=void 0,m=void 0,k=0;k<d.length/2;k++){c=d[2*k];e=d[2*k+1];k<d.length/2-1?(f=d[2*(k+1)],m=d[2*(k+1)+1]):(f=d[0],m=d[1]);var h=m-e,t=-(f-c),q=Math.sqrt(h*h+t*t);h/=q;t/=q;a[4*k]=c+h*b;a[4*k+1]=e+t*b;a[4*k+2]=f+h*b;a[4*k+3]=m+t*b}return a};l.intersectLineEllipse=
function(d,b,a,c,e,f){e=(a-d)/e;f=(c-b)/f;f=Math.sqrt(e*e+f*f);e=f-1;if(0>e)return[];f=e/f;return[(a-d)*f+d,(c-b)*f+b]};l.checkInEllipse=function(d,b,a,c,e,f,m){return d-=e,b-=f,d/=a/2+m,b/=c/2+m,1>=d*d+b*b};l.intersectLineCircle=function(d,b,a,c,e,f,m){a=[a-d,c-b];c=[d-e,b-f];e=a[0]*a[0]+a[1]*a[1];f=2*(c[0]*a[0]+c[1]*a[1]);c=f*f-4*e*(c[0]*c[0]+c[1]*c[1]-m*m);if(0>c)return[];m=(-f+Math.sqrt(c))/(2*e);f=(-f-Math.sqrt(c))/(2*e);e=Math.min(m,f);f=Math.max(m,f);m=[];if(0<=e&&1>=e&&m.push(e),0<=f&&1>=
f&&m.push(f),0===m.length)return[];e=m[0]*a[0]+d;f=m[0]*a[1]+b;return 1<m.length?m[0]==m[1]?[e,f]:[e,f,m[1]*a[0]+d,m[1]*a[1]+b]:[e,f]};l.findCircleNearPoint=function(d,b,a,c,e){c-=d;e-=b;var f=Math.sqrt(c*c+e*e);return[d+c/f*a,b+e/f*a]};l.findMaxSqDistanceToOrigin=function(d){for(var b=1E-6,a=void 0,c=0;c<d.length/2;c++)(a=d[2*c]*d[2*c]+d[2*c+1]*d[2*c+1])>b&&(b=a);return b};l.midOfThree=function(d,b,a){return b<=d&&d<=a||a<=d&&d<=b?d:d<=b&&b<=a||a<=b&&b<=d?b:a};l.finiteLinesIntersect=function(d,b,
a,c,e,f,m,k,h){var t=d-e,q=a-d,r=m-e,u=b-f,l=c-b,w=k-f,g=r*u-w*t;t=q*u-l*t;r=w*q-r*l;return 0!==r?(a=g/r,c=t/r,-.001<=a&&1.001>=a&&-.001<=c&&1.001>=c?[d+a*q,b+a*l]:h?[d+a*q,b+a*l]:[]):0===g||0===t?this.midOfThree(d,a,m)===m?[m,k]:this.midOfThree(d,a,e)===e?[e,f]:this.midOfThree(e,m,a)===a?[a,c]:[]:[]};l.polygonIntersectLine=function(d,b,a,c,e,f,m,k){var h=[],t=Array(a.length),q=!0;5===arguments.length&&(q=!1);if(q){for(q=0;q<t.length/2;q++)t[2*q]=a[2*q]*f+c,t[2*q+1]=a[2*q+1]*m+e;0<k&&(t=l.expandPolygon(t,
-k),t=l.joinLines(t))}else t=a;for(var r,u=q=void 0,y=0;y<t.length/2;y++){var w=t[2*y];r=t[2*y+1];y<t.length/2-1?(q=t[2*(y+1)],u=t[2*(y+1)+1]):(q=t[0],u=t[1]);w=this.finiteLinesIntersect(d,b,c,e,w,r,q,u);0!==w.length&&h.push(w[0],w[1])}return h};l.shortenIntersection=function(d,b,a){d=[d[0]-b[0],d[1]-b[1]];var c=Math.sqrt(d[0]*d[0]+d[1]*d[1]);a=(c-a)/c;return 0>a&&(a=1E-5),[b[0]+a*d[0],b[1]+a*d[1]]};l.generateUnitNgonPointsFitToSquare=function(d,b){d=l.generateUnitNgonPoints(d,b);return l.fitPolygonToSquare(d)};
l.fitPolygonToSquare=function(d){for(var b,a,c=d.length/2,e=1/0,f=1/0,m=-1/0,k=-1/0,h=0;h<c;h++)b=d[2*h],a=d[2*h+1],e=Math.min(e,b),m=Math.max(m,b),f=Math.min(f,a),k=Math.max(k,a);h=2/(m-e);for(var t=2/(k-f),q=0;q<c;q++)b=d[2*q]*=h,a=d[2*q+1]*=t,e=Math.min(e,b),m=Math.max(m,b),f=Math.min(f,a),k=Math.max(k,a);if(-1>f)for(b=0;b<c;b++)d[2*b+1]+=-1-f;return d};l.generateUnitNgonPoints=function(d,b){var a=1/d*2*Math.PI,c=0==d%2?Math.PI/2+a/2:Math.PI/2;c+=b;b=Array(2*d);for(var e,f=0;f<d;f++)e=f*a+c,b[2*
f]=Math.cos(e),b[2*f+1]=Math.sin(-e);return b};l.getRoundRectangleRadius=function(d,b){return Math.min(d/4,b/4,8)};l.getCutRectangleCornerLength=function(){return 8};l.bezierPtsToQuadCoeff=function(d,b,a){return[d-2*b+a,2*(b-d),d]};l.getBarrelCurveConstants=function(d,b){return{heightOffset:Math.min(15,.05*b),widthOffset:Math.min(100,.25*d),ctrlPtOffsetPct:.05}};p.exports=l},function(p,n,g){p.exports="undefined"==typeof window?null:window},function(p,n,g){var l=g(1),d={};[g(44),g(46),g(47)].forEach(function(b){l.assign(d,
b)});p.exports=d},function(p,n,g){var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},d=function h(a){if(!(this instanceof h))return new h(a);this.id="Thenable/1.0.7";this.state=0;this.rejectReason=this.fulfillValue=void 0;this.onFulfilled=[];this.onRejected=[];this.proxy={then:this.then.bind(this)};"function"==typeof a&&a.call(this,this.fulfill.bind(this),
this.reject.bind(this))};d.prototype={fulfill:function(a){return b(this,1,"fulfillValue",a)},reject:function(a){return b(this,2,"rejectReason",a)},then:function(c,b){var k=new d;return this.onFulfilled.push(e(c,k,"fulfill")),this.onRejected.push(e(b,k,"reject")),a(this),k.proxy}};var b=function(c,e,b,f){return 0===c.state&&(c.state=e,c[b]=f,a(c)),c},a=function(a){1===a.state?c(a,"onFulfilled",a.fulfillValue):2===a.state&&c(a,"onRejected",a.rejectReason)},c=function(a,c,e){if(0!==a[c].length){var b=
a[c];a[c]=[];a=function(){for(var a=0;a<b.length;a++)b[a](e)};"function"==typeof setImmediate?setImmediate(a):setTimeout(a,0)}},e=function(a,c,e){return function(b){if("function"!=typeof a)c[e].call(c,b);else{try{var k=a(b)}catch(u){return void c.reject(u)}f(c,k)}}},f=function q(a,c){if(a===c||a.proxy===c)return void a.reject(new TypeError("cannot resolve promise with itself"));if("object"===(void 0===c?"undefined":l(c))&&null!==c||"function"==typeof c)try{var e=c.then}catch(y){return void a.reject(y)}if("function"!=
typeof e)a.fulfill(c);else{var b=!1;try{e.call(c,function(e){b||(b=!0,e===c?a.reject(new TypeError("circular thenable chain")):q(a,e))},function(c){b||(b=!0,a.reject(c))})}catch(y){b||a.reject(y)}}};d.all=function(a){return new d(function(c,e){for(var b=Array(a.length),f=0,h=0;h<a.length;h++)!function(h){var d=a[h];null!=d&&null!=d.then?d.then(function(e){b[h]=e;++f===a.length&&c(b)},function(a){e(a)}):(b[h]=d,++f===a.length&&c(b))}(h)})};d.resolve=function(a){return new d(function(c,e){c(a)})};d.reject=
function(a){return new d(function(c,e){e(a)})};p.exports="undefined"!=typeof Promise?Promise:d},function(p,n,g){var l=g(0),d=g(1),b=g(10);n=function(a){if(this._private={selectorText:a,invalid:!0},null==a||l.string(a)&&a.match(/^\s*$/))this.length=0;else if("*"===a||"edge"===a||"node"===a)this[0]=b(),this[0].group="*"===a?a:a+"s",this[0].groupOnly=!0,this[0].length=1,this._private.invalid=!1,this.length=1;else if(l.elementOrCollection(a))a=a.collection(),this[0]=b(),this[0].collection=a,this.length=
this[0].length=1;else if(l.fn(a))this[0]=b(),this[0].filter=a,this.length=this[0].length=1;else{if(!l.string(a))return void d.error("A selector must be created from a string; found ",a);if(!this.parse(a))return}this._private.invalid=!1};var a=n.prototype;a.valid=function(){return!this._private.invalid};a.invalid=function(){return this._private.invalid};a.text=function(){return this._private.selectorText};a.size=function(){return this.length};a.eq=function(a){return this[a]};a.sameText=function(a){return this.text()===
a.text()};a.toString=a.selector=function(){if(null!=this._private.toStringCache)return this._private.toStringCache;var a=void 0,e="",b=function(a){return null==a?"":a},d=function(a){return l.string(a)?'"'+a+'"':b(a)};for(a=0;a<this.length;a++)e+=function t(c){var e="";c.subject===c&&(e+="$");var f=b(c.group);e+=f.substring(0,f.length-1);for(f=0;f<c.data.length;f++){var h=c.data[f];h.value?e+="["+h.field+(" "+b(h.operator)+" ")+d(h.value)+"]":e+="["+b(h.operator)+h.field+"]"}for(f=0;f<c.meta.length;f++)h=
c.meta[f],e+="[["+h.field+(" "+b(h.operator)+" ")+d(h.value)+"]]";for(f=0;f<c.colonSelectors.length;f++)h=c.colonSelectors[a],e+=h;for(f=0;f<c.ids.length;f++)h="#"+c.ids[a],e+=h;for(f=0;f<c.classes.length;f++)h="."+c.classes[f],e+=h;if(null!=c.source&&null!=c.target&&(e=t(c.source)+" -> "+t(c.target)),null!=c.connectedNodes)e=c.connectedNodes,e=t(e[0])+" <-> "+t(e[1]);return null!=c.parent&&(e=t(c.parent)+" > "+e),null!=c.ancestor&&(e=t(c.ancestor)+" "+e),null!=c.child&&(e+=" > "+t(c.child)),null!=
c.descendant&&(e+=" "+t(c.descendant)),e}(this[a]),1<this.length&&a<this.length-1&&(e+=", ");return this._private.toStringCache=e,e};[g(50),g(53)].forEach(function(c){return d.assign(a,c)});p.exports=n},function(p,n,g){var l=g(1),d=g(0),b=g(28),a=g(8),c=g(14),e={generate:function(a,c,e){for(c=null!=e?e:l.uuid();a.hasElementWithId(c);)c=l.uuid();return c}},f=function(f,h,m){if(void 0===f||!d.core(f))return void l.error("A collection must have a reference to the core");var k=new b,t=!1;if(h){if(0<h.length&&
d.plainObject(h[0])&&!d.element(h[0])){t=!0;for(var u=[],y=new a,w=0,g=h.length;w<g;w++){var x=h[w];null==x.data&&(x.data={});var A=x.data;if(null==A.id)A.id=e.generate(f,x);else if(f.hasElementWithId(A.id)||y.has(A.id))continue;x=new c(f,x,!1);u.push(x);y.add(A.id)}h=u}}else h=[];u=this.length=0;for(y=h.length;u<y;u++)w=h[u],null!=w&&(g=w._private.data.id,(null==m||m.unique&&!k.has(g))&&(k.set(g,{index:this.length,ele:w}),this[this.length]=w,this.length++));this._private={cy:f,map:k};t&&this.restore()},
m=c.prototype=f.prototype;m.instanceString=function(){return"collection"};m.spawn=function(a,c,e){return d.core(a)||(e=c,c=a,a=this.cy()),new f(a,c,e)};m.spawnSelf=function(){return this.spawn(this)};m.cy=function(){return this._private.cy};m.renderer=function(){return this._private.cy.renderer()};m.element=function(){return this[0]};m.collection=function(){return d.collection(this)?this:new f(this._private.cy,[this])};m.unique=function(){return new f(this._private.cy,this,{unique:!0})};m.hasElementWithId=
function(a){return this._private.map.has(a)};m.getElementById=function(a){var c=this._private.cy;return(a=this._private.map.get(a))?a.ele:new f(c)};m.$id=m.getElementById;m.poolIndex=function(){return this._private.cy._private.elements._private.map.get(this._private.data.id).index};m.json=function(a){var c=this.element(),e=this.cy();if(null==c&&a)return this;if(null!=c){var b=c._private;if(d.plainObject(a)){e.startBatch();a.data&&c.data(a.data);a.position&&c.position(a.position);var f=function(e,
f,k){var h=a[e];null!=h&&h!==b[e]&&(h?c[f]():c[k]())};return f("removed","remove","restore"),f("selected","select","unselect"),f("selectable","selectify","unselectify"),f("locked","lock","unlock"),f("grabbable","grabify","ungrabify"),null!=a.classes&&c.classes(a.classes),e.endBatch(),this}if(void 0===a){var k={data:l.copy(b.data),position:l.copy(b.position),group:b.group,removed:b.removed,selected:b.selected,selectable:b.selectable,locked:b.locked,grabbable:b.grabbable,classes:""},m=0;return b.classes.forEach(function(a){return k.classes+=
0==m++?a:" "+a}),k}}};m.jsons=function(){for(var a=[],c=0;c<this.length;c++){var e=this[c].json();a.push(e)}return a};m.clone=function(){for(var a=this.cy(),e=[],b=0;b<this.length;b++){var d=this[b].json();d=new c(a,d,!1);e.push(d)}return new f(a,e)};m.copy=m.clone;m.restore=function(a){var c=this.cy(),k=c._private;void 0===a&&(a=!0);for(var m=[],r=[],u=void 0,y=0,w=this.length;y<w;y++){var g=this[y];g.removed()&&(g.isNode()?m.push(g):r.push(g))}u=m.concat(r);var n=void 0;r=function(){u.splice(n,
1);n--};for(n=0;n<u.length;n++){y=u[n];w=y._private;var A=w.data;if(y.clearTraversalCache(),void 0===A.id)A.id=e.generate(c,y);else if(d.number(A.id))A.id=""+A.id;else{if(d.emptyString(A.id)||!d.string(A.id)){l.error("Can not create element with invalid string ID `"+A.id+"`");r();continue}if(c.hasElementWithId(A.id)){l.error("Can not create second element with ID `"+A.id+"`");r();continue}}g=A.id;if(y.isNode()){var G=w.position;null==G.x&&(G.x=0);null==G.y&&(G.y=0)}if(y.isEdge()){G=y;for(var B=["source",
"target"],C=B.length,p=!1,F=0;F<C;F++){var D=B[F],H=A[D];d.number(H)&&(H=A[D]=""+A[D]);null==H||""===H?(l.error("Can not create edge `"+g+"` with unspecified "+D),p=!0):c.hasElementWithId(H)||(l.error("Can not create edge `"+g+"` with nonexistant "+D+" `"+H+"`"),p=!0)}if(p){r();continue}B=c.getElementById(A.source);A=c.getElementById(A.target);B._private.edges.push(G);A._private.edges.push(G);G._private.source=B;G._private.target=A}w.map=new b;w.map.set(g,{ele:y,index:0});w.removed=!1;c.addToPool(y)}for(r=
0;r<m.length;r++)if(y=m[r],w=y._private.data,d.number(w.parent)&&(w.parent=""+w.parent),g=w.parent,null!=g)if(g=c.getElementById(g),g.empty())w.parent=void 0;else{A=!1;for(G=g;!G.empty();){if(y.same(G)){A=!0;w.parent=void 0;break}G=G.parent()}A||(g[0]._private.children.push(y),y._private.parent=g[0],k.hasCompoundNodes=!0)}if(0<u.length){m=new f(c,u);for(r=0;r<m.length;r++)y=m[r],y.isNode()||(y.parallelEdges().clearTraversalCache(),y.source().clearTraversalCache(),y.target().clearTraversalCache());
r=void 0;r=k.hasCompoundNodes?c.collection().merge(m).merge(m.connectedNodes()).merge(m.parent()):m;r.dirtyCompoundBoundsCache().updateStyle(a);a?m.emitAndNotify("add"):m.emit("add")}return this};m.removed=function(){var a=this[0];return a&&a._private.removed};m.inside=function(){var a=this[0];return a&&!a._private.removed};m.remove=function(a){function c(a){var e=d[a.id()];if(!a.removed()&&!e)if(d[a.id()]=!0,a.isNode()){k.push(a);e=a._private.edges;for(var b=0;b<e.length;b++)c(e[b]);a=a._private.children;
for(e=0;e<a.length;e++)c(a[e])}else k.unshift(a)}function e(a,c){l.removeFromArray(a._private.edges,c);a.clearTraversalCache()}var b=[],k=[],d={},m=this._private.cy;void 0===a&&(a=!0);for(var g=0,v=this.length;g<v;g++)c(this[g]);var n=[];n.ids={};this.dirtyCompoundBoundsCache();m.removeFromPool(k);for(g=0;g<k.length;g++)if(v=k[g],v._private.removed=!0,b.push(v),v.isEdge()){var A=v.source()[0],G=v.target()[0];e(A,v);e(G,v);v.parallelEdges().clearTraversalCache()}else A=v.parent(),0!==A.length&&function(a,
c){c=c[0];a=a[0];var e=a._private.children,b=a.id();l.removeFromArray(e,c);n.ids[b]||(n.ids[b]=!0,n.push(a))}(A,v);g=m._private.elements;m._private.hasCompoundNodes=!1;for(v=0;v<g.length;v++)if(g[v].isParent()){m._private.hasCompoundNodes=!0;break}g=new f(this.cy(),b);0<g.size()&&(a&&this.cy().notify({type:"remove",eles:g}),g.emit("remove"));for(a=0;a<n.length;a++)g=n[a],g.removed()||g.updateStyle();return new f(m,b)};m.move=function(a){var c=this._private.cy;if(void 0!==a.source||void 0!==a.target){var e=
a.source;a=a.target;var b=c.hasElementWithId(e),f=c.hasElementWithId(a);if(b||f){var k=this.jsons();this.remove();for(var d=0;d<k.length;d++){var m=k[d],l=this[d];"edges"===m.group&&(b&&(m.data.source=e),f&&(m.data.target=a),m.scratch=l._private.scratch)}return c.add(k)}}else if(void 0!==a.parent&&(e=a.parent,null===e||c.hasElementWithId(e))){a=this.jsons();b=this.descendants();b=b.union(b.union(this).connectedEdges()).jsons();this.remove();for(f=0;f<a.length;f++)k=a[f],d=this[f],"nodes"===k.group&&
(k.data.parent=null===e?void 0:e,k.scratch=d._private.scratch);return c.add(a.concat(b))}return this};[g(29),g(43),g(48),g(49),g(54),g(55),g(56),g(57),g(62),g(63),g(64),g(7),g(65),g(66),g(67),g(68),g(69)].forEach(function(a){l.extend(m,a)});p.exports=f},function(p,n,g){var l=function(){function d(b,a){for(var c=0;c<a.length;c++){var e=a[c];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(b,e.key,e)}}return function(b,a,c){return a&&d(b.prototype,a),
c&&d(b,c),b}}();n=("function"==typeof Symbol&&Symbol.iterator,function(){function d(b){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");if(this._obj=Object.create(null),null!=b){b=null!=b.instanceString&&b.instanceString()===this.instanceString()?b.toArray():b;for(var a=0;a<b.length;a++)this.add(b[a])}}return l(d,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(b){this._obj[b]=1}},{key:"delete",value:function(b){this._obj[b]=0}},{key:"clear",
value:function(){this._obj=Object.create(null)}},{key:"has",value:function(b){return 1===this._obj[b]}},{key:"toArray",value:function(){var b=this;return Object.keys(this._obj).filter(function(a){return b.has(a)})}},{key:"forEach",value:function(b,a){return this.toArray().forEach(b,a)}},{key:"size",get:function(){return this.toArray().length}}]),d}());p.exports=n},function(p,n,g){p.exports=g(32)},function(p,n,g){p.exports=function(){return{classes:[],colonSelectors:[],data:[],group:null,ids:[],meta:[],
collection:null,filter:null,parent:null,ancestor:null,subject:null,child:null,descendant:null}}},function(p,n,g){function l(a){d.assign(this,e,a);this.listeners=[];this.emitting=0}var d=g(1),b=g(0),a=g(16),c=/^([^.]+)(\.(?:[^.]+))?$/,e={qualifierCompare:function(a,c){return a===c},eventMatches:function(){return!0},eventFields:function(){return{}},callbackContext:function(a){return a},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:void 0};
n=l.prototype;var f=function(a,e,f,k,m,l,g){b.fn(k)&&(m=k,k=null);g&&(l=null==l?g:d.assign({},l,g));f=f.split(/\s+/);for(g=0;g<f.length;g++){var h=f[g];if(!b.emptyString(h)){var t=h.match(c);if(t&&!1===e(a,h,t[1],t[2]?t[2]:null,k,m,l))break}}},m=function(c,e){return new a(e.type,d.assign(e,c.eventFields(c.context)))},k=function(a,e,f){if(b.event(f))return void e(a,f);if(b.plainObject(f))return void e(a,m(a,f));f=f.split(/\s+/);for(var k=0;k<f.length;k++){var d=f[k];b.emptyString(d)||(d=d.match(c))&&
e(a,m(a,{type:d[1],namespace:d[2]?d[2]:null,target:a.context}))}};n.on=n.addListener=function(a,c,e,k,d){return f(this,function(a,c,e,f,k,d,h){b.fn(d)&&a.listeners.push({event:c,callback:d,type:e,namespace:f,qualifier:k,conf:h})},a,c,e,k,d),this};n.one=function(a,c,e,b){return this.on(a,c,e,b,{one:!0})};n.removeListener=n.off=function(a,c,e,b){var k=this;0!==this.emitting&&(this.listeners=d.copyArray(this.listeners));for(var h=this.listeners,m=h.length-1;0<=m;m--)!function(d){var m=h[d];f(k,function(a,
c,e,b,f,k){if(!(m.type!==e||b&&m.namespace!==b||f&&!a.qualifierCompare(m.qualifier,f)||k&&m.callback!==k))return h.splice(d,1),!1},a,c,e,b)}(m);return this};n.emit=n.trigger=function(a,c,e){var f=this.listeners,h=f.length;return this.emitting++,b.array(c)||(c=[c]),k(this,function(a,b){null!=e&&(f=[{event:b.event,type:b.type,namespace:b.namespace,callback:e}],h=f.length);for(var k=0;k<h;k++)!function(e){var k=f[e];if(k.type===b.type&&(!k.namespace||k.namespace===b.namespace||".*"===k.namespace)&&a.eventMatches(a.context,
k,b)){e=[b];null!=c&&d.push(e,c);a.beforeEmit(a.context,k,b);k.conf&&k.conf.one&&(a.listeners=a.listeners.filter(function(a){return a!==k}));var h=a.callbackContext(a.context,k,b);e=k.callback.apply(h,e);a.afterEmit(a.context,k,b);!1===e&&(b.stopPropagation(),b.preventDefault())}}(k);a.bubble(a.context)&&!b.isPropagationStopped()&&a.parent(a.context).emit(b,c)},a),this.emitting--,this};p.exports=l},function(p,n,g){var l=g(3),d=g(1),b=g(7),a=g(0),c=g(5);n=g(4);var e=function(e){var f=this;e=d.extend({},
e);var h=e.container;h&&!a.htmlElement(h)&&a.htmlElement(h[0])&&(h=h[0]);var m=h?h._cyreg:null;(m=m||{},m.cy)&&(m.cy.destroy(),m={});var q=m.readies=m.readies||[];h&&(h._cyreg=m);m.cy=f;var r=void 0!==l&&void 0!==h&&!e.headless,u=e;u.layout=d.extend({name:r?"grid":"null"},u.layout);u.renderer=d.extend({name:r?"canvas":"null"},u.renderer);e=function(a,c,e){return void 0!==c?c:void 0!==e?e:a};var g=this._private={container:h,ready:!1,options:u,elements:new b(this),listeners:[],aniEles:new b(this),scratch:{},
layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1E-50,maxZoom:1E50,zoomingEnabled:e(!0,u.zoomingEnabled),userZoomingEnabled:e(!0,u.userZoomingEnabled),panningEnabled:e(!0,u.panningEnabled),userPanningEnabled:e(!0,u.userPanningEnabled),boxSelectionEnabled:e(!0,u.boxSelectionEnabled),autolock:e(!1,u.autolock,u.autolockNodes),autoungrabify:e(!1,u.autoungrabify,u.autoungrabifyNodes),autounselectify:e(!1,u.autounselectify),styleEnabled:void 0===u.styleEnabled?r:u.styleEnabled,zoom:a.number(u.zoom)?
u.zoom:1,pan:{x:a.plainObject(u.pan)&&a.number(u.pan.x)?u.pan.x:0,y:a.plainObject(u.pan)&&a.number(u.pan.y)?u.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1};this.createEmitter();h=u.selectionType;g.selectionType=void 0===h||"additive"!==h&&"single"!==h?"single":h;a.number(u.minZoom)&&a.number(u.maxZoom)&&u.minZoom<u.maxZoom?(g.minZoom=u.minZoom,g.maxZoom=u.maxZoom):a.number(u.minZoom)&&void 0===u.maxZoom?g.minZoom=u.minZoom:a.number(u.maxZoom)&&void 0===u.minZoom&&(g.maxZoom=u.maxZoom);
g.styleEnabled&&f.setStyle([]);f.initRenderer(d.extend({hideEdgesOnViewport:u.hideEdgesOnViewport,textureOnViewport:u.textureOnViewport,wheelSensitivity:a.number(u.wheelSensitivity)&&0<u.wheelSensitivity?u.wheelSensitivity:1,motionBlur:void 0!==u.motionBlur&&u.motionBlur,motionBlurOpacity:void 0===u.motionBlurOpacity?.05:u.motionBlurOpacity,pixelRatio:a.number(u.pixelRatio)&&0<u.pixelRatio?u.pixelRatio:void 0,desktopTapThreshold:void 0===u.desktopTapThreshold?4:u.desktopTapThreshold,touchTapThreshold:void 0===
u.touchTapThreshold?8:u.touchTapThreshold},u.renderer));var w=function(c,e,b){f.notifications(!1);var k=f.mutableElements();0<k.length&&k.remove();null!=c&&(a.plainObject(c)||a.array(c))&&f.add(c);f.one("layoutready",function(a){f.notifications(!0);f.emit(a);f.notify({type:"load",eles:f.mutableElements()});f.one("load",e);f.emit("load")}).one("layoutstop",function(){f.one("done",b);f.emit("done")});c=d.extend({},f._private.options.layout);c.eles=f.elements();f.layout(c).run()};!function(e,b){if(e.some(a.promise))return c.all(e).then(b);
b(e)}([u.style,u.elements],function(c){var e=c[0];c=c[1];g.styleEnabled&&f.style().append(e);w(c,function(){f.startAnimationLoop();g.ready=!0;a.fn(u.ready)&&f.on("ready",u.ready);for(var c=0;c<q.length;c++)f.on("ready",q[c]);m&&(m.readies=[]);f.emit("ready")},u.done)})},f=e.prototype;d.extend(f,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},isDestroyed:function(){return this._private.destroyed},ready:function(a){return this.isReady()?this.emitter().emit("ready",
[],a):this.on("ready",a),this},destroy:function(){if(!this.isDestroyed())return this.stopAnimationLoop(),this.destroyRenderer(),this.emit("destroy"),this._private.destroyed=!0,this},hasElementWithId:function(a){return this._private.elements.hasElementWithId(a)},getElementById:function(a){return this._private.elements.getElementById(a)},selectionType:function(){return this._private.selectionType},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return"null"===
this._private.options.renderer.name},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(a){return this._private.elements.merge(a),this},removeFromPool:function(a){return this._private.elements.unmerge(a),this},container:function(){return this._private.container},options:function(){return d.copy(this._private.options)},json:function(c){var e=this,b=e._private,f=e.mutableElements();if(a.plainObject(c)){if(e.startBatch(),c.elements){var m={},r=function(a,c){for(var b=0;b<a.length;b++){var f=
a[b],k=f.data.id,h=e.getElementById(k);m[k]=!0;0!==h.length?h.json(f):c?e.add(d.extend({group:c},f)):e.add(f)}};if(a.array(c.elements))r(c.elements);else for(var l=["nodes","edges"],g=0;g<l.length;g++){var w=l[g],n=c.elements[w];a.array(n)&&r(n,w)}f.stdFilter(function(a){return!m[a.id()]}).remove()}c.style&&e.style(c.style);null!=c.zoom&&c.zoom!==b.zoom&&e.zoom(c.zoom);c.pan&&(c.pan.x===b.pan.x&&c.pan.y===b.pan.y||e.pan(c.pan));b="minZoom maxZoom zoomingEnabled userZoomingEnabled panningEnabled userPanningEnabled boxSelectionEnabled autolock autoungrabify autounselectify".split(" ");
for(f=0;f<b.length;f++)r=b[f],null!=c[r]&&e[r](c[r]);return e.endBatch(),this}if(void 0===c){var x={};return x.elements={},f.forEach(function(a){var c=a.group();x.elements[c]||(x.elements[c]=[]);x.elements[c].push(a.json())}),this._private.styleEnabled&&(x.style=e.style().json()),x.zoomingEnabled=e._private.zoomingEnabled,x.userZoomingEnabled=e._private.userZoomingEnabled,x.zoom=e._private.zoom,x.minZoom=e._private.minZoom,x.maxZoom=e._private.maxZoom,x.panningEnabled=e._private.panningEnabled,x.userPanningEnabled=
e._private.userPanningEnabled,x.pan=d.copy(e._private.pan),x.boxSelectionEnabled=e._private.boxSelectionEnabled,x.renderer=d.copy(e._private.options.renderer),x.hideEdgesOnViewport=e._private.options.hideEdgesOnViewport,x.textureOnViewport=e._private.options.textureOnViewport,x.wheelSensitivity=e._private.options.wheelSensitivity,x.motionBlur=e._private.options.motionBlur,x}},scratch:n.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,
triggerFnName:"trigger",allowGetting:!0}),removeScratch:n.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0})});f.$id=f.getElementById;[g(70),g(71),g(79),g(80),g(81),g(82),g(83),g(84),g(85),g(94)].forEach(function(a){d.extend(f,a)});p.exports=e},function(p,n,g){p.exports=function(l,d){d||(d=function(){if(1===arguments.length)return arguments[0];if(0===arguments.length)return"undefined";for(var a=[],c=0;c<arguments.length;c++)a.push(arguments[c]);return a.join("$")});
var b=function c(){var e=arguments,b=void 0,m=d.apply(this,e),k=c.cache;return(b=k[m])||(b=k[m]=l.apply(this,e)),b};return b.cache={},b}},function(p,n,g){var l=g(1),d=g(0),b=g(8);p.exports=function(a,c,e){if(e=!(void 0!==e&&!e),void 0===a||void 0===c||!d.core(a))return void l.error("An element must have a core reference and parameters set");var f=c.group;if(null==f&&(f=c.data&&null!=c.data.source&&null!=c.data.target?"edges":"nodes"),"nodes"!==f&&"edges"!==f)return void l.error("An element must be of type `nodes` or `edges`; you specified `"+
f+"`");this.length=1;this[0]=this;f=this._private={cy:a,single:!0,data:c.data||{},position:c.position||{},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:f,style:{},rstyle:{},styleCxts:[],removed:!0,selected:!!c.selected,selectable:void 0===c.selectable||!!c.selectable,locked:!!c.locked,grabbed:!1,grabbable:void 0===c.grabbable||!!c.grabbable,active:!1,classes:new b,animation:{current:[],queue:[]},rscratch:{},scratch:c.scratch||{},edges:[],children:[],
parent:null,traversalCache:{},backgrounding:!1};if(c.renderedPosition){var m=c.renderedPosition,k=a.pan(),h=a.zoom();f.position={x:(m.x-k.x)/h,y:(m.y-k.y)/h}}if(d.string(c.classes))for(m=c.classes.split(/\s+/),k=0,h=m.length;k<h;k++){var t=m[k];t&&""!==t&&f.classes.add(t)}(c.style||c.css)&&a.style().applyBypass(this,c.style||c.css);this.createEmitter();(void 0===e||e)&&this.restore()}},function(p,n,g){var l=g(1),d=[{selector:":selected",matches:function(b){return b.selected()}},{selector:":unselected",
matches:function(b){return!b.selected()}},{selector:":selectable",matches:function(b){return b.selectable()}},{selector:":unselectable",matches:function(b){return!b.selectable()}},{selector:":locked",matches:function(b){return b.locked()}},{selector:":unlocked",matches:function(b){return!b.locked()}},{selector:":visible",matches:function(b){return b.visible()}},{selector:":hidden",matches:function(b){return!b.visible()}},{selector:":transparent",matches:function(b){return b.transparent()}},{selector:":grabbed",
matches:function(b){return b.grabbed()}},{selector:":free",matches:function(b){return!b.grabbed()}},{selector:":removed",matches:function(b){return b.removed()}},{selector:":inside",matches:function(b){return!b.removed()}},{selector:":grabbable",matches:function(b){return b.grabbable()}},{selector:":ungrabbable",matches:function(b){return!b.grabbable()}},{selector:":animated",matches:function(b){return b.animated()}},{selector:":unanimated",matches:function(b){return!b.animated()}},{selector:":parent",
matches:function(b){return b.isParent()}},{selector:":childless",matches:function(b){return b.isChildless()}},{selector:":child",matches:function(b){return b.isChild()}},{selector:":orphan",matches:function(b){return b.isOrphan()}},{selector:":nonorphan",matches:function(b){return b.isChild()}},{selector:":loop",matches:function(b){return b.isLoop()}},{selector:":simple",matches:function(b){return b.isSimple()}},{selector:":active",matches:function(b){return b.active()}},{selector:":inactive",matches:function(b){return!b.active()}},
{selector:":backgrounding",matches:function(b){return b.backgrounding()}},{selector:":nonbackgrounding",matches:function(b){return!b.backgrounding()}}].sort(function(b,a){return l.sort.descending(b.selector,a.selector)});n="("+d.map(function(b){return b.selector}).join("|")+")";p.exports={stateSelectors:d,stateSelectorMatches:function e(a,c){return(e.lookup=e.lookup||function(){for(var a={},c,e=0;e<d.length;e++)c=d[e],a[c.selector]=c.matches;return a}())[a](c)},stateSelectorRegex:n}},function(p,n,
g){function l(){return!1}function d(){return!0}n=function(b,a){this.recycle(b,a)};n.prototype={instanceString:function(){return"event"},recycle:function(b,a){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=l,null!=b&&b.preventDefault?(this.type=b.type,this.isDefaultPrevented=b.defaultPrevented?d:l):null!=b&&b.type?a=b:this.type=b,null!=a&&(this.originalEvent=a.originalEvent,this.type=null!=a.type?a.type:this.type,this.cy=a.cy,this.target=a.target,this.position=
a.position,this.renderedPosition=a.renderedPosition,this.namespace=a.namespace,this.layout=a.layout),null!=this.cy&&null!=this.position&&null==this.renderedPosition){a=this.position;var c=this.cy.zoom(),e=this.cy.pan();this.renderedPosition={x:a.x*c+e.x,y:a.y*c+e.y}}this.timeStamp=b&&b.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=d;var b=this.originalEvent;b&&b.preventDefault&&b.preventDefault()},stopPropagation:function(){this.isPropagationStopped=d;var b=this.originalEvent;
b&&b.stopPropagation&&b.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=d;this.stopPropagation()},isDefaultPrevented:l,isPropagationStopped:l,isImmediatePropagationStopped:l};p.exports=n},function(p,n,g){var l=g(1);p.exports=function(d,b){function a(a){var c=a.pstyle("z-compound-depth");return"auto"===c.value?e?a.zDepth():0:"bottom"===c.value?-1:"top"===c.value?l.MAX_INT:0}function c(a){return"auto"===a.pstyle("z-index-compare").value&&a.isNode()?1:0}var e=
d.cy().hasCompoundNodes(),f=a(d)-a(b);if(0!==f)return f;f=c(d)-c(b);if(0!==f)return f;f=d.pstyle("z-index").value-b.pstyle("z-index").value;return 0!==f?f:d.poolIndex()-b.poolIndex()}},function(p,n,g){var l=g(0),d=g(1),b=g(6),a=function m(a){return this instanceof m?l.core(a)?(this._private={cy:a,coreStyle:{}},this.length=0,void this.resetToDefault()):void d.error("A style must have a core reference"):new m(a)},c=a.prototype;c.instanceString=function(){return"style"};c.clear=function(){for(var a=
0;a<this.length;a++)this[a]=void 0;return this.length=0,this._private.newStyle=!0,this};c.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this};c.core=function(){return this._private.coreStyle};c.selector=function(a){a="core"===a?null:new b(a);var c=this.length++;return this[c]={selector:a,properties:[],mappedProperties:[],index:c},this};c.css=function(){var a=arguments;switch(a.length){case 1:a=a[0];for(var c=0;c<this.properties.length;c++){var b=this.properties[c],h=a[b.name];
void 0===h&&(h=a[d.dash2camel(b.name)]);void 0!==h&&this.cssRule(b.name,h)}break;case 2:this.cssRule(a[0],a[1])}return this};c.style=c.css;c.cssRule=function(a,c){if(a=this.parse(a,c))c=this.length-1,this[c].properties.push(a),this[c].properties[a.name]=a,a.name.match(/pie-(\d+)-background-size/)&&a.value&&(this._private.hasPie=!0),a.mapped&&this[c].mappedProperties.push(a),!this[c].selector&&(this._private.coreStyle[a.name]=a);return this};c.append=function(a){return l.stylesheet(a)?a.appendToStyle(this):
l.array(a)?this.appendFromJson(a):l.string(a)&&this.appendFromString(a),this};a.fromJson=function(c,b){c=new a(c);return c.fromJson(b),c};a.fromString=function(c,b){return(new a(c)).fromString(b)};[g(86),g(87),g(88),g(89),g(90),g(91),g(92),g(93)].forEach(function(a){d.extend(c,a)});a.types=c.types;a.properties=c.properties;p.exports=a},function(p,n,g){var l=g(1);p.exports={setupDequeueing:function(d){return function(){var b=this,a=this.renderer;if(!b.dequeueingSetup){b.dequeueingSetup=!0;var c=l.debounce(function(){a.redrawHint("eles",
!0);a.redrawHint("drag",!0);a.redraw()},d.deqRedrawThreshold);a.beforeRender(function(e,f){for(var m=l.performanceNow(),k=a.averageRedrawTime,h=a.lastRedrawTime,t=[],q=a.cy.extent(),r=a.getPixelRatio();;){var u=l.performanceNow(),g=u-m;u-=f;if(h<1E3/60){if(u>=d.deqFastCost*(1E3/60-(e?k:0)))break}else if(e){if(g>=d.deqCost*h||g>=d.deqAvgCost*k)break}else if(u>=1E3/60*d.deqNoDrawCost)break;g=d.deq(b,r,q);if(!(0<g.length))break;for(u=0;u<g.length;u++)t.push(g[u])}0<t.length&&(d.onDeqd(b,t),!e&&d.shouldRedraw(b,
t,r,q)&&c())},(d.priority||l.noop)(b))}}}}},function(p,n,g){var l=g(0),d=g(12),b=g(95);n=g(137);var a=function(a){return void 0===a&&(a={}),l.plainObject(a)?new d(a):l.string(a)?b.apply(b,arguments):void 0};a.use=function(c){var e=Array.prototype.slice.call(arguments,1);return e.unshift(a),c.apply(null,e),this};a.version=g(138);a.stylesheet=a.Stylesheet=n;p.exports=a},function(p,n,g){var l=g(0);p.exports={hex2tuple:function(d){if((4===d.length||7===d.length)&&"#"===d[0]){var b=void 0,a=void 0,c=void 0;
return 4===d.length?(b=parseInt(d[1]+d[1],16),a=parseInt(d[2]+d[2],16),c=parseInt(d[3]+d[3],16)):(b=parseInt(d[1]+d[2],16),a=parseInt(d[3]+d[4],16),c=parseInt(d[5]+d[6],16)),[b,a,c]}},hsl2tuple:function(d){function b(a,c,e){return 0>e&&(e+=1),1<e&&--e,e<1/6?a+6*(c-a)*e:.5>e?c:e<2/3?a+(c-a)*(2/3-e)*6:a}var a=void 0,c=void 0,e=void 0,f=void 0,m=void 0,k=void 0,h=void 0,t=void 0;if(k=(new RegExp("^"+this.regex.hsla+"$")).exec(d)){if((c=parseInt(k[1]),0>c?c=(360- -1*c%360)%360:360<c&&(c%=360),c/=360,
0>(e=parseFloat(k[2]))||100<e)||(e/=100,0>(f=parseFloat(k[3]))||100<f)||(f/=100,void 0!==(m=k[4])&&(0>(m=parseFloat(m))||1<m)))return;0===e?k=h=t=Math.round(255*f):(a=.5>f?f*(1+e):f+e-f*e,f=2*f-a,k=Math.round(255*b(f,a,c+1/3)),h=Math.round(255*b(f,a,c)),t=Math.round(255*b(f,a,c-1/3)));a=[k,h,t,m]}return a},rgb2tuple:function(d){var b=void 0;if(d=(new RegExp("^"+this.regex.rgba+"$")).exec(d)){b=[];for(var a=[],c=1;3>=c;c++){var e=d[c];if("%"===e[e.length-1]&&(a[c]=!0),e=parseFloat(e),a[c]&&(e=e/100*
255),0>e||255<e)return;b.push(Math.floor(e))}c=a[1]&&a[2]&&a[3];if((a[1]||a[2]||a[3])&&!c)return;d=d[4];if(void 0!==d){if(0>(d=parseFloat(d))||1<d)return;b.push(d)}}return b},colorname2tuple:function(d){return this.colors[d.toLowerCase()]},color2tuple:function(d){return(l.array(d)?d:null)||this.colorname2tuple(d)||this.hex2tuple(d)||this.rgb2tuple(d)||this.hsl2tuple(d)},colors:{transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,
255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,
107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],
gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],
lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,
179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,
239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,
180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}}},function(p,n,g){var l=g(0);p.exports={mapEmpty:function(d){return null==d||0===Object.keys(d).length},pushMap:function(d){var b=this.getMap(d);null==b?this.setMap(this.extend({},d,{value:[d.value]})):b.push(d.value)},setMap:function(d){for(var b=d.map,a=d.keys,c=a.length,
e=0;e<c;e++){var f=a[e];l.plainObject(f)&&this.error("Tried to set map with object key");e<a.length-1?(null==b[f]&&(b[f]={}),b=b[f]):b[f]=d.value}},getMap:function(d){var b=d.map;d=d.keys;for(var a=d.length,c=0;c<a;c++){var e=d[c];if(l.plainObject(e)&&this.error("Tried to get map with object key"),null==(b=b[e]))break}return b},deleteMap:function(d){for(var b=d.map,a=d.keys,c=a.length,e=d.keepChildren,f=0;f<c;f++){var m=a[f];l.plainObject(m)&&this.error("Tried to delete map with object key");if(f===
d.keys.length-1)if(e){m=Object.keys(b);for(var k=0;k<m.length;k++){var h=m[k];e[h]||(b[h]=void 0)}}else b[m]=void 0;else b=b[m]}}}},function(p,n,g){p.exports={regex:{number:"(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",rgba:"rgb[a]?\\(((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)(?:\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)",
rgbaNoBackRefs:"rgb[a]?\\((?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)(?:\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)",hsla:"hsl[a]?\\(((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?)))\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])(?:\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)",
hslaNoBackRefs:"hsl[a]?\\((?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?)))\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])(?:\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)",hex3:"\\#[0-9a-fA-F]{3}",hex6:"\\#[0-9a-fA-F]{6}"}}},function(p,n,g){n=g(13);var l=g(0);p.exports={camel2dash:n(function(d){return d.replace(/([A-Z])/g,function(b){return"-"+b.toLowerCase()})}),dash2camel:n(function(d){return d.replace(/(-\w)/g,
function(b){return b[1].toUpperCase()})}),prependCamel:n(function(d,b){return d+b[0].toUpperCase()+b.substring(1)},function(d,b){return d+"$"+b}),capitalize:function(d){return l.emptyString(d)?d:d.charAt(0).toUpperCase()+d.substring(1)}}},function(p,n,g){var l=g(3),d=l?l.performance:null;n={};var b=d&&d.now?function(){return d.now()}:function(){return Date.now()},a=function(){if(l){if(l.requestAnimationFrame)return function(a){l.requestAnimationFrame(a)};if(l.mozRequestAnimationFrame)return function(a){l.mozRequestAnimationFrame(a)};
if(l.webkitRequestAnimationFrame)return function(a){l.webkitRequestAnimationFrame(a)};if(l.msRequestAnimationFrame)return function(a){l.msRequestAnimationFrame(a)}}return function(a){a&&setTimeout(function(){a(b())},1E3/60)}}();n.requestAnimationFrame=function(c){a(c)};n.performanceNow=b;n.debounce=g(26);n.now=function(){return Date.now()};p.exports=n},function(p,n){function g(a){var c=typeof a;return!!a&&("object"==c||"function"==c)}function l(k){if("number"==typeof k)return k;var t=k;if("symbol"==
typeof t||t&&"object"==typeof t&&h.call(t)==b)return d;g(k)&&(k="function"==typeof k.valueOf?k.valueOf():k,k=g(k)?k+"":k);if("string"!=typeof k)return 0===k?k:+k;k=k.replace(a,"");return(t=e.test(k))||f.test(k)?m(k.slice(2),t?2:8):c.test(k)?d:+k}var d=NaN,b="[object Symbol]",a=/^\s+|\s+$/g,c=/^[-+]0x[0-9a-f]+$/i,e=/^0b[01]+$/i,f=/^0o[0-7]+$/i,m=parseInt;n="object"==typeof self&&self&&self.Object===Object&&self;var k="object"==typeof global&&global&&global.Object===Object&&global||n||Function("return this")(),
h=Object.prototype.toString,t=Math.max,q=Math.min;p.exports=function(a,c,e){function b(c){var e=r,b=u;return r=u=void 0,I=c,n=a.apply(b,e)}function f(a){var e=a-H;a-=I;return void 0===H||e>=c||0>e||M&&a>=y}function d(){var a=k.Date.now();if(f(a))return h(a);var e=setTimeout;var b=a-I;a=c-(a-H);b=M?q(a,y-b):a;p=e(d,b)}function h(a){return p=void 0,N&&r?b(a):(r=u=void 0,n)}function m(){var a=k.Date.now(),e=f(a);if(r=arguments,u=this,H=a,e){if(void 0===p)return a=H,I=a,p=setTimeout(d,c),J?b(a):n;if(M)return p=
setTimeout(d,c),b(H)}return void 0===p&&(p=setTimeout(d,c)),n}var r,u,y,n,p,H,I=0,J=!1,M=!1,N=!0;if("function"!=typeof a)throw new TypeError("Expected a function");return c=l(c)||0,g(e)&&(J=!!e.leading,M="maxWait"in e,y=M?t(l(e.maxWait)||0,c):y,N="trailing"in e?!!e.trailing:N),m.cancel=function(){void 0!==p&&clearTimeout(p);I=0;r=H=u=p=void 0},m.flush=function(){return void 0===p?n:h(k.Date.now())},m}},function(p,n,g){function l(d,b){return d<b?-1:d>b?1:0}p.exports={sort:{ascending:l,descending:function(d,
b){return-1*l(d,b)}}}},function(p,n,g){function l(){this._obj={}}n=l.prototype;n.set=function(d,b){this._obj[d]=b};n.delete=function(d){this._obj[d]=null};n.has=function(d){return null!=this._obj[d]};n.get=function(d){return this._obj[d]};p.exports=l},function(p,n,g){var l=g(1),d={};[g(30),g(31),g(34),g(35),g(36),g(37),g(38),g(39),g(40),g(41),g(42)].forEach(function(b){l.extend(d,b)});p.exports=d},function(p,n,g){var l=g(0);n=function(d){return d={bfs:d.bfs||!d.dfs,dfs:d.dfs||!d.bfs},function(b,a,
c){var e;l.plainObject(b)&&!l.elementOrCollection(b)&&(e=b,b=e.roots||e.root,a=e.visit,c=e.directed);c=2!==arguments.length||l.fn(a)?c:a;a=l.fn(a)?a:function(){};e=this._private.cy;for(var f=b=l.string(b)?this.filter(b):b,m=[],k=[],h={},t={},q={},r=0,u=this.nodes(),g=this.edges(),w=0;w<f.length;w++)f[w].isNode()&&(m.unshift(f[w]),d.bfs&&(q[f[w].id()]=!0,k.push(f[w])),t[f[w].id()]=0);for(;0!==m.length;){f=d.bfs?m.shift():m.pop();if(d.dfs){if(q[f.id()])continue;q[f.id()]=!0;k.push(f)}w=t[f.id()];var n=
h[f.id()],x=null==n?void 0:n.connectedNodes().not(f)[0];if(!0===(w=a(f,n,x,r++,w))){var A=f;break}if(!1===w)break;n=f.connectedEdges(c?function(a){return a.data("source")===f.id()}:void 0).intersect(g);for(w=0;w<n.length;w++){x=n[w];var p=x.connectedNodes(function(a){return a.id()!==f.id()}).intersect(u);0===p.length||q[p.id()]||(p=p[0],m.push(p),d.bfs&&(q[p.id()]=!0,k.push(p)),h[p.id()]=x,t[p.id()]=t[f.id()]+1)}}m=[];for(w=0;w<k.length;w++)t=k[w],(q=h[t.id()])&&m.push(q),m.push(t);return{path:e.collection(m,
{unique:!0}),found:e.collection(A)}}};n={breadthFirstSearch:n({bfs:!0}),depthFirstSearch:n({dfs:!0})};n.bfs=n.breadthFirstSearch;n.dfs=n.depthFirstSearch;p.exports=n},function(p,n,g){var l=g(0),d=g(9);p.exports={dijkstra:function(b,a,c){var e;l.plainObject(b)&&!l.elementOrCollection(b)&&(e=b,b=e.root,a=e.weight,c=e.directed);var f=this._private.cy;a=l.fn(a)?a:function(){return 1};e=l.string(b)?this.filter(b)[0]:b[0];var m={},k={},h={},t=this.edges().filter(function(a){return!a.isLoop()}),q=this.nodes(),
r=new d(function(a,c){return m[a.id()]-m[c.id()]});for(b=0;b<q.length;b++){var u=q[b];m[u.id()]=u.same(e)?0:1/0;r.push(u)}for(;0<r.size();)if(e=r.pop(),u=m[e.id()],b=e.id(),h[b]=u,u!==1/0){var g=e.neighborhood().intersect(q);for(b=0;b<g.length;b++){var w=g[b],n=w.id(),x=function(e,b){var f;e=(c?e.edgesTo(b):e.edgesWith(b)).intersect(t);b=1/0;for(var k=0;k<e.length;k++){var d=e[k],h=a(d);(h<b||!f)&&(b=h,f=d)}return{edge:f,dist:b}}(e,w),A=u+x.dist;A<m[w.id()]&&(!function(a,c){m[a.id()]=c;r.updateItem(a)}(w,
A),k[n]={node:e,edge:x.edge})}}return{distanceTo:function(a){a=l.string(a)?q.filter(a)[0]:a[0];return h[a.id()]},pathTo:function(a){var c=l.string(a)?q.filter(a)[0]:a[0];a=[];var e=c;if(0<c.length)for(a.unshift(c);k[e.id()];)c=k[e.id()],a.unshift(c.edge),a.unshift(c.node),e=c.node;return f.collection(a)}}}}},function(p,n,g){p.exports=g(33)},function(p,n,g){var l,d,b;(function(){var a=Math.floor;var c=Math.min;var e=function(a,c){return a<c?-1:a>c?1:0};var f=function(c,b,f,k,d){if(null==f&&(f=0),null==
d&&(d=e),0>f)throw Error("lo must be non-negative");for(null==k&&(k=c.length);f<k;){var h=a((f+k)/2);0>d(b,c[h])?k=h:f=h+1}return[].splice.apply(c,[f,f-f].concat(b)),b};var m=function(a,c,b){return null==b&&(b=e),a.push(c),w(a,0,a.length-1,b)};var k=function(a,c){var b,f;return null==c&&(c=e),b=a.pop(),a.length?(f=a[0],a[0]=b,v(a,0,c)):f=b,f};var h=function(a,c,b){var f;return null==b&&(b=e),f=a[0],a[0]=c,v(a,0,b),f};var t=function(a,c,b){var f;return null==b&&(b=e),a.length&&0>b(a[0],c)&&(f=[a[0],
c],c=f[0],a[0]=f[1],v(a,0,b)),c};var q=function(c,b){var f,k;null==b&&(b=e);var d=function(){k=[];for(var e=0,b=a(c.length/2);0<=b?e<b:e>b;0<=b?e++:e--)k.push(e);return k}.apply(this).reverse();var h=[];var m=0;for(f=d.length;m<f;m++){var t=d[m];h.push(v(c,t,b))}return h};var r=function(a,c,b){if(null==b&&(b=e),-1!==(c=a.indexOf(c)))return w(a,0,c,b),v(a,c,b)};var u=function(a,c,b){var f,k;if(null==b&&(b=e),f=a.slice(0,c),!f.length)return f;q(f,b);var d=a.slice(c);c=0;for(k=d.length;c<k;c++)a=d[c],
t(f,a,b);return f.sort(b).reverse()};var g=function(a,b,d){var h,m;if(null==d&&(d=e),10*b<=a.length){if(h=a.slice(0,b).sort(d),!h.length)return h;var t=h[h.length-1];var r=a.slice(b);b=0;for(m=r.length;b<m;b++)a=r[b],0>d(a,t)&&(f(h,a,0,null,d),h.pop(),t=h[h.length-1]);return h}q(a,d);h=[];t=0;for(b=c(b,a.length);0<=b?t<b:t>b;0<=b?++t:--t)h.push(k(a,d));return h};var w=function(a,c,b,f){var k,d,h;null==f&&(f=e);for(k=a[b];b>c&&(h=b-1>>1,d=a[h],0>f(k,d));)a[b]=d,b=h;return a[b]=k};var v=function(a,
c,b){var f;null==b&&(b=e);var k=a.length;var d=c;var h=a[c];for(f=2*c+1;f<k;){var m=f+1;m<k&&!(0>b(a[f],a[m]))&&(f=m);a[c]=a[f];c=f;f=2*c+1}return a[c]=h,w(a,d,c,b)};var x=function(){function a(a){this.cmp=null!=a?a:e;this.nodes=[]}return a.push=m,a.pop=k,a.replace=h,a.pushpop=t,a.heapify=q,a.updateItem=r,a.nlargest=u,a.nsmallest=g,a.prototype.push=function(a){return m(this.nodes,a,this.cmp)},a.prototype.pop=function(){return k(this.nodes,this.cmp)},a.prototype.peek=function(){return this.nodes[0]},
a.prototype.contains=function(a){return-1!==this.nodes.indexOf(a)},a.prototype.replace=function(a){return h(this.nodes,a,this.cmp)},a.prototype.pushpop=function(a){return t(this.nodes,a,this.cmp)},a.prototype.heapify=function(){return q(this.nodes,this.cmp)},a.prototype.updateItem=function(a){return r(this.nodes,a,this.cmp)},a.prototype.clear=function(){return this.nodes=[]},a.prototype.empty=function(){return 0===this.nodes.length},a.prototype.size=function(){return this.nodes.length},a.prototype.clone=
function(){var c;return c=new a,c.nodes=this.nodes.slice(0),c},a.prototype.toArray=function(){return this.nodes.slice(0)},a.prototype.insert=a.prototype.push,a.prototype.top=a.prototype.peek,a.prototype.front=a.prototype.peek,a.prototype.has=a.prototype.contains,a.prototype.copy=a.prototype.clone,a}();(function(a,c){d=[];l=c;void 0!==(b="function"==typeof l?l.apply(n,d):l)&&(p.exports=b)})(0,function(){return x})}).call(this)},function(p,n,g){var l=g(0);p.exports={kruskal:function(d){function b(a){for(var e=
0;e<c.length;e++){var b=c[e];if(b.anySame(a))return{eles:b,index:e}}}var a=this.cy();d=l.fn(d)?d:function(){return 1};a=a.collection(a,[]);for(var c=[],e=this.nodes(),f=0;f<e.length;f++)c.push(e[f].collection());var m=this.edges().toArray().sort(function(a,c){return d(a)-d(c)});for(f=0;f<m.length;f++){var k=m[f],h=k.source()[0],t=k.target()[0];h=b(h);t=b(t);h.index!==t.index&&(a=a.add(k),c[h.index]=h.eles.add(t.eles),c.splice(t.index,1))}return e.add(a)}}},function(p,n,g){var l=g(0);p.exports={aStar:function(d){d=
d||{};var b=this._private.cy;if(null!=d&&null!=d.root){var a=l.string(d.root)?this.filter(d.root)[0]:d.root[0];if(null!=d.goal){var c=l.string(d.goal)?this.filter(d.goal)[0]:d.goal[0],e=null!=d.heuristic&&l.fn(d.heuristic)?d.heuristic:function(){return 0},f=null!=d.weight&&l.fn(d.weight)?d.weight:function(a){return 1};d=null!=d.directed?d.directed:!1;var m=a.id(),k=c.id(),h=[],t=[m],q={},r={};c={};var u={};c[m]=0;u[m]=e(a);for(a=0;0<t.length;){var g=function(a,c){if(0!==a.length){for(var e=0,b=c[a[0]],
f=1;f<a.length;f++){var k=c[a[f]];k<b&&(b=k,e=f)}return e}}(t,u),w=b.getElementById(t[g]),n=w.id();if(a++,n==k)return e=function I(a,c,e,f){if(a==c)return f.unshift(b.getElementById(c)),f;if(c in e){var k=e[c];return f.unshift(b.getElementById(r[c])),f.unshift(b.getElementById(c)),I(a,k,e,f)}}(m,k,q,[]),{found:!0,distance:c[n],path:this.spawn(e),steps:a};h.push(n);t.splice(g,1);g=w._private.edges;for(w=0;w<g.length;w++){var x=g[w];if(this.hasElementWithId(x.id())&&(!d||x.data("source")===n)){var A=
x.source(),p=x.target();A=A.id()!==n?A:p;p=A.id();if(this.hasElementWithId(p)&&-1==h.indexOf(p)){var B=c[n]+f(x);-1!=t.indexOf(p)?B<c[p]&&(c[p]=B,u[p]=B+e(A),q[p]=n):(c[p]=B,u[p]=B+e(A),t.push(p),q[p]=n,r[p]=x.id())}}}}return{found:!1,distance:void 0,path:void 0,steps:a}}}}}},function(p,n,g){var l=g(0);p.exports={floydWarshall:function(d){d=d||{};var b=this.cy(),a=null!=d.weight&&l.fn(d.weight)?d.weight:function(a){return 1},c=null!=d.directed?d.directed:!1,e=this.edges().stdFilter(function(a){return!a.isLoop()});
d=this.nodes();for(var f=d.length,m={},k=0;k<f;k++)m[d[k].id()]=k;var h=[];for(k=0;k<f;k++){for(var t=Array(f),q=0;q<f;q++)t[q]=k==q?0:1/0;h.push(t)}var r=[],u=[];k=function(a){for(var c=0;c<f;c++){for(var e=Array(f),b=0;b<f;b++)e[b]=void 0;a.push(e)}};k(r);k(u);for(k=0;k<e.length;k++){q=m[e[k].source().id()];t=m[e[k].target().id()];var g=a(e[k]);h[q][t]>g&&(h[q][t]=g,r[q][t]=t,u[q][t]=e[k])}if(!c)for(k=0;k<e.length;k++)q=m[e[k].target().id()],t=m[e[k].source().id()],g=a(e[k]),h[q][t]>g&&(h[q][t]=
g,r[q][t]=t,u[q][t]=e[k]);for(a=0;a<f;a++)for(k=0;k<f;k++)for(q=0;q<f;q++)h[k][a]+h[a][q]<h[k][q]&&(h[k][q]=h[k][a]+h[a][q],r[k][q]=r[k][a]);var w=[];for(k=0;k<f;k++)w.push(d[k].id());return{distance:function(a,c){a=l.string(a)?b.filter(a)[0].id():a.id();c=l.string(c)?b.filter(c)[0].id():c.id();return h[m[a]][m[c]]},path:function(a,c){a=l.string(a)?b.filter(a)[0].id():a.id();var e=l.string(c)?b.filter(c)[0].id():c.id();c=m[a];a=m[e];if(c===a)c=b.getElementById(w[c]);else if(void 0!==r[c][a]){e=[b.getElementById(w[c])];
for(var f;c!==a;)f=c,c=r[c][a],e.push(u[f][c]),e.push(b.getElementById(w[c]));c=e}else c=void 0;return b.collection(c)}}}}},function(p,n,g){var l=g(0),d=g(1);p.exports={bellmanFord:function(b){var a=this,c=(b=b||{},null!=b.weight&&l.fn(b.weight))?b.weight:function(a){return 1},e=null!=b.directed?b.directed:!1;if(null!=b.root){var f=l.string(b.root)?this.filter(b.root)[0]:b.root[0],m=this._private.cy;b=this.edges().stdFilter(function(a){return!a.isLoop()});for(var k=this.nodes(),h=k.length,t={},q=
0;q<h;q++)t[k[q].id()]=q;var r=[],u=[],g=[];for(q=0;q<h;q++)k[q].id()===f.id()?r[q]=0:r[q]=1/0,u[q]=void 0;var w=!1;for(q=1;q<h;q++){w=!1;for(var n=0;n<b.length;n++){var x=t[b[n].source().id()],p=t[b[n].target().id()],G=c(b[n]),B=r[x]+G;(B<r[p]&&(r[p]=B,u[p]=x,g[p]=b[n],w=!0),e)||(B=r[p]+G,B<r[x]&&(r[x]=B,u[x]=p,g[x]=b[n],w=!0))}if(!w)break}if(w)for(n=0;n<b.length;n++)if(x=t[b[n].source().id()],p=t[b[n].target().id()],G=c(b[n]),r[x]+G<r[p])return d.error("Graph contains a negative weight cycle for Bellman-Ford"),
{pathTo:void 0,distanceTo:void 0,hasNegativeWeightCycle:!0};var C=[];for(q=0;q<h;q++)C.push(k[q].id());return{distanceTo:function(a){a=l.string(a)?m.filter(a)[0].id():a.id();return r[t[a]]},pathTo:function(c){var e=l.string(c)?m.filter(c)[0].id():c.id();a:{c=t[f.id()];var b=t[e];for(e=[];;){if(e.push(m.getElementById(C[b])),e.push(g[b]),c===b){c=e;break a}b=u[b];if(void 0===b){c=void 0;break a}}}return null!=c&&c.reverse(),a.spawn(c)},hasNegativeWeightCycle:!1}}}}},function(p,n,g){var l=g(1);p.exports=
{kargerStein:function(d){var b=function(a,c,e){a=e[a];var b=c[a[1]],f=c[a[2]];e=e.filter(function(a){return(c[a[1]]!==b||c[a[2]]!==f)&&(c[a[1]]!==f||c[a[2]]!==b)});for(a=0;a<e.length;a++){var k=e[a];k[1]===f?(e[a]=k.slice(0),e[a][1]=b):k[2]===f&&(e[a]=k.slice(0),e[a][2]=b)}for(a=0;a<c.length;a++)c[a]===f&&(c[a]=b);return e},a=function F(a,c,e,f){return e<=f?c:F(a,b(Math.floor(Math.random()*c.length),a,c),e-1,f)};d=this._private.cy;var c=this.edges().stdFilter(function(a){return!a.isLoop()}),e=this.nodes(),
f=e.length,m=c.length,k=Math.ceil(Math.pow(Math.log(f)/Math.LN2,2)),h=Math.floor(f/Math.sqrt(2));if(2>f)return void l.error("At least 2 nodes are required for Karger-Stein algorithm");for(var t={},q=0;q<f;q++)t[e[q].id()]=q;var r=[];for(q=0;q<m;q++){var u=c[q];r.push([q,t[u.source().id()],t[u.target().id()]])}var g;m=1/0;t=[];for(q=0;q<f;q++)t.push(q);for(q=0;q<=k;q++){u=t.slice(0);var n=a(u,r,f,h),v=u.slice(0),x=a(u,n,h,2);n=a(v,n,h,2);x.length<=n.length&&x.length<m?(m=x.length,g=[x,u]):n.length<=
x.length&&n.length<m&&(m=n.length,g=[n,v])}a=g[0].map(function(a){return c[a[0]]});f=[];k=[];h=g[1][0];for(q=0;q<g[1].length;q++)g[1][q]===h?f.push(e[q]):k.push(e[q]);return{cut:this.spawn(d,a),partition1:this.spawn(f),partition2:this.spawn(k)}}}},function(p,n,g){var l=g(0);p.exports={pageRank:function(d){d=d||{};var b=null!=d&&null!=d.dampingFactor?d.dampingFactor:.8,a=null!=d&&null!=d.precision?d.precision:1E-6,c=null!=d&&null!=d.iterations?d.iterations:200,e=null!=d&&null!=d.weight&&l.fn(d.weight)?
d.weight:function(a){return 1},f=this._private.cy,m=this.edges().stdFilter(function(a){return!a.isLoop()}),k=this.nodes();d=k.length;for(var h=m.length,t={},q=0;q<d;q++)t[k[q].id()]=q;k=[];var r=[];b=(1-b)/d;for(q=0;q<d;q++){for(var u=[],g=0;g<d;g++)u.push(0);k.push(u);r.push(0)}for(q=0;q<h;q++){var n=m[q];g=t[n.source().id()];u=t[n.target().id()];n=e(n);k[u][g]+=n;r[g]+=n}e=1/d+b;for(g=0;g<d;g++)if(0===r[g])for(q=0;q<d;q++)k[q][g]=e;else for(q=0;q<d;q++)k[q][g]=k[q][g]/r[g]+b;var v=[];e=[];for(q=
0;q<d;q++)v.push(1),e.push(0);for(m=0;m<c;m++){r=e.slice(0);for(q=0;q<d;q++)for(g=0;g<d;g++)r[q]+=k[q][g]*v[g];!function(a){for(var c=a.length,e=0,b=0;b<c;b++)e+=a[b];for(b=0;b<c;b++)a[b]/=e}(r);h=v;v=r;for(q=r=0;q<d;q++)r+=Math.pow(h[q]-v[q],2);if(r<a)break}return{rank:function(a){a=l.string(a)?f.filter(a)[0].id():a.id();return v[t[a]]}}}}},function(p,n,g){var l=g(0),d=g(1);n={degreeCentralityNormalized:function(b){b=b||{};var a=this.cy(),c=null!=b.directed?b.directed:!1,e=this.nodes(),f=e.length;
if(c){var m={},k={},h=0,t=0;for(c=0;c<f;c++){var q=e[c],r=this.degreeCentrality(d.extend({},b,{root:q}));h<r.indegree&&(h=r.indegree);t<r.outdegree&&(t=r.outdegree);m[q.id()]=r.indegree;k[q.id()]=r.outdegree}return{indegree:function(c){if(0==h)return 0;c=l.string(c)?a.filter(c)[0].id():c.id();return m[c]/h},outdegree:function(c){if(0==t)return 0;c=l.string(c)?a.filter(c)[0].id():c.id();return k[c]/t}}}var u={},g=0;for(c=0;c<f;c++)q=e[c],r=this.degreeCentrality(d.extend({},b,{root:q})),g<r.degree&&
(g=r.degree),u[q.id()]=r.degree;return{degree:function(c){if(0==g)return 0;c=l.string(c)?a.filter(c)[0].id():c.id();return u[c]/g}}},degreeCentrality:function(b){b=b||{};if(null!=b&&null!=b.root){var a=l.string(b.root)?this.filter(b.root)[0]:b.root[0],c=null!=b.weight&&l.fn(b.weight)?b.weight:function(a){return 1},e=null!=b.directed?b.directed:!1;b=null!=b.alpha&&l.number(b.alpha)?b.alpha:0;if(e){var f=a.connectedEdges('edge[target = "'+a.id()+'"]').intersection(this),d=a.connectedEdges('edge[source = "'+
a.id()+'"]').intersection(this),k=f.length,h=d.length,t=0,q=0;for(a=0;a<f.length;a++)e=f[a],t+=c(e);for(a=0;a<d.length;a++)e=d[a],q+=c(e);return{indegree:Math.pow(k,1-b)*Math.pow(t,b),outdegree:Math.pow(h,1-b)*Math.pow(q,b)}}f=a.connectedEdges().intersection(this);d=f.length;for(a=k=0;a<f.length;a++)e=f[a],k+=c(e);return{degree:Math.pow(d,1-b)*Math.pow(k,b)}}}};n.dc=n.degreeCentrality;n.dcn=n.degreeCentralityNormalised=n.degreeCentralityNormalized;p.exports=n},function(p,n,g){var l=g(0);n={closenessCentralityNormalized:function(d){d=
d||{};var b=this.cy(),a=d.harmonic;void 0===a&&(a=!0);var c={},e=0,f=this.nodes();d=this.floydWarshall({weight:d.weight,directed:d.directed});for(var m=0;m<f.length;m++){for(var k=0,h=0;h<f.length;h++)if(m!=h){var t=d.distance(f[m],f[h]);k+=a?1/t:t}a||(k=1/k);e<k&&(e=k);c[f[m].id()]=k}return{closeness:function(a){if(0==e)return 0;a=l.string(a)?b.filter(a)[0].id():a.id();return c[a]/e}}},closenessCentrality:function(d){if(d=d||{},null!=d.root){var b=l.string(d.root)?this.filter(d.root)[0]:d.root[0],
a=null!=d.weight&&l.fn(d.weight)?d.weight:function(){return 1},c=null!=d.directed&&l.bool(d.directed)?d.directed:!1;d=d.harmonic;void 0===d&&(d=!0);a=this.dijkstra({root:b,weight:a,directed:c});c=0;for(var e=this.nodes(),f=0;f<e.length;f++)if(e[f].id()!=b.id()){var m=a.distanceTo(e[f]);c+=d?1/m:m}return d?c:1/c}}};n.cc=n.closenessCentrality;n.ccn=n.closenessCentralityNormalised=n.closenessCentralityNormalized;p.exports=n},function(p,n,g){var l=g(0),d=g(9);n={betweennessCentrality:function(b){b=b||
{};var a,c;l.fn(b.weight)?(c=b.weight,a=!0):a=!1;var e=null!=b.directed&&b.directed,f=this._private.cy;b=this.nodes();for(var m={},k={},h=0,t={set:function(a,c){k[a]=c;c>h&&(h=c)},get:function(a){return k[a]}},q=0;q<b.length;q++){var r=b[q],u=r.id();m[u]=e?r.outgoers().nodes():r.openNeighborhood().nodes();t.set(u,0)}for(e=0;e<b.length;e++){r=b[e].id();var g=[],n={},v={},x={},p=new d(function(a,c){return x[a]-x[c]});for(q=0;q<b.length;q++)u=b[q].id(),n[u]=[],v[u]=0,x[u]=1/0;v[r]=1;x[r]=0;for(p.push(r);!p.empty();)if(r=
p.pop(),g.push(r),a)for(q=0;q<m[r].length;q++){u=m[r][q];var G=f.getElementById(r);G=0<G.edgesTo(u).length?G.edgesTo(u)[0]:u.edgesTo(G)[0];G=c(G);u=u.id();x[u]>x[r]+G&&(x[u]=x[r]+G,0>p.nodes.indexOf(u)?p.push(u):p.updateItem(u),v[u]=0,n[u]=[]);x[u]==x[r]+G&&(v[u]+=v[r],n[u].push(r))}else for(q=0;q<m[r].length;q++)u=m[r][q].id(),x[u]==1/0&&(p.push(u),x[u]=x[r]+1),x[u]==x[r]+1&&(v[u]+=v[r],n[u].push(r));p={};for(q=0;q<b.length;q++)p[b[q].id()]=0;for(;0<g.length;)for(u=g.pop(),q=0;q<n[u].length;q++)r=
n[u][q],p[r]+=v[r]/v[u]*(1+p[u]),u!=b[e].id()&&t.set(u,t.get(u)+p[u])}a={betweenness:function(a){a=l.string(a)?f.filter(a).id():a.id();return t.get(a)},betweennessNormalized:function(a){if(0==h)return 0;a=l.string(a)?f.filter(a).id():a.id();return t.get(a)/h}};return a.betweennessNormalised=a.betweennessNormalized,a}};n.bc=n.betweennessCentrality;p.exports=n},function(p,n,g){n=g(4);n={animate:n.animate(),animation:n.animation(),animated:n.animated(),clearQueue:n.clearQueue(),delay:n.delay(),delayAnimation:n.delayAnimation(),
stop:n.stop()};p.exports=n},function(p,n,g){var l=g(1),d=g(45),b=g(2),a=g(0);p.exports={animated:function(){return function(){var a=void 0!==this.length?this:[this];return(this._private.cy||this).styleEnabled()?(a=a[0])?0<a._private.animation.current.length:void 0:!1}},clearQueue:function(){return function(){var a=void 0!==this.length?this:[this];if(!(this._private.cy||this).styleEnabled())return this;for(var e=0;e<a.length;e++)a[e]._private.animation.queue=[];return this}},delay:function(){return function(a,
e){return(this._private.cy||this).styleEnabled()?this.animate({delay:a,duration:a,complete:e}):this}},delayAnimation:function(){return function(a,e){return(this._private.cy||this).styleEnabled()?this.animation({delay:a,duration:a,complete:e}):this}},animation:function(){return function(c,e){var f=void 0!==this.length,m=f?this:[this],k=this._private.cy||this;f=!f;var h=!f;if(!k.styleEnabled())return this;var t=k.style();if(c=l.assign({},c,e),0===Object.keys(c).length)return new d(m[0],c);switch(void 0===
c.duration&&(c.duration=400),c.duration){case "slow":c.duration=600;break;case "fast":c.duration=200}if(h&&(c.style=t.getPropsList(c.style||c.css),c.css=void 0),h&&null!=c.renderedPosition)e=c.renderedPosition,h=k.pan(),t=k.zoom(),c.position=b.renderedToModelPosition(e,t,h);f&&null!=c.panBy&&(e=c.panBy,h=k.pan(),c.pan={x:h.x+e.x,y:h.y+e.y});e=c.center||c.centre;f&&null!=e&&(e=k.getCenterPan(e.eles,c.zoom),null!=e&&(c.pan=e));f&&null!=c.fit&&(e=c.fit,e=k.getFitViewport(e.eles||e.boundingBox,e.padding),
null!=e&&(c.pan=e.pan,c.zoom=e.zoom));f&&a.plainObject(c.zoom)&&(k=k.getZoomedViewport(c.zoom),null!=k&&(k.zoomed&&(c.zoom=k.zoom),k.panned&&(c.pan=k.pan)));return new d(m[0],c)}},animate:function(){return function(a,e){var c=void 0!==this.length?this:[this];if(!(this._private.cy||this).styleEnabled())return this;e&&(a=l.extend({},a,e));for(e=0;e<c.length;e++){var b=c[e],k=b.animated()&&(void 0===a.queue||a.queue);b.animation(a,k?{queue:!0}:void 0).play()}return this}},stop:function(){return function(a,
e){var c=void 0!==this.length?this:[this],b=this._private.cy||this;if(!b.styleEnabled())return this;for(var k=0;k<c.length;k++){for(var d=c[k]._private,t=d.animation.current,q=0;q<t.length;q++){var r=t[q]._private;e&&(r.duration=0)}a&&(d.animation.queue=[]);e||(d.animation.current=[])}return b.notify({eles:this,type:"draw"}),this}}}},function(p,n,g){var l=g(1),d=g(0),b=g(5);n=function(a,c,e){c=this._private=l.extend({duration:1E3},c,e);c.target=a;c.style=c.style||c.css;c.started=!1;c.playing=!1;c.hooked=
!1;c.applying=!1;c.progress=0;c.completes=[];c.frames=[];c.complete&&d.fn(c.complete)&&c.completes.push(c.complete);this.length=1;this[0]=this};g=n.prototype;l.extend(g,{instanceString:function(){return"animation"},hook:function(){var a=this._private;if(!a.hooked){var c=a.target._private.animation;(a.queue?c.queue:c.current).push(this);d.elementOrCollection(a.target)&&a.target.cy().addToAnimationPool(a.target);a.hooked=!0}return this},play:function(){var a=this._private;return 1===a.progress&&(a.progress=
0),a.playing=!0,a.started=!1,a.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var a=this._private;return a.applying=!0,a.started=!1,a.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var a=this._private;return a.playing=!1,a.started=!1,this},stop:function(){var a=this._private;return a.playing=!1,a.started=!1,a.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},
time:function(a){var c=this._private;return void 0===a?c.progress*c.duration:this.progress(a/c.duration)},progress:function(a){var c=this._private,e=c.playing;return void 0===a?c.progress:(e&&this.pause(),c.progress=a,c.started=!1,e&&this.play(),this)},completed:function(){return 1===this._private.progress},reverse:function(){var a=this._private,c=a.playing;c&&this.pause();a.progress=1-a.progress;a.started=!1;var e=function(c,e){var b=a[c];null!=b&&(a[c]=a[e],a[e]=b)};if(e("zoom","startZoom"),e("pan",
"startPan"),e("position","startPosition"),a.style)for(e=0;e<a.style.length;e++){var b=a.style[e],d=b.name,k=a.startStyle[d];a.startStyle[d]=b;a.style[e]=k}return c&&this.play(),this},promise:function(a){var c=this._private,e=void 0;switch(a){case "frame":e=c.frames;break;default:case "complete":case "completed":e=c.completes}return new b(function(a,c){e.push(function(){a()})})}});g.complete=g.completed;p.exports=n},function(p,n,g){var l=g(1),d=g(0);p.exports={data:function(b){return b=l.extend({},
{field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(a){},beforeSet:function(a,c){},onSet:function(a){},canSet:function(a){return!0}},b),function(a,c){var e=b,f=void 0!==this.length,m=f?this:[this];f=f?this[0]:this;if(d.string(a)){if(e.allowGetting&&void 0===c)return m=void 0,f&&(e.beforeGet(f),m=f._private[e.field][a]),m;if(e.allowSetting&&void 0!==c&&
!e.immutableKeys[a]){f={};f=(a in f?Object.defineProperty(f,a,{value:c,enumerable:!0,configurable:!0,writable:!0}):f[a]=c,f);e.beforeSet(this,f);f=0;for(var k=m.length;f<k;f++){var h=m[f];e.canSet(h)&&(h._private[e.field][a]=c)}e.updateStyle&&this.updateStyle();e.onSet(this);e.settingTriggersEvent&&this[e.triggerFnName](e.settingEvent)}}else if(e.allowSetting&&d.plainObject(a)){k=Object.keys(a);e.beforeSet(this,a);for(h=0;h<k.length;h++)if(c=k[h],f=a[c],!e.immutableKeys[c])for(var t=0;t<m.length;t++){var q=
m[t];e.canSet(q)&&(q._private[e.field][c]=f)}e.updateStyle&&this.updateStyle();e.onSet(this);e.settingTriggersEvent&&this[e.triggerFnName](e.settingEvent)}else if(e.allowBinding&&d.fn(a))this.on(e.bindingEvent,a);else if(e.allowGetting&&void 0===a)return a=void 0,f&&(e.beforeGet(f),a=f._private[e.field]),a;return this}},removeData:function(b){return b=l.extend({},{field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}},b),function(a){var c=b,e=void 0!==this.length?this:
[this];if(d.string(a)){a=a.split(/\s+/);for(var f=a.length,m=0;m<f;m++){var k=a[m];if(!d.emptyString(k)&&!c.immutableKeys[k])for(var h=0,t=e.length;h<t;h++)e[h]._private[c.field][k]=void 0}c.triggerEvent&&this[c.triggerFnName](c.event)}else if(void 0===a){a=0;for(f=e.length;a<f;a++)for(m=e[a]._private[c.field],k=Object.keys(m),h=0;h<k.length;h++)t=k[h],!c.immutableKeys[t]&&(m[t]=void 0);c.triggerEvent&&this[c.triggerFnName](c.event)}return this}}}},function(p,n,g){var l=g(5);p.exports={eventAliasesOn:function(d){d.addListener=
d.listen=d.bind=d.on;d.unlisten=d.unbind=d.off=d.removeListener;d.trigger=d.emit;d.pon=d.promiseOn=function(b,a){var c=this,e=Array.prototype.slice.call(arguments,0);return new l(function(a,b){b=e.concat([function(e){c.off.apply(c,f);a(e)}]);var f=b.concat([]);c.on.apply(c,b)})}}}},function(p,n,g){var l=g(8);p.exports={classes:function(d){d=(d||"").match(/\S+/g)||[];var b=this,a=[],c=new l(d);for(d=0;d<b.length;d++)!function(e){e=b[e];var f=e._private,d=f.classes,k=!1;c.forEach(function(a){d.has(a)||
(k=!0)});k||d.forEach(function(a){c.has(a)||(k=!0)});k&&(f.classes=new l(c),a.push(e))}(d);return 0<a.length&&this.spawn(a).updateStyle().emit("class"),b},addClass:function(d){return this.toggleClass(d,!0)},hasClass:function(d){var b=this[0];return null!=b&&b._private.classes.has(d)},toggleClass:function(d,b){d=d.match(/\S+/g)||[];for(var a=[],c=0,e=this.length;c<e;c++)for(var f=this[c],m=!1,k=0;k<d.length;k++){var h=d[k],t=f._private.classes,q=t.has(h);b||void 0===b&&!q?(t.add(h),q||m||(a.push(f),
m=!0)):(t.delete(h),q&&!m&&(a.push(f),m=!0))}return 0<a.length&&this.spawn(a).updateStyle().emit("class"),this},removeClass:function(d){return this.toggleClass(d,!1)},flashClass:function(d,b){var a=this;if(null==b)b=250;else if(0===b)return a;return a.addClass(d),setTimeout(function(){a.removeClass(d)},b),a}}},function(p,n,g){var l=(g(0),g(6));n={allAre:function(d){var b=new l(d);return this.every(function(a){return b.matches(a)})},is:function(d){var b=new l(d);return this.some(function(a){return b.matches(a)})},
some:function(d,b){for(var a=0;a<this.length;a++)if(b?d.apply(b,[this[a],a,this]):d(this[a],a,this))return!0;return!1},every:function(d,b){for(var a=0;a<this.length;a++)if(b?!d.apply(b,[this[a],a,this]):!d(this[a],a,this))return!1;return!0},same:function(d){return d=this.cy().collection(d),this.length===d.length&&this.every(function(b){return d.hasElementWithId(b.id())})},anySame:function(d){return d=this.cy().collection(d),this.some(function(b){return d.hasElementWithId(b.id())})},allAreNeighbors:function(d){d=
this.cy().collection(d);var b=this.neighborhood();return d.every(function(a){return b.hasElementWithId(a.id())})},contains:function(d){d=this.cy().collection(d);var b=this;return d.every(function(a){return b.hasElementWithId(a.id())})}};n.allAreNeighbours=n.allAreNeighbors;n.has=n.contains;p.exports=n},function(p,n,g){var l=g(1),d=g(51),b=g(10);p.exports={parse:function(a){var c,e,f=this._private.selectorText=a,m=this[0]=b();this.length=1;for((e=f.match(/^\s+/))&&(f=f.substring(e[0].length));;){e=
f;var k=c=void 0;for(var h=0;h<d.length;h++){var t=d[h],q=e.match(t.regexObj);if(null!=q){k=q;c=t;e=e.substring(q[0].length);break}}if(null==c)return l.error("The selector `"+a+"`is invalid"),!1;k=k.slice(1);k=c.populate(this,m,k);if(!1===k)return!1;if(null!=k&&(m=k),f=e,f.match(/^\s*$/))break}for(a=0;a<this.length;a++)if(m=this[a],null!=m.subject){for(;m.subject!==m;)if(null!=m.parent)f=m.parent,m.parent=null,f.child=m,m=f;else{if(null==m.ancestor)return m.source||m.target||m.connectedNodes?(l.error("The selector `"+
this.text()+"` can not contain a subject selector that applies to the source or target of an edge selector"),!1):(l.error("When adjusting references for the selector `"+this.text()+"`, neither parent nor ancestor was found"),!1);f=m.ancestor;m.ancestor=null;f.descendant=m;m=f}this[a]=m.subject}return!0}}},function(p,n,g){var l=function(){return function(a,c){if(Array.isArray(a))return a;if(Symbol.iterator in Object(a)){var e=[],b=!0,f=!1,d=void 0;try{for(var m,l=a[Symbol.iterator]();!(b=(m=l.next()).done)&&
(e.push(m.value),!c||e.length!==c);b=!0);}catch(y){f=!0,d=y}finally{try{!b&&l.return&&l.return()}finally{if(f)throw d;}}return e}throw new TypeError("Invalid attempt to destructure non-iterable instance");}}();n=g(15).stateSelectorRegex;var d=g(52),b=g(1),a=g(10),c=function(a){return a.replace(new RegExp("\\\\("+d.metaChar+")","g"),function(a,c){return c})},e=function(a,c,e){c===a[a.length-1]&&(a[a.length-1]=e)};g=[{name:"group",query:!0,regex:"("+d.group+")",populate:function(a,c,e){a=l(e,1)[0];
c.group="*"===a?a:a+"s"}},{name:"state",query:!0,regex:n,populate:function(a,c,e){a=l(e,1)[0];c.colonSelectors.push(a)}},{name:"id",query:!0,regex:"\\#("+d.id+")",populate:function(a,e,b){a=l(b,1)[0];e.ids.push(c(a))}},{name:"className",query:!0,regex:"\\.("+d.className+")",populate:function(a,e,b){a=l(b,1)[0];e.classes.push(c(a))}},{name:"dataExists",query:!0,regex:"\\[\\s*("+d.variable+")\\s*\\]",populate:function(a,e,b){a=l(b,1)[0];e.data.push({field:c(a)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+
d.variable+")\\s*("+d.comparatorOp+")\\s*("+d.value+")\\s*\\]",populate:function(a,e,b){var f=l(b,3);a=f[0];b=f[1];f=f[2];f=null!=(new RegExp("^"+d.string+"$")).exec(f)?f.substring(1,f.length-1):parseFloat(f);e.data.push({field:c(a),operator:b,value:f})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+d.boolOp+")\\s*("+d.variable+")\\s*\\]",populate:function(a,e,b){a=l(b,2);b=a[0];e.data.push({field:c(a[1]),operator:b})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+d.meta+")\\s*("+d.comparatorOp+
")\\s*("+d.number+")\\s*\\]\\]",populate:function(a,e,b){a=l(b,3);b=a[1];var f=a[2];e.meta.push({field:c(a[0]),operator:b,value:parseFloat(f)})}},{name:"nextQuery",separator:!0,regex:d.separator,populate:function(c){var e=c[c.length++]=a();return c.currentSubject=null,e}},{name:"directedEdge",separator:!0,regex:d.directedEdge,populate:function(c,b){var f=a(),d=a();return f.group="edges",f.target=d,f.source=b,f.subject=c.currentSubject,e(c,b,f),d}},{name:"undirectedEdge",separator:!0,regex:d.undirectedEdge,
populate:function(c,b){var f=a(),d=a();return f.group="edges",f.connectedNodes=[b,d],f.subject=c.currentSubject,e(c,b,f),d}},{name:"child",separator:!0,regex:d.child,populate:function(c,b){var f=a();return f.parent=b,f.subject=c.currentSubject,e(c,b,f),f}},{name:"descendant",separator:!0,regex:d.descendant,populate:function(c,b){var f=a();return f.ancestor=b,f.subject=c.currentSubject,e(c,b,f),f}},{name:"subject",modifier:!0,regex:d.subject,populate:function(a,c){if(null!=a.currentSubject&&c.subject!=
c)return b.error("Redefinition of subject in selector `"+a.toString()+"`"),!1;a.currentSubject=c;c.subject=c;a[a.length-1].subject=c}}];g.forEach(function(a){return a.regexObj=new RegExp("^"+a.regex)});p.exports=g},function(p,n,g){n={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:"\"(?:\\\\\"|[^\"])*\"|'(?:\\\\'|[^'])*'",number:g(1).regex.number,meta:"degree|indegree|outdegree",
separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};n.variable="(?:[\\w-]|(?:\\\\"+n.metaChar+"))+";n.value=n.string+"|"+n.number;n.className=n.variable;n.id=n.variable;var l;g=n.comparatorOp.split("|");for(l=0;l<g.length;l++){var d=g[l];n.comparatorOp+="|@"+d}g=n.comparatorOp.split("|");for(l=0;l<g.length;l++)d=g[l],0<=d.indexOf("!")||"="!==d&&(n.comparatorOp+="|\\!"+d);p.exports=n},function(p,n,g){var l=
g(15).stateSelectorMatches,d=g(0),b=function(a,c){for(var e=!0,b=0;b<a[c.name].length;b++){var f=a[c.name][b],t=f.operator,q=f.value,r=void 0;f=c.fieldValue(f.field);if(null!=t&&null!=q){r=d.string(f)||d.number(f)?""+f:"";var l=""+q,g=!1;0<=t.indexOf("@")&&(r=r.toLowerCase(),l=l.toLowerCase(),t=t.replace("@",""),g=!0);var n=!1;0<=t.indexOf("!")&&(t=t.replace("!",""),n=!0);g&&(q=l.toLowerCase(),f=r.toLowerCase());g=!1;switch(t){case "*=":r=0<=r.indexOf(l);break;case "$=":r=0<=r.indexOf(l,r.length-
l.length);break;case "^=":r=0===r.indexOf(l);break;case "=":r=f===q;break;case ">":g=!0;r=f>q;break;case ">=":g=!0;r=f>=q;break;case "<":g=!0;r=f<q;break;case "<=":g=!0;r=f<=q;break;default:r=!1}!n||null==f&&g||(r=!r)}else if(null!=t)switch(t){case "?":r=!!f;break;case "!":r=!f;break;case "^":r=void 0===f}else r=void 0!==f;if(!r){e=!1;break}}return e},a=function(a,b,d){if(null!=a){var e=!1;if(!b)return!1;d=d();for(b=0;b<d.length;b++)if(c(a,d[b])){e=!0;break}return e}return!0},c=function(c,f){if(c.groupOnly)return"*"===
c.group||c.group===f.group();if(null!=c.group&&"*"!=c.group&&c.group!=f.group())return!1;var e=f.cy(),d=void 0,h=!0;for(d=0;d<c.colonSelectors.length&&(h=l(c.colonSelectors[d],f));d++);if(!h)return!1;h=!0;for(d=0;d<c.ids.length;d++){var t=c.ids[d],q=f.id();if(!(h=h&&t==q))break}if(!h)return!1;h=!0;for(d=0;d<c.classes.length&&(t=c.classes[d],h=h&&f.hasClass(t));d++);if(!h||!b(c,{name:"data",fieldValue:function(a){return f.data(a)}})||!b(c,{name:"meta",fieldValue:function(a){return f[a]()}})||null!=
c.collection&&!c.collection.hasElementWithId(f.id())||null!=c.filter&&f.collection().some(c.filter))return!1;h=e.hasCompoundNodes();e=function(){return f.source()};d=function(){return f.target()};return a(c.parent,h,function(){return f.parent()})&&a(c.ancestor,h,function(){return f.parents()})&&a(c.child,h,function(){return f.children()})&&a(c.descendant,h,function(){return f.descendants()})&&a(c.source,!0,e)&&a(c.target,!0,d)&&(!c.connectedNodes||(h=c.connectedNodes[0],c=c.connectedNodes[1],a(h,
!0,e)&&a(c,!0,d))||a(h,!0,d)&&a(c,!0,e))?!0:!1};p.exports={matches:function(a){if(this.invalid())return!1;for(var e=0;e<this.length;e++)if(c(this[e],a))return!0;return!1},filter:function(a){var e=this,b=a.cy();if(e.invalid())return b.collection();if(1===e.length&&1===e[0].length&&1===e[0].ids.length)return a.getElementById(e[0].ids[0]).collection();b=function(a){for(var b=0;b<e.length;b++)if(c(e[b],a))return!0;return!1};return null==e.text()&&(b=function(){return!0}),a.filter(b)}}},function(p,n,g){function l(a,
b,d,k){for(var e=[],f=new c,m=a.cy().hasCompoundNodes(),r=0;r<a.length;r++){var l=a[r];d?e.push(l):m&&k(e,f,l)}for(;0<e.length;)d=e.shift(),b(d),f.add(d.id()),m&&k(e,f,d);return a}function d(a,c,b){if(b.isParent()){b=b._private.children;for(var e=0;e<b.length;e++){var f=b[e];c.has(f.id())||a.push(f)}}}function b(a,c,b){b.isChild()&&(b=b._private.parent,c.has(b.id())||a.push(b))}function a(a,c,m){b(a,c,m);d(a,c,m)}var c=g(8);n={parent:function(a){var c=[];if(1===this.length){var e=this[0]._private.parent;
if(e)return e}for(e=0;e<this.length;e++){var b=this[e]._private.parent;b&&c.push(b)}return this.spawn(c,{unique:!0}).filter(a)},parents:function(a){for(var c=[],e=this.parent();e.nonempty();){for(var b=0;b<e.length;b++)c.push(e[b]);e=e.parent()}return this.spawn(c,{unique:!0}).filter(a)},commonAncestors:function(a){for(var c=void 0,e=0;e<this.length;e++){var b=this[e].parents();c=c||b;c=c.intersect(b)}return c.filter(a)},orphans:function(a){return this.stdFilter(function(a){return a.isOrphan()}).filter(a)},
nonorphans:function(a){return this.stdFilter(function(a){return a.isChild()}).filter(a)},children:function(a){for(var c=[],e=0;e<this.length;e++)c=c.concat(this[e]._private.children);return this.spawn(c,{unique:!0}).filter(a)},siblings:function(a){return this.parent().children().not(this).filter(a)},isParent:function(){var a=this[0];if(a)return a.isNode()&&0!==a._private.children.length},isChildless:function(){var a=this[0];if(a)return a.isNode()&&0===a._private.children.length},isChild:function(){var a=
this[0];if(a)return a.isNode()&&null!=a._private.parent},isOrphan:function(){var a=this[0];if(a)return a.isNode()&&null==a._private.parent},descendants:function(a){function c(a){for(var e=0;e<a.length;e++){var f=a[e];b.push(f);f.children().nonempty()&&c(f.children())}}var b=[];return c(this.children()),this.spawn(b,{unique:!0}).filter(a)},forEachDown:function(a){return l(this,a,!(1<arguments.length&&void 0!==arguments[1])||arguments[1],d)},forEachUp:function(a){return l(this,a,!(1<arguments.length&&
void 0!==arguments[1])||arguments[1],b)},forEachUpAndDown:function(c){return l(this,c,!(1<arguments.length&&void 0!==arguments[1])||arguments[1],a)}};n.ancestors=n.parents;p.exports=n},function(p,n,g){n=g(4);var l=g=void 0;g=l={data:n.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:n.removeData({field:"data",event:"data",
triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:n.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:n.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:n.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,
allowGetting:!0}),removeRscratch:n.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var d=this[0];if(d)return d._private.data.id}};g.attr=g.data;g.removeAttr=g.removeData;p.exports=l},function(p,n,g){function l(b){return function(a){if(void 0===a&&(a=!0),0!==this.length&&this.isNode()&&!this.removed()){for(var c=0,e=this[0],f=e._private.edges,d=0;d<f.length;d++){var k=f[d];!a&&k.isLoop()||(c+=b(e,k))}return c}}}function d(b,a){return function(c){for(var e=void 0,f=this.nodes(),d=0;d<f.length;d++){var k=
f[d][b](c);void 0===k||void 0!==e&&!a(k,e)||(e=k)}return e}}n=g(1);g={};n.extend(g,{degree:l(function(b,a){return a.source().same(a.target())?2:1}),indegree:l(function(b,a){return a.target().same(b)?1:0}),outdegree:l(function(b,a){return a.source().same(b)?1:0})});n.extend(g,{minDegree:d("degree",function(b,a){return b<a}),maxDegree:d("degree",function(b,a){return b>a}),minIndegree:d("indegree",function(b,a){return b<a}),maxIndegree:d("indegree",function(b,a){return b>a}),minOutdegree:d("outdegree",
function(b,a){return b<a}),maxOutdegree:d("outdegree",function(b,a){return b>a})});n.extend(g,{totalDegree:function(b){for(var a=0,c=this.nodes(),e=0;e<c.length;e++)a+=c[e].degree(b);return a}});p.exports=g},function(p,n,g){n=g(1);var l=g(58),d=g(59),b=g(60);g=g(61);p.exports=n.assign({},l,d,b,g)},function(p,n,g){n=g(4);var l=g(0),d=g(2),b=g=void 0;g=function(a,c){for(var b=0;b<a.length;b++){var f=a[b];f.isParent()&&!f.locked()&&(f=f._private.position,f={x:c.x-f.x,y:c.y-f.y},a.children().shift(f))}};
g=b={position:n.data({field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(a){a.updateCompoundBounds()},beforeSet:g,onSet:function(a){a.dirtyCompoundBoundsCache()},canSet:function(a){return!a.locked()}}),silentPosition:n.data({field:"position",bindingEvent:"position",allowBinding:!1,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!1,
triggerFnName:"trigger",allowGetting:!1,validKeys:["x","y"],beforeSet:g,onSet:function(a){a.dirtyCompoundBoundsCache()},canSet:function(a){return!a.locked()}}),positions:function(a,c){if(l.plainObject(a))c?this.silentPosition(a):this.position(a);else if(l.fn(a)){var b=this.cy();b.startBatch();for(var f=0;f<this.length;f++){var d=this[f],k=void 0;(k=a(d,f))&&(c?d.silentPosition(k):d.position(k))}b.endBatch()}return this},silentPositions:function(a){return this.positions(a,!0)},shift:function(a,c){var b=
void 0;if(l.plainObject(a)?b=a:l.string(a)&&l.number(c)&&(b={x:0,y:0},b[a]=c),null!=b)for(a=0;a<this.length;a++){c=this[a];var f=c.position();c.position({x:f.x+b.x,y:f.y+b.y})}return this},renderedPosition:function(a,c){var b=this[0],f=this.cy(),m=f.zoom();f=f.pan();var k=l.plainObject(a)?a:void 0,h=void 0!==k||void 0!==c&&l.string(a);if(b&&b.isNode()){if(!h)return c=b.position(),k=d.modelToRenderedPosition(c,m,f),void 0===a?k:k[a];for(b=0;b<this.length;b++)h=this[b],void 0!==c?h.position(a,(c-f[a])/
m):void 0!==k&&h.position(d.renderedToModelPosition(k,m,f))}else if(!h)return;return this},relativePosition:function(a,c){var b=this[0],f=this.cy(),d=l.plainObject(a)?a:void 0,k=void 0!==d||void 0!==c&&l.string(a);f=f.hasCompoundNodes();if(b&&b.isNode()){if(!k)return c=b.position(),(b=(f=f?b.parent():null)&&0<f.length)&&(f=f[0]),f=b?f.position():{x:0,y:0},d={x:c.x-f.x,y:c.y-f.y},void 0===a?d:d[a];for(b=0;b<this.length;b++){k=this[b];var h=f?k.parent():null,t=h&&0<h.length,q=t;t&&(h=h[0]);h=q?h.position():
{x:0,y:0};void 0!==c?k.position(a,c+h[a]):void 0!==d&&k.position({x:d.x+h.x,y:d.y+h.y})}}else if(!k)return;return this}};g.modelPosition=g.point=g.position;g.modelPositions=g.points=g.positions;g.renderedPoint=g.renderedPosition;g.relativePoint=g.relativePosition;p.exports=b},function(p,n,g){function l(a){return{includeNodes:b.default(a.includeNodes,t.includeNodes),includeEdges:b.default(a.includeEdges,t.includeEdges),includeLabels:b.default(a.includeLabels,t.includeLabels),includeOverlays:b.default(a.includeOverlays,
t.includeOverlays),useCache:b.default(a.useCache,t.useCache)}}var d=g(0),b=g(1),a=g(2);g=n=void 0;n=g={};g.renderedBoundingBox=function(a){a=this.boundingBox(a);var c=this.cy(),b=c.zoom(),e=c.pan();c=a.x1*b+e.x;var d=a.x2*b+e.x,f=a.y1*b+e.y;a=a.y2*b+e.y;return{x1:c,x2:d,y1:f,y2:a,w:d-c,h:a-f}};g.dirtyCompoundBoundsCache=function(){var a=this.cy();return a.styleEnabled()&&a.hasCompoundNodes()?(this.forEachUp(function(a){a._private.compoundBoundsClean=!1;a.isParent()&&a.emit("bounds")}),this):this};
g.updateCompoundBounds=function(){var a=this.cy();if(!a.styleEnabled()||!a.hasCompoundNodes()||a.batching())return this;for(var c=[],b=0;b<this.length;b++){var e=this[b],d=e._private;d.compoundBoundsClean||(!function(a){function b(a,c,b){var e=0,d=0,f=c+b;return 0<a&&0<f&&(e=c/f*a,d=b/f*a),{biasDiff:e,biasComplementDiff:d}}if(a.isParent()){var e=a._private,d=a.children(),f="include"===a.pstyle("compound-sizing-wrt-labels").value,k=a.pstyle("min-width").pfValue,h=a.pstyle("min-width-bias-left"),m=
a.pstyle("min-width-bias-right"),t=a.pstyle("min-height").pfValue,q=a.pstyle("min-height-bias-top"),r=a.pstyle("min-height-bias-bottom");d=d.boundingBox({includeLabels:f,includeOverlays:!1,useCache:!1});f=e.position;0!==d.w&&0!==d.h||(d={w:a.pstyle("width").pfValue,h:a.pstyle("height").pfValue},d.x1=f.x-d.w/2,d.x2=f.x+d.w/2,d.y1=f.y-d.h/2,d.y2=f.y+d.h/2);var l=h.value;"px"===h.units&&0<k&&(l=100*l/k);h=m.value;"px"===m.units&&0<k&&(h=100*h/k);m=q.value;"px"===q.units&&0<t&&(m=100*m/t);q=r.value;"px"===
r.units&&0<t&&(q=100*q/t);l=b(k-d.w,l,h);r=l.biasDiff;l=l.biasComplementDiff;m=b(t-d.h,m,q);q=m.biasDiff;m=m.biasComplementDiff;e.autoPadding=function(a,c,b,e){if("%"!==b.units)return"px"===b.units?b.pfValue:0;switch(e){case "width":return 0<a?b.pfValue*a:0;case "height":return 0<c?b.pfValue*c:0;case "average":return 0<a&&0<c?b.pfValue*(a+c)/2:0;case "min":return 0<a&&0<c?a>c?b.pfValue*c:b.pfValue*a:0;case "max":return 0<a&&0<c?a>c?b.pfValue*a:b.pfValue*c:0;default:return 0}}(d.w,d.h,a.pstyle("padding"),
a.pstyle("padding-relative-to").value);e.autoWidth=Math.max(d.w,k);f.x=(-r+d.x1+d.x2+l)/2;e.autoHeight=Math.max(d.h,t);f.y=(-q+d.y1+d.y2+m)/2;c.push(a)}}(e),a._private.batchingStyle||(d.compoundBoundsClean=!0))}return this};var c=function(a){return a===1/0||a===-1/0?0:a},e=function(a,c,b,e,d){0!=e-c&&0!=d-b&&null!=c&&null!=b&&null!=e&&null!=d&&(a.x1=c<a.x1?c:a.x1,a.x2=e>a.x2?e:a.x2,a.y1=b<a.y1?b:a.y1,a.y2=d>a.y2?d:a.y2)},f=function(a,c,b){if(!c.cy().headless()){var d=c._private.rstyle,f=d.arrowWidth/
2,k=void 0,h=void 0;"none"!==c.pstyle(b+"-arrow-shape").value&&("source"===b?(k=d.srcX,h=d.srcY):"target"===b?(k=d.tgtX,h=d.tgtY):(k=d.midX,h=d.midY),e(a,k-f,h-f,k+f,h+f))}},m=function(a,c,d){if(!c.cy().headless()){var f=void 0;f=d?d+"-":"";var k=c._private,h=k.rstyle;if(c.pstyle(f+"label").strValue){var m=c.pstyle("text-halign"),t=c.pstyle("text-valign"),q=b.getPrefixedProperty(h,"labelWidth",d),l=b.getPrefixedProperty(h,"labelHeight",d),r=b.getPrefixedProperty(h,"labelX",d),g=b.getPrefixedProperty(h,
"labelY",d);h=c.pstyle(f+"text-margin-x").pfValue;var u=c.pstyle(f+"text-margin-y").pfValue,n=c.isEdge(),y=c.pstyle(f+"text-rotation");f=c.pstyle("text-outline-width").pfValue;var p=c.pstyle("text-border-width").pfValue/2;c=c.pstyle("text-background-padding").pfValue;var M=l+2*c,N=q+2*c,L=N/2,Q=M/2,K=c=l=q=void 0;if(n)q=r-L,l=r+L,c=g-Q,K=g+Q;else{switch(m.value){case "left":q=r-N;l=r;break;case "center":q=r-L;l=r+L;break;case "right":q=r,l=r+N}switch(t.value){case "top":c=g-M;K=g;break;case "center":c=
g-Q;K=g+Q;break;case "bottom":c=g,K=g+M}}m=n&&"autorotate"===y.strValue;t=null!=y.pfValue&&0!==y.pfValue;if(m||t){d=m?b.getPrefixedProperty(k.rstyle,"labelAngle",d):y.pfValue;var O=Math.cos(d),R=Math.sin(d);t=function(a,c){return a-=r,c-=g,{x:a*O-c*R+r,y:a*R+c*O+g}};d=t(q,c);k=t(q,K);m=t(l,c);K=t(l,K);q=Math.min(d.x,k.x,m.x,K.x);l=Math.max(d.x,k.x,m.x,K.x);c=Math.min(d.y,k.y,m.y,K.y);K=Math.max(d.y,k.y,m.y,K.y)}q+=h-Math.max(f,p);l+=h+Math.max(f,p);c+=u-Math.max(f,p);K+=u+Math.max(f,p);e(a,q,c,l,
K)}return a}},k=function(a){var c="";return c+=a.incudeNodes?"t":"f",c+=a.includeEdges?"t":"f",c+=a.includeLabels?"t":"f",c+(a.includeOverlays?"t":"f")},h=function(b,d){var h=b._private,l=b.cy().headless(),r=d===t?q:k(d);if(d.useCache&&!l&&h.bbCache&&h.bbCache[r])b=h.bbCache[r];else{var g=b._private.cy,u=g.styleEnabled(),n=g.headless();g={x1:1/0,y1:1/0,x2:-1/0,y2:-1/0};var p=b._private,C=u?b.pstyle("display").value:"element",E=b.isNode(),F=b.isEdge(),D=void 0,H=void 0,I=void 0,J=void 0;if(C="none"!==
C){var M=0;u&&d.includeOverlays&&0!==b.pstyle("overlay-opacity").value&&(M=b.pstyle("overlay-padding").value);var N=0;var L=0;if(u&&(N=b.pstyle("width").pfValue,L=N/2),E&&d.includeNodes)D=b.position(),H=D.x,L=D.y,I=b.outerWidth()/2,J=b.outerHeight()/2,D=H-I-M,H=H+I+M,I=L-J-M,J=L+J+M,e(g,D,I,H,J);else if(F&&d.includeEdges)if(p=p.rstyle||{},u&&!n&&(D=Math.min(p.srcX,p.midX,p.tgtX),H=Math.max(p.srcX,p.midX,p.tgtX),I=Math.min(p.srcY,p.midY,p.tgtY),J=Math.max(p.srcY,p.midY,p.tgtY),D-=L,H+=L,I-=L,J+=L,
e(g,D,I,H,J)),u&&!n&&"haystack"===b.pstyle("curve-style").strValue){J=p.haystackPts||[];if(D=J[0].x,I=J[0].y,H=J[1].x,J=J[1].y,D>H)n=D,D=H,H=n;I>J&&(n=I,I=J,J=n);e(g,D-L,I-L,H+L,J+L)}else{n=p.bezierPts||p.linePts||[];for(p=0;p<n.length;p++)J=n[p],D=J.x-L,H=J.x+L,I=J.y-L,J=J.y+L,e(g,D,I,H,J);if(0===n.length){I=b.source().position();J=b.target().position();if(D=I.x,H=J.x,I=I.y,J=J.y,D>H)n=D,D=H,H=n;I>J&&(n=I,I=J,J=n);D-=L;H+=L;I-=L;J+=L;e(g,D,I,H,J)}}(u&&d.includeEdges&&F&&(f(g,b,"mid-source"),f(g,
b,"mid-target"),f(g,b,"source"),f(g,b,"target")),u)&&"yes"===b.pstyle("ghost").value&&(L=b.pstyle("ghost-offset-x").pfValue,n=b.pstyle("ghost-offset-y").pfValue,e(g,g.x1+L,g.y1+n,g.x2+L,g.y2+n));u&&(D=g.x1,H=g.x2,I=g.y1,J=g.y2,e(g,D-M,I-M,H+M,J+M));u&&d.includeLabels&&(m(g,b,null),F&&(m(g,b,"source"),m(g,b,"target")))}b=(g.x1=c(g.x1),g.y1=c(g.y1),g.x2=c(g.x2),g.y2=c(g.y2),g.w=c(g.x2-g.x1),g.h=c(g.y2-g.y1),0<g.w&&0<g.h&&C&&a.expandBoundingBox(g,1),g);l||(h.bbCache=h.bbCache||{},h.bbCache[r]=b)}return b},
t={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeOverlays:!0,useCache:!0},q=k(t);g.boundingBox=function(a){if(1===this.length&&this[0]._private.bbCache&&(void 0===a||void 0===a.useCache||!0===a.useCache))return a=void 0===a?t:l(a),h(this[0],a);var d={x1:1/0,y1:1/0,x2:-1/0,y2:-1/0};a=a||b.staticEmptyObject();a=l(a);var f=this.cy().styleEnabled();f&&this.recalculateRenderedStyle(a.useCache);this.updateCompoundBounds();for(var k={},m=0;m<this.length;m++){var q=this[m];if(f&&q.isEdge()&&"bezier"===
q.pstyle("curve-style").strValue&&!k[q.id()]){for(var r=q.parallelEdges(),g=0;g<r.length;g++)k[r[g].id()]=!0;r.recalculateRenderedStyle(a.useCache)}q=h(q,a);e(d,q.x1,q.y1,q.x2,q.y2)}return d.x1=c(d.x1),d.y1=c(d.y1),d.x2=c(d.x2),d.y2=c(d.y2),d.w=c(d.x2-d.x1),d.h=c(d.y2-d.y1),d};g.boundingBoxAt=function(a){var c=this.nodes();if(d.plainObject(a)){var b=a;a=function(){return b}}for(var e=0;e<c.length;e++){var f=c[e],k=f._private,h=k.position;f=a.call(f,f,e);k.bbAtOldPos={x:h.x,y:h.y};f&&(h.x=f.x,h.y=
f.y)}this.emit("dirty");c.dirtyCompoundBoundsCache().updateCompoundBounds();a=this.boundingBox({useCache:!1});for(e=0;e<c.length;e++)h=c[e],k=h._private.position,h=h._private.bbAtOldPos,k.x=h.x,k.y=h.y;return c.dirtyCompoundBoundsCache(),this.emit("dirty"),a};n.boundingbox=n.boundingBox;n.renderedBoundingbox=n.renderedBoundingBox;p.exports=g},function(p,n,g){var l=g(1),d=void 0;n=void 0;d=n={};g=function(b){b.uppercaseName=l.capitalize(b.name);b.autoName="auto"+b.uppercaseName;b.labelName="label"+
b.uppercaseName;b.outerName="outer"+b.uppercaseName;b.uppercaseOuterName=l.capitalize(b.outerName);d[b.name]=function(){var a=this[0],c=a._private,e=c.cy._private.styleEnabled;if(a){if(!e)return 1;if(a.isParent())return a.updateCompoundBounds(),c[b.autoName]||0;e=a.pstyle(b.name);switch(e.strValue){case "label":return a.recalculateRenderedStyle(),c.rstyle[b.labelName]||0;default:return e.pfValue}}};d["outer"+b.uppercaseName]=function(){var a=this[0],c=a._private.cy._private.styleEnabled;if(a)return c?
a[b.name]()+a.pstyle("border-width").pfValue+2*a.padding():1};d["rendered"+b.uppercaseName]=function(){var a=this[0];if(a)return a[b.name]()*this.cy().zoom()};d["rendered"+b.uppercaseOuterName]=function(){var a=this[0];if(a)return a[b.outerName]()*this.cy().zoom()}};g({name:"width"});g({name:"height"});n.padding=function(){var b=this[0],a=b._private;return b.isParent()?(b.updateCompoundBounds(),void 0!==a.autoPadding?a.autoPadding:b.pstyle("padding").pfValue):b.pstyle("padding").pfValue};p.exports=
n},function(p,n,g){var l=function(d,b){if(d.isEdge())return b(d.renderer())};p.exports={controlPoints:function(){var d=this;return l(this,function(b){return b.getControlPoints(d)})},segmentPoints:function(){var d=this;return l(this,function(b){return b.getSegmentPoints(d)})},sourceEndpoint:function(){var d=this;return l(this,function(b){return b.getSourceEndpoint(d)})},targetEndpoint:function(){var d=this;return l(this,function(b){return b.getTargetEndpoint(d)})},midpoint:function(){var d=this;return l(this,
function(b){return b.getEdgeMidpoint(d)})}}},function(p,n,g){var l=g(11);n=g(4);var d=g(0),b=g(1),a=g(6),c={qualifierCompare:function(a,c){return null==a||null==c?null==a&&null==c:a.sameText(c)},eventMatches:function(a,c,b){c=c.qualifier;return null==c||a!==b.target&&d.element(b.target)&&c.matches(b.target)},eventFields:function(a){return{cy:a.cy(),target:a}},callbackContext:function(a,c,b){return null!=c.qualifier?b.target:a},beforeEmit:function(a,c){c.conf&&c.conf.once&&c.conf.onceCollection.removeListener(c.event,
c.qualifier,c.callback)},bubble:function(){return!0},parent:function(a){return a.isChild()?a.parent():a.cy()}},e=function(c){return d.string(c)?new a(c):c};g={createEmitter:function(){for(var a=0;a<this.length;a++){var e=this[a],d=e._private;d.emitter||(d.emitter=new l(b.assign({context:e},c)))}return this},emitter:function(){return this._private.emitter},on:function(a,c,b){for(var d=0;d<this.length;d++)this[d].emitter().on(a,e(c),b);return this},removeListener:function(a,c,b){for(var d=0;d<this.length;d++)this[d].emitter().removeListener(a,
e(c),b);return this},one:function(a,c,b){for(var d=0;d<this.length;d++)this[d].emitter().one(a,e(c),b);return this},once:function(a,c,b){for(var d=0;d<this.length;d++)this[d].emitter().on(a,e(c),b,{once:!0,onceCollection:this})},emit:function(a,c){for(var b=0;b<this.length;b++)this[b].emitter().emit(a,c);return this},emitAndNotify:function(a,c){if(0!==this.length)return this.cy().notify({type:a,eles:this}),this.emit(a,c),this}};n.eventAliasesOn(g);p.exports=g},function(p,n,g){var l=g(0),d=g(6);n=
{nodes:function(b){return this.filter(function(a){return a.isNode()}).filter(b)},edges:function(b){return this.filter(function(a){return a.isEdge()}).filter(b)},filter:function(b,a){if(void 0===b)return this;if(l.string(b)||l.elementOrCollection(b))return(new d(b)).filter(this);if(l.fn(b)){for(var c=this.spawn(),e=0;e<this.length;e++){var f=this[e];(a?b.apply(a,[f,e,this]):b(f,e,this))&&c.merge(f)}return c}return this.spawn()},not:function(b){if(b){l.string(b)&&(b=this.filter(b));var a=[];b=b._private.map;
for(var c=0;c<this.length;c++){var e=this[c];b.has(e.id())||a.push(e)}return this.spawn(a)}return this},absoluteComplement:function(){return this.cy().mutableElements().not(this)},intersect:function(b){if(l.string(b))return this.filter(b);var a=[],c=this.length<b.length,e=c?b._private.map:this._private.map;b=c?this:b;for(c=0;c<b.length;c++){var d=e.get(b[c]._private.data.id);d&&a.push(d.ele)}return this.spawn(a)},xor:function(b){var a=this._private.cy;l.string(b)&&(b=a.$(b));var c=[];a=function(a,
b){for(var e=0;e<a.length;e++){var d=a[e];b.hasElementWithId(d._private.data.id)||c.push(d)}};return a(this,b),a(b,this),this.spawn(c)},diff:function(b){var a=this._private.cy;l.string(b)&&(b=a.$(b));a=[];var c=[],e=[],d=function(a,c,b){for(var d=0;d<a.length;d++){var f=a[d];c.hasElementWithId(f._private.data.id)?e.push(f):b.push(f)}};return d(this,b,a),d(b,this,c),{left:this.spawn(a,{unique:!0}),right:this.spawn(c,{unique:!0}),both:this.spawn(e,{unique:!0})}},add:function(b){var a=this._private.cy;
if(!b)return this;l.string(b)&&(b=a.mutableElements().filter(b));a=[];for(var c=0;c<this.length;c++)a.push(this[c]);c=this._private.map;for(var e=0;e<b.length;e++)!c.has(b[e].id())&&a.push(b[e]);return this.spawn(a)},merge:function(b){var a=this._private,c=a.cy;if(!b)return this;b&&l.string(b)&&(b=c.mutableElements().filter(b));a=a.map;for(c=0;c<b.length;c++){var e=b[c],d=e._private.data.id;if(a.has(d)){var m=a.get(d).index;this[m]=e;a.set(d,{ele:e,index:m})}else m=this.length++,this[m]=e,a.set(d,
{ele:e,index:m})}return this},unmergeOne:function(b){b=b[0];var a=b._private.data.id;b=this._private.map;var c=b.get(a);if(!c)return this;c=c.index;this[c]=void 0;b.delete(a);a=c===this.length-1;if(1<this.length&&!a){a=this.length-1;var e=this[a],d=e._private.data.id;this[a]=void 0;this[c]=e;b.set(d,{ele:e,index:c})}return this.length--,this},unmerge:function(b){var a=this._private.cy;if(!b)return this;b&&l.string(b)&&(b=a.mutableElements().filter(b));for(a=0;a<b.length;a++)this.unmergeOne(b[a]);
return this},map:function(b,a){for(var c=[],e=0;e<this.length;e++){var d=this[e];d=a?b.apply(a,[d,e,this]):b(d,e,this);c.push(d)}return c},reduce:function(b,a){for(var c=0;c<this.length;c++)a=b(a,this[c],c,this);return a},max:function(b,a){for(var c=-1/0,e=void 0,d=0;d<this.length;d++){var m=this[d],k=a?b.apply(a,[m,d,this]):b(m,d,this);k>c&&(c=k,e=m)}return{value:c,ele:e}},min:function(b,a){for(var c=1/0,e=void 0,d=0;d<this.length;d++){var m=this[d],k=a?b.apply(a,[m,d,this]):b(m,d,this);k<c&&(c=
k,e=m)}return{value:c,ele:e}}};n.u=n["|"]=n["+"]=n.union=n.or=n.add;n["\\"]=n["!"]=n["-"]=n.difference=n.relativeComplement=n.subtract=n.not;n.n=n["&"]=n["."]=n.and=n.intersection=n.intersect;n["^"]=n["(+)"]=n["(-)"]=n.symmetricDifference=n.symdiff=n.xor;n.fnFilter=n.filterFn=n.stdFilter=n.filter;n.complement=n.abscomp=n.absoluteComplement;p.exports=n},function(p,n,g){p.exports={isNode:function(){return"nodes"===this.group()},isEdge:function(){return"edges"===this.group()},isLoop:function(){return this.isEdge()&&
this.source().id()===this.target().id()},isSimple:function(){return this.isEdge()&&this.source().id()!==this.target().id()},group:function(){var l=this[0];if(l)return l._private.group}}},function(p,n,g){var l=g(0),d=g(17),b=g(1);n={forEach:function(a,c){if(l.fn(a))for(var b=0;b<this.length;b++){var d=this[b];if(!1===(c?a.apply(c,[d,b,this]):a(d,b,this)))break}return this},toArray:function(){for(var a=[],c=0;c<this.length;c++)a.push(this[c]);return a},slice:function(a,c){var b=[],d=this.length;null==
c&&(c=d);null==a&&(a=0);0>a&&(a=d+a);for(0>c&&(c=d+c);0<=a&&a<c&&a<d;a++)b.push(this[a]);return this.spawn(b)},size:function(){return this.length},eq:function(a){return this[a]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return 0===this.length},nonempty:function(){return!this.empty()},sort:function(a){if(!l.fn(a))return this;a=this.toArray().sort(a);return this.spawn(a)},sortByZIndex:function(){return this.sort(d)},
zDepth:function(){var a=this[0];if(a){var c=a._private;if("nodes"===c.group)return c=c.data.parent?a.parents().size():0,a.isParent()?c:b.MAX_INT-1;a=c.target;c=c.source.zDepth();a=a.zDepth();return Math.max(c,a,0)}}};n.each=n.forEach;p.exports=n},function(p,n,g){var l=g(0),d=g(1),b=g(5),a=g(2);n={layoutDimensions:function(a){return(a=d.assign({nodeDimensionsIncludeLabels:!0},a),a.nodeDimensionsIncludeLabels)?(a=this.boundingBox(),{w:a.w,h:a.h}):{w:this.outerWidth(),h:this.outerHeight()}},layoutPositions:function(c,
e,f){var m=this.nodes(),k=this.cy(),h=e.eles,t=function(a,c){return a.id()+"$"+c},q=d.memoize(f,t);c.emit({type:"layoutstart",layout:c});c.animations=[];var r=e.spacingFactor&&1!==e.spacingFactor,g=function(){if(!r)return null;for(var c=a.makeBoundingBox(),b=0;b<m.length;b++){var e=q(m[b],b);a.expandBoundingBoxByPoint(c,e.x,e.y)}return c}();f=d.memoize(function(a,c){c=q(a,c);var b=a.position();if(l.number(b.x)&&l.number(b.y)||a.silentPosition({x:0,y:0}),r){b=Math.abs(e.spacingFactor);var d=g.x1+g.w/
2,f=g.y1+g.h/2;c={x:d+(c.x-d)*b,y:f+(c.y-f)*b}}return null!=e.transform&&(c=e.transform(a,c)),c},t);if(e.animate){for(t=0;t<m.length;t++){var n=m[t],w=f(n,t);null==e.animateFilter||e.animateFilter(n,t)?(n=n.animation({position:w,duration:e.animationDuration,easing:e.animationEasing}),c.animations.push(n),n.play()):n.position(w)}e.fit?(k=k.animation({fit:{boundingBox:h.boundingBoxAt(f),padding:e.padding},duration:e.animationDuration,easing:e.animationEasing}),c.animations.push(k),k.play()):void 0!==
e.zoom&&void 0!==e.pan&&(k=k.animation({zoom:e.zoom,pan:e.pan,duration:e.animationDuration,easing:e.animationEasing}),c.animations.push(k),k.play());c.one("layoutready",e.ready);c.emit({type:"layoutready",layout:c});b.all(c.animations.map(function(a){return a.promise()})).then(function(){c.one("layoutstop",e.stop);c.emit({type:"layoutstop",layout:c})})}else m.positions(f),e.fit&&k.fit(e.eles,e.padding),null!=e.zoom&&k.zoom(e.zoom),e.pan&&k.pan(e.pan),c.one("layoutready",e.ready),c.emit({type:"layoutready",
layout:c}),c.one("layoutstop",e.stop),c.emit({type:"layoutstop",layout:c});return this},layout:function(a){return this.cy().makeLayout(d.extend({},a,{eles:this}))}};n.createLayout=n.makeLayout=n.layout;p.exports=n},function(p,n,g){function l(a,c,b){var e,d=b._private;d=d.styleCache=d.styleCache||{};return null!=(e=d[a])?e:d[a]=c(b)}function d(a,c){return function(b){return l(a,c,b)}}function b(a,c){var b=function(a){return c.call(a)};return function(){var c=this[0];if(c)return l(a,b,c)}}function a(a,
c){if(a=a._private.data.parent?a.parents():null)for(var b=0;b<a.length;b++)if(!c(a[b]))return!1;return!0}function c(c){var b=c.ok,e=c.edgeOkViaNode||c.ok,d=c.parentOk||c.ok;return function(){var c=this.cy();if(!c.styleEnabled())return!0;var f=this[0];c=c.hasCompoundNodes();if(f){var k=f._private;if(!b(f))return!1;if(f.isNode())return!c||a(f,d);f=k.source;k=k.target;return e(f)&&(!c||a(f,e))&&(f===k||e(k)&&(!c||a(k,e)))}}}var e=g(0);n={recalculateRenderedStyle:function(a){var c=this.cy(),b=c.renderer();
c=c.styleEnabled();return b&&c&&b.recalculateRenderedStyle(this,a),this},dirtyStyleCache:function(){var a=function(a){return a._private.styleCache={}};if(this.cy().hasCompoundNodes()){var c=void 0;c=this.spawnSelf().merge(this.descendants()).merge(this.parents());c.merge(c.connectedEdges());c.forEach(a)}else this.forEach(function(c){a(c);c.connectedEdges().forEach(a)});return this},updateStyle:function(a){var c=this._private.cy;if(!c.styleEnabled())return this;if(c._private.batchingStyle)return c._private.batchStyleEles.merge(this),
this;var b=c.hasCompoundNodes();c=c.style();var e=this;a=!(!a&&void 0!==a);b&&(e=this.spawnSelf().merge(this.descendants()).merge(this.parents()));b=c.apply(e);return b.dirtyStyleCache(),b.dirtyCompoundBoundsCache(),a?b.emitAndNotify("style"):b.emit("style"),this},updateMappers:function(a){var c=this._private.cy,b=c.style();if(a=!(!a&&void 0!==a),!c.styleEnabled())return this;c=b.updateMappers(this);return c.dirtyStyleCache(),c.dirtyCompoundBoundsCache(),a?c.emitAndNotify("style"):c.emit("style"),
this},parsedStyle:function(a){var c=this[0],b=c.cy();if(b.styleEnabled())return c?c._private.style[a]||b.style().getDefaultProperty(a):void 0},numericStyle:function(a){var c=this[0];if(c.cy().styleEnabled()&&c)return a=c.pstyle(a),void 0!==a.pfValue?a.pfValue:a.value},numericStyleUnits:function(a){var c=this[0];if(c.cy().styleEnabled())return c?c.pstyle(a).units:void 0},renderedStyle:function(a){var c=this.cy();if(!c.styleEnabled())return this;var b=this[0];return b?c.style().getRenderedStyle(b,a):
void 0},style:function(a,c){var b=this.cy();if(!b.styleEnabled())return this;b=b.style();if(e.plainObject(a))b.applyBypass(this,a,!1),this.dirtyStyleCache(),this.dirtyCompoundBoundsCache(),this.emitAndNotify("style");else if(e.string(a)){if(void 0===c)return(c=this[0])?b.getStylePropertyValue(c,a):void 0;b.applyBypass(this,a,c,!1);this.dirtyStyleCache();this.dirtyCompoundBoundsCache();this.emitAndNotify("style")}else if(void 0===a)return(a=this[0])?b.getRawStyle(a):void 0;return this},removeStyle:function(a){var c=
this.cy();if(!c.styleEnabled())return this;c=c.style();if(void 0===a)for(a=0;a<this.length;a++)c.removeAllBypasses(this[a],!1);else{a=a.split(/\s+/);for(var b=0;b<this.length;b++)c.removeBypasses(this[b],a,!1)}return this.dirtyStyleCache(),this.dirtyCompoundBoundsCache(),this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var a=this.cy();if(!a.styleEnabled())return 1;var c=
a.hasCompoundNodes(),b=this[0];if(b){var e=b._private;a=b.pstyle("opacity").value;if(!c)return a;if(c=e.data.parent?b.parents():null)for(b=0;b<c.length;b++)e=c[b].pstyle("opacity").value,a*=e;return a}},transparent:function(){if(!this.cy().styleEnabled())return!1;var a=this[0],c=a.cy().hasCompoundNodes();return a?c?0===a.effectiveOpacity():0===a.pstyle("opacity").value:void 0},backgrounding:function(){return!!this.cy().styleEnabled()&&!!this[0]._private.backgrounding}};var f=d("eleTakesUpSpace",function(a){return"element"===
a.pstyle("display").value&&0!==a.width()&&(!a.isNode()||0!==a.height())});n.takesUpSpace=b("takesUpSpace",c({ok:f}));g=d("eleInteractive",function(a){return"yes"===a.pstyle("events").value&&"visible"===a.pstyle("visibility").value&&f(a)});var m=d("parentInteractive",function(a){return"visible"===a.pstyle("visibility").value&&f(a)});n.interactive=b("interactive",c({ok:g,parentOk:m,edgeOkViaNode:f}));n.noninteractive=function(){var a=this[0];if(a)return!a.interactive()};g=d("eleVisible",function(a){return"visible"===
a.pstyle("visibility").value&&0!==a.pstyle("opacity").pfValue&&f(a)});n.visible=b("visible",c({ok:g,edgeOkViaNode:f}));n.hidden=function(){var a=this[0];if(a)return!a.visible()};n.bypass=n.css=n.style;n.renderedCss=n.renderedStyle;n.removeBypass=n.removeCss=n.removeStyle;n.pstyle=n.parsedStyle;p.exports=n},function(p,n,g){function l(a){return function(){var c=arguments,b=[];if(2===c.length)this.on(a.event,c[0],c[1]);else if(1===c.length)this.on(a.event,c[0]);else if(0===c.length){for(c=0;c<this.length;c++){var d=
this[c],m=!a.ableField||d._private[a.ableField],k=d._private[a.field]!=a.value;if(a.overrideAble){var h=a.overrideAble(d);if(void 0!==h&&(m=h,!h))return this}m&&(d._private[a.field]=a.value,k&&b.push(d))}b=this.spawn(b);b.updateStyle();b.emit(a.event)}return this}}function d(a){b[a.field]=function(){var c=this[0];if(c){if(a.overrideField){var b=a.overrideField(c);if(void 0!==b)return b}return c._private[a.field]}};b[a.on]=l({event:a.on,field:a.field,ableField:a.ableField,overrideAble:a.overrideAble,
value:!0});b[a.off]=l({event:a.off,field:a.field,ableField:a.ableField,overrideAble:a.overrideAble,value:!1})}var b={};d({field:"locked",overrideField:function(a){return!!a.cy().autolock()||void 0},on:"lock",off:"unlock"});d({field:"grabbable",overrideField:function(a){return!a.cy().autoungrabify()&&void 0},on:"grabify",off:"ungrabify"});d({field:"selected",ableField:"selectable",overrideAble:function(a){return!a.cy().autounselectify()&&void 0},on:"select",off:"unselect"});d({field:"selectable",overrideField:function(a){return!a.cy().autounselectify()&&
void 0},on:"selectify",off:"unselectify"});b.deselect=b.unselect;b.grabbed=function(){var a=this[0];if(a)return a._private.grabbed};d({field:"active",on:"activate",off:"unactivate"});b.inactive=function(){var a=this[0];if(a)return!a._private.active};p.exports=b},function(p,n,g){function l(a){return function(c){for(var b=[],e=0;e<this.length;e++){var d=this[e]._private[a.attr];d&&b.push(d)}return this.spawn(b,{unique:!0}).filter(c)}}function d(a){return function(b){var e=[],d=this._private.cy,f=a||
{};c.string(b)&&(b=d.$(b));for(d=0;d<b.length;d++)for(var k=b[d]._private.edges,h=0;h<k.length;h++){var m=k[h],l=m._private.data,g=this.hasElementWithId(l.source)&&b.hasElementWithId(l.target);l=b.hasElementWithId(l.source)&&this.hasElementWithId(l.target);if(g||l){if(f.thisIsSrc||f.thisIsTgt){if(f.thisIsSrc&&!g)continue;if(f.thisIsTgt&&!l)continue}e.push(m)}}return this.spawn(e,{unique:!0})}}function b(c){return c=a.extend({},{codirected:!1},c),function(a){for(var b=[],e=this.edges(),d=c,f=0;f<e.length;f++){var k=
e[f]._private,h=k.source,m=h._private.data.id;k=k.data.target;h=h._private.edges;for(var l=0;l<h.length;l++){var g=h[l],n=g._private.data,p=n.target,C=n.source;n=p===k&&C===m;p=m===p&&k===C;(d.codirected&&n||!d.codirected&&(n||p))&&b.push(g)}}return this.spawn(b,{unique:!0}).filter(a)}}var a=g(1),c=g(0);n={};g=function(a,b){return function(e,d,f,k){var h=void 0;if(null==e?h="null":c.elementOrCollection(e)&&1===e.length&&(h="#"+e.id()),1===this.length&&h){var m=this[0]._private;m=m.traversalCache=
m.traversalCache||{};m=m[b]=m[b]||{};return m[h]||(m[h]=a.call(this,e,d,f,k))}return a.call(this,e,d,f,k)}};var e=function(a){return function(c){for(var b=[],e=0;e<this.length;e++){var d=this[e];if(d.isNode()){for(var f=!1,h=d.connectedEdges(),k=0;k<h.length;k++){var m=h[k],l=m.source();m=m.target();if(a.noIncomingEdges&&m===d&&l!==d||a.noOutgoingEdges&&l===d&&m!==d){f=!0;break}}f||b.push(d)}}return this.spawn(b,{unique:!0}).filter(c)}},f=function(a){return function(c){for(var b=[],e=0;e<this.length;e++){var d=
this[e];if(d.isNode())for(var f=d.connectedEdges(),h=0;h<f.length;h++){var k=f[h],m=k.source(),l=k.target();a.outgoing&&m===d?(b.push(k),b.push(l)):a.incoming&&l===d&&(b.push(k),b.push(m))}}return this.spawn(b,{unique:!0}).filter(c)}},m=function(a){return function(c){for(var b=this,e=[],d={};;){b=a.outgoing?b.outgoers():b.incomers();if(0===b.length)break;for(var f=!1,h=0;h<b.length;h++){var k=b[h],m=k.id();d[m]||(d[m]=!0,e.push(k),f=!0)}if(!f)break}return this.spawn(e,{unique:!0}).filter(c)}};n.clearTraversalCache=
function(){for(var a=0;a<this.length;a++)this[a]._private.traversalCache=null};a.extend(n,{roots:e({noIncomingEdges:!0}),leaves:e({noOutgoingEdges:!0}),outgoers:g(f({outgoing:!0}),"outgoers"),successors:m({outgoing:!0}),incomers:g(f({incoming:!0}),"incomers"),predecessors:m({incoming:!0})});a.extend(n,{neighborhood:g(function(a){for(var c=[],b=this.nodes(),e=0;e<b.length;e++)for(var d=b[e],f=d.connectedEdges(),k=0;k<f.length;k++){var m=f[k],l=m.source(),g=m.target();l=d===l?g:l;0<l.length&&c.push(l[0]);
c.push(m[0])}return this.spawn(c,{unique:!0}).filter(a)},"neighborhood"),closedNeighborhood:function(a){return this.neighborhood().add(this).filter(a)},openNeighborhood:function(a){return this.neighborhood(a)}});n.neighbourhood=n.neighborhood;n.closedNeighbourhood=n.closedNeighborhood;n.openNeighbourhood=n.openNeighborhood;a.extend(n,{source:g(function(a){var c=this[0],b=void 0;return c&&(b=c._private.source||c.cy().collection()),b&&a?b.filter(a):b},"source"),target:g(function(a){var c=this[0],b=
void 0;return c&&(b=c._private.target||c.cy().collection()),b&&a?b.filter(a):b},"target"),sources:l({attr:"source"}),targets:l({attr:"target"})});a.extend(n,{edgesWith:g(d(),"edgesWith"),edgesTo:g(d({thisIsSrc:!0}),"edgesTo")});a.extend(n,{connectedEdges:g(function(a){for(var c=[],b=0;b<this.length;b++){var e=this[b];if(e.isNode()){e=e._private.edges;for(var d=0;d<e.length;d++)c.push(e[d])}}return this.spawn(c,{unique:!0}).filter(a)},"connectedEdges"),connectedNodes:g(function(a){for(var c=[],b=0;b<
this.length;b++){var e=this[b];e.isEdge()&&(c.push(e.source()[0]),c.push(e.target()[0]))}return this.spawn(c,{unique:!0}).filter(a)},"connectedNodes"),parallelEdges:g(b(),"parallelEdges"),codirectedEdges:g(b({codirected:!0}),"codirectedEdges")});a.extend(n,{components:function(){var a=this,c=a.cy(),b=a.spawn(),e=a.nodes().spawnSelf(),d=[],f=function(a,c){b.merge(a);e.unmerge(a);c.merge(a)};if(e.empty())return a.spawn();do!function(){var b=c.collection();d.push(b);var h=e[0];f(h,b);a.bfs({directed:!1,
roots:h,visit:function(a,c,e,d,h){f(a,b)}})}();while(0<e.length);return d.map(function(a){var c=a.connectedEdges().stdFilter(function(c){return a.anySame(c.source())&&a.anySame(c.target())});return a.union(c)})}});p.exports=n},function(p,n,g){var l=g(0),d=g(1),b=g(7),a=g(14);p.exports={add:function(c){if(l.elementOrCollection(c))if(c._private.cy===this)c=c.restore();else{for(var e=[],f=0;f<c.length;f++)e.push(c[f].json());c=new b(this,e)}else if(l.array(c))c=new b(this,c);else if(l.plainObject(c)&&
(l.array(c.nodes)||l.array(c.edges))){e=[];f=["nodes","edges"];for(var m=0,k=f.length;m<k;m++){var h=f[m],t=c[h];if(l.array(t))for(var q=0,g=t.length;q<g;q++){var u=d.extend({group:h},t[q]);e.push(u)}}c=new b(this,e)}else c=(new a(this,c)).collection();return c},remove:function(a){l.elementOrCollection(a)||l.string(a)&&(a=this.$(a));return a.remove()}}},function(p,n,g){n=g(4);var l=g(1),d=g(72);g={animate:n.animate(),animation:n.animation(),animated:n.animated(),clearQueue:n.clearQueue(),delay:n.delay(),
delayAnimation:n.delayAnimation(),stop:n.stop(),addToAnimationPool:function(b){this.styleEnabled()&&this._private.aniEles.merge(b)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){function b(){a._private.animationsRunning&&l.requestAnimationFrame(function(c){d(c,a);b()})}var a=this;if(a._private.animationsRunning=!0,a.styleEnabled()){var c=a.renderer();c&&c.beforeRender?c.beforeRender(function(c,b){d(b,a)},c.beforeRenderPriorities.animations):b()}}};
p.exports=g},function(p,n,g){var l=g(73),d=g(78);p.exports=function(b,a){function c(a,c){var e=a._private,h=e.animation.current;e=e.animation.queue;var k=!1;if(!c&&"none"===a.pstyle("display").value){h=h.splice(0,h.length).concat(e.splice(0,e.length));for(var m=0;m<h.length;m++)h[m].stop()}0===h.length&&(m=e.shift())&&h.push(m);m=function(a){for(var c=a.length-1;0<=c;c--)(0,a[c])();a.splice(0,a.length)};for(var t=h.length-1;0<=t;t--){var q=h[t],g=q._private;g.stopped?(h.splice(t,1),g.hooked=!1,g.playing=
!1,g.started=!1,m(g.frames)):(g.playing||g.applying)&&(g.playing&&g.applying&&(g.applying=!1),g.started||d(a,q,b,c),l(a,q,b,c),g.applying&&(g.applying=!1),m(g.frames),q.completed()&&(h.splice(t,1),g.hooked=!1,g.playing=!1,g.started=!1,m(g.completes)),k=!0)}return c||0!==h.length||0!==e.length||f.push(a),k}for(var e=a._private.aniEles,f=[],m=!1,k=0;k<e.length;k++){var h=c(e[k]);m=m||h}k=c(a,!0);(m||k)&&(0<e.length?(e.dirtyCompoundBoundsCache(),a.notify({type:"draw",eles:e})):a.notify({type:"draw"}));
e.unmerge(f);a.emit("step")}},function(p,n,g){function l(c,b){return null!=c&&null!=b&&(!(!a.number(c)||!a.number(b))||!(!c||!b))}var d=g(74),b=g(77),a=g(0);p.exports=function(c,e,f,m){var k=!m,h=c._private;e=e._private;var t=e.easing,q=e.startTime,g=(m?c:c.cy()).style();if(!e.easingImpl)if(null==t)e.easingImpl=d.linear;else{var n=void 0;n=a.string(t)?g.parse("transition-timing-function",t).value:t;var p=t=void 0;a.string(n)?(t=n,p=[]):(t=n[1],p=n.slice(2).map(function(a){return+a}));0<p.length?("spring"===
t&&p.push(e.duration),e.easingImpl=d[t].apply(null,p)):e.easingImpl=d[t]}n=e.easingImpl;t=void 0;if(t=0===e.duration?1:(f-q)/e.duration,e.applying&&(t=e.progress),0>t?t=0:1<t&&(t=1),null==e.delay){f=e.startPosition;(q=e.position)&&k&&!c.locked()&&(p=c.position(),l(f.x,q.x)&&(p.x=b(f.x,q.x,t,n)),l(f.y,q.y)&&(p.y=b(f.y,q.y,t,n)),c.emit("position"));q=e.startPan;p=e.pan;var w=h.pan;(f=null!=p&&m)&&(l(q.x,p.x)&&(w.x=b(q.x,p.x,t,n)),l(q.y,p.y)&&(w.y=b(q.y,p.y,t,n)),c.emit("pan"));q=e.startZoom;p=e.zoom;
(m=null!=p&&m)&&(l(q,p)&&(h.zoom=b(q,p,t,n)),c.emit("zoom"));(f||m)&&c.emit("viewport");if((h=e.style)&&0<h.length&&k){for(k=0;k<h.length;k++)f=h[k],m=f.name,q=e.startStyle[m],f=b(q,f,t,n,g.properties[q.name]),g.overrideBypass(c,m,f);c.emit("style")}}return e.progress=t,t}},function(p,n,g){var l=g(75),d=g(76);n=function(a,c,b,d){var e=l(a,c,b,d);return function(a,c,b){return a+(c-a)*e(b)}};var b={linear:function(a,c,b){return a+(c-a)*b},ease:n(.25,.1,.25,1),"ease-in":n(.42,0,1,1),"ease-out":n(0,0,
.58,1),"ease-in-out":n(.42,0,.58,1),"ease-in-sine":n(.47,0,.745,.715),"ease-out-sine":n(.39,.575,.565,1),"ease-in-out-sine":n(.445,.05,.55,.95),"ease-in-quad":n(.55,.085,.68,.53),"ease-out-quad":n(.25,.46,.45,.94),"ease-in-out-quad":n(.455,.03,.515,.955),"ease-in-cubic":n(.55,.055,.675,.19),"ease-out-cubic":n(.215,.61,.355,1),"ease-in-out-cubic":n(.645,.045,.355,1),"ease-in-quart":n(.895,.03,.685,.22),"ease-out-quart":n(.165,.84,.44,1),"ease-in-out-quart":n(.77,0,.175,1),"ease-in-quint":n(.755,.05,
.855,.06),"ease-out-quint":n(.23,1,.32,1),"ease-in-out-quint":n(.86,0,.07,1),"ease-in-expo":n(.95,.05,.795,.035),"ease-out-expo":n(.19,1,.22,1),"ease-in-out-expo":n(1,0,0,1),"ease-in-circ":n(.6,.04,.98,.335),"ease-out-circ":n(.075,.82,.165,1),"ease-in-out-circ":n(.785,.135,.15,.86),spring:function(a,c,e){if(0===e)return b.linear;var f=d(a,c,e);return function(a,c,b){return a+(c-a)*f(b)}},"cubic-bezier":n};p.exports=b},function(p,n,g){p.exports=function(l,d,b,a){function c(a,c,b){return(((1-3*b+3*
c)*a+(3*b-6*c))*a+3*c)*a}var e="undefined"!=typeof Float32Array;if(4!==arguments.length)return!1;for(var f=0;4>f;++f)if("number"!=typeof arguments[f]||isNaN(arguments[f])||!isFinite(arguments[f]))return!1;l=Math.min(l,1);b=Math.min(b,1);l=Math.max(l,0);b=Math.max(b,0);var m=e?new Float32Array(11):Array(11),k=!1;e=function(e){if(!k&&(k=!0,l!==d||b!==a))for(var f=0;11>f;++f)m[f]=c(.1*f,l,b);if(l!==d||b!==a)if(0===e)e=0;else if(1===e)e=1;else{var h=0;for(f=1;10!==f&&m[f]<=e;++f)h+=.1;--f;f=h+(e-m[f])/
(m[f+1]-m[f])*.1;var t=3*(1-3*b+3*l)*f*f+2*(3*b-6*l)*f+3*l;if(.001<=t){for(h=0;4>h;++h){t=3*(1-3*b+3*l)*f*f+2*(3*b-6*l)*f+3*l;if(0===t)break;f-=(c(f,l,b)-e)/t}e=f}else if(0===t)e=f;else{f=h;h+=.1;var g=0;do{var n=f+(h-f)/2;t=c(n,l,b)-e;0<t?h=n:f=n}while(1E-7<Math.abs(t)&&10>++g);e=n}e=c(e,d,a)}return e};e.getControlPoints=function(){return[{x:l,y:d},{x:b,y:a}]};var h="generateBezier("+[l,d,b,a]+")";return e.toString=function(){return h},e}},function(p,n,g){n=function(){function l(b,a,c){var e=b.v+
c.dv*a;return{dx:e,dv:-b.tension*(b.x+c.dx*a)-b.friction*e}}function d(b,a){var c={dx:b.v,dv:-b.tension*b.x-b.friction*b.v},e=l(b,.5*a,c),d=l(b,.5*a,e),m=l(b,a,d),k=1/6*(c.dv+2*(e.dv+d.dv)+m.dv);return b.x+=1/6*(c.dx+2*(e.dx+d.dx)+m.dx)*a,b.v+=k*a,b}return function f(a,c,e){var m={x:-1,v:0,tension:null,friction:null},k=[0],h=0,l=void 0,q=void 0,g=void 0;a=parseFloat(a)||500;c=parseFloat(c)||20;e=e||null;m.tension=a;m.friction=c;for((l=null!==e)?(h=f(a,c),q=h/e*.016):q=.016;g=d(g||m,q),k.push(1+g.x),
h+=16,1E-4<Math.abs(g.x)&&1E-4<Math.abs(g.v););return l?function(a){return k[a*(k.length-1)|0]}:h}}();p.exports=n},function(p,n,g){function l(a,c,b,d,m){if(1===d)return b;c=m(c,b,d);return null==a?c:((a.roundValue||a.color)&&(c=Math.round(c)),void 0!==a.min&&(c=Math.max(c,a.min)),void 0!==a.max&&(c=Math.min(c,a.max)),c)}function d(a,c){return null!=a.pfValue||null!=a.value?null==a.pfValue||null!=c&&"%"===c.type.units?a.value:a.pfValue:a}var b=g(0);p.exports=function(a,c,e,f,m){var k=null!=m?m.type:
null;0>e?e=0:1<e&&(e=1);a=d(a,m);c=d(c,m);if(b.number(a)&&b.number(c))return l(k,a,c,e,f);if(b.array(a)&&b.array(c)){m=[];for(var h=0;h<c.length;h++){var t=a[h],g=c[h];null!=t&&null!=g?(t=l(k,t,g,e,f),m.push(t)):m.push(g)}return m}}},function(p,n,g){p.exports=function(l,d,b,a){var c=!a;d=d._private;var e=a?l:l.cy(),f=e.style();c&&(c=l.position(),d.startPosition=d.startPosition||{x:c.x,y:c.y},d.startStyle=d.startStyle||f.getAnimationStartStyle(l,d.style));a&&(l=e._private.pan,d.startPan=d.startPan||
{x:l.x,y:l.y},d.startZoom=null!=d.startZoom?d.startZoom:e._private.zoom);d.started=!0;d.startTime=b-d.progress*d.duration}},function(p,n,g){var l=g(11);n=g(4);var d=g(0),b=g(1),a=g(6),c={qualifierCompare:function(a,c){return null==a||null==c?null==a&&null==c:a.sameText(c)},eventMatches:function(a,c,b){c=c.qualifier;return null==c||a!==b.target&&d.element(b.target)&&c.matches(b.target)},eventFields:function(a){return{cy:a,target:a}},callbackContext:function(a,c,b){return null!=c.qualifier?b.target:
a}},e=function(c){return d.string(c)?new a(c):c};g={createEmitter:function(){var a=this._private;return a.emitter||(a.emitter=new l(b.assign({context:this},c))),this},emitter:function(){return this._private.emitter},on:function(a,c,b){return this.emitter().on(a,e(c),b),this},removeListener:function(a,c,b){return this.emitter().removeListener(a,e(c),b),this},one:function(a,c,b){return this.emitter().one(a,e(c),b),this},once:function(a,c,b){return this.emitter().one(a,e(c),b),this},emit:function(a,
c){return this.emitter().emit(a,c),this}};n.eventAliasesOn(g);p.exports=g},function(p,n,g){n={png:function(l){var d=this._private.renderer;return l=l||{},d.png(l)},jpg:function(l){var d=this._private.renderer;return l=l||{},l.bg=l.bg||"#fff",d.jpg(l)}};n.jpeg=n.jpg;p.exports=n},function(p,n,g){var l=g(1),d=g(0);n={layout:function(b){if(null==b)return void l.error("Layout options must be specified to make a layout");if(null==b.name)return void l.error("A `name` must be specified to make a layout");
var a=b.name,c=this.extension("layout",a);if(null==c)return void l.error("Can not apply layout: No such layout `"+a+"` found; did you include its JS file?");a=void 0;return a=d.string(b.eles)?this.$(b.eles):null!=b.eles?b.eles:this.$(),new c(l.extend({},b,{cy:this,eles:a}))}};n.createLayout=n.makeLayout=n.layout;p.exports=n},function(p,n,g){p.exports={notify:function(l){var d=this._private;if(d.batchingNotify){var b=d.batchNotifyEles;d=d.batchNotifyTypes;return l.eles&&b.merge(l.eles),void(d.ids[l.type]||
(d.push(l.type),d.ids[l.type]=!0))}d.notificationsEnabled&&(b=this.renderer(),!this.isDestroyed()&&b&&b.notify(l))},notifications:function(l){var d=this._private;if(void 0===l)return d.notificationsEnabled;d.notificationsEnabled=!!l},noNotifications:function(l){this.notifications(!1);l();this.notifications(!0)},batching:function(){return 0<this._private.batchCount},startBatch:function(){var l=this._private;return null==l.batchCount&&(l.batchCount=0),0===l.batchCount&&(l.batchingStyle=l.batchingNotify=
!0,l.batchStyleEles=this.collection(),l.batchNotifyEles=this.collection(),l.batchNotifyTypes=[],l.batchNotifyTypes.ids={}),l.batchCount++,this},endBatch:function(){var l=this._private;return l.batchCount--,0===l.batchCount&&(l.batchingStyle=!1,l.batchStyleEles.updateStyle(),l.batchingNotify=!1,this.notify({type:l.batchNotifyTypes,eles:l.batchNotifyEles})),this},batch:function(l){return this.startBatch(),l(),this.endBatch(),this},batchData:function(l){var d=this;return this.batch(function(){for(var b=
Object.keys(l),a=0;a<b.length;a++){var c=b[a],e=l[c];d.getElementById(c).data(e)}})}}},function(p,n,g){var l=g(1);n={renderTo:function(d,b,a,c){return this._private.renderer.renderTo(d,b,a,c),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify({type:"draw"}),this},resize:function(){return this.invalidateSize(),this.notify({type:"resize"}),this.emit("resize"),this},initRenderer:function(d){var b=this.extension("renderer",d.name);if(null==b)return void l.error("Can not initialise: No such renderer `%s` found; did you include its JS file?",
d.name);this._private.renderer=new b(l.extend({},d,{cy:this}));this.notify({type:"init"})},destroyRenderer:function(){this.notify({type:"destroy"});var d=this.container();if(d)for(d._cyreg=null;0<d.childNodes.length;)d.removeChild(d.childNodes[0]);this._private.renderer=null},onRender:function(d){return this.on("render",d)},offRender:function(d){return this.off("render",d)}};n.invalidateDimensions=n.resize;p.exports=n},function(p,n,g){var l=g(0),d=g(7);n={collection:function(b,a){return l.string(b)?
this.$(b):l.elementOrCollection(b)?b.collection():l.array(b)?new d(this,b,a):new d(this)},nodes:function(b){var a=this.$(function(a){return a.isNode()});return b?a.filter(b):a},edges:function(b){var a=this.$(function(a){return a.isEdge()});return b?a.filter(b):a},$:function(b){var a=this._private.elements;return b?a.filter(b):a.spawnSelf()},mutableElements:function(){return this._private.elements}};n.elements=n.filter=n.$;p.exports=n},function(p,n,g){var l=g(0),d=g(18);p.exports={style:function(b){b&&
this.setStyle(b).update();return this._private.style},setStyle:function(b){var a=this._private;return l.stylesheet(b)?a.style=b.generateStyle(this):l.array(b)?a.style=d.fromJson(this,b):l.string(b)?a.style=d.fromString(this,b):a.style=d(this),a.style}}},function(p,n,g){var l=g(1),d=g(0),b=g(5);p.exports={apply:function(a){var c=this._private,b=c.cy.collection();c.newStyle&&(c.contextStyles={},c.propDiffs={},this.cleanElements(a,!0));for(var d=0;d<a.length;d++){var m=a[d],k=this.getContextMeta(m);
if(!k.empty){b.merge(m);var h=this.getContextStyle(k);k=this.applyContextStyle(k,h,m);c.newStyle||this.updateTransitions(m,k.diffProps);this.updateStyleHints(m)}}return c.newStyle=!1,b},getPropertiesDiff:function(a,c){var b=this._private.propDiffs=this._private.propDiffs||{},d=a+"-"+c,m=b[d];if(m)return m;m=[];for(var k={},h=0;h<this.length;h++){var l=this[h],g="t"===a[h]!==("t"===c[h]),r=0<l.mappedProperties.length;if(g||r){var n=void 0;g&&r?n=l.properties:g?n=l.properties:r&&(n=l.mappedProperties);
for(l=0;l<n.length;l++){g=n[l];r=g.name;for(var p=!1,w=h+1;w<this.length;w++){var v=this[w];if("t"===c[w]&&(p=null!=v.properties[g.name]))break}k[r]||p||(k[r]=!0,m.push(r))}}}return b[d]=m,m},getContextMeta:function(a){var c="",b=void 0,d=a._private.styleCxtKey||"";this._private.newStyle&&(d="");for(var m=0;m<this.length;m++){var k=this[m];c+=k.selector&&k.selector.matches(a)?"t":"f"}return b=this.getPropertiesDiff(d,c),a._private.styleCxtKey=c,{key:c,diffPropNames:b,empty:0===b.length}},getContextStyle:function(a){a=
a.key;var c=this._private.contextStyles=this._private.contextStyles||{};if(c[a])return c[a];for(var b={_private:{key:a}},d=0;d<this.length;d++){var m=this[d];if("t"===a[d])for(var k=0;k<m.properties.length;k++){var h=m.properties[k];b[h.name]=h}}return c[a]=b,b},applyContextStyle:function(a,c,b){a=a.diffPropNames;for(var e={},d=0;d<a.length;d++){var k=a[d],h=c[k],l=b.pstyle(k);if(!h){if(!l)continue;h=l.bypass?{name:k,deleteBypassed:!0}:{name:k,delete:!0}}l!==h&&(l=e[k]={prev:l},this.applyParsedProperty(b,
h),l.next=b.pstyle(k),l.next&&l.next.bypass&&(l.next=l.next.bypassed))}return{diffProps:e}},updateStyleHints:function(a){var c=a._private;if(!a.removed()){var b=!1;if("nodes"===c.group)for(var d=1;d<=this.pieBackgroundN;d++)if(0<a.pstyle("pie-"+d+"-background-size").value){b=!0;break}c.hasPie=b;var m=a.pstyle("text-transform").strValue;b=a.pstyle("label").strValue;d=a.pstyle("source-label").strValue;var k=a.pstyle("target-label").strValue,h=a.pstyle("font-style").strValue,l=a.pstyle("font-size").pfValue+
"px",g=a.pstyle("font-family").strValue,r=a.pstyle("font-weight").strValue,n=a.pstyle("text-valign").strValue,p=a.pstyle("text-valign").strValue,w=a.pstyle("text-outline-width").pfValue,v=a.pstyle("text-wrap").strValue;a=a.pstyle("text-max-width").pfValue;a=h+"$"+l+"$"+g+"$"+r+"$"+m+"$"+n+"$"+p+"$"+w+"$"+v+"$"+a;c.labelStyleKey=a;c.sourceLabelKey=a+"$"+d;c.targetLabelKey=a+"$"+k;c.labelKey=a+"$"+b;c.fontKey=h+"$"+r+"$"+l+"$"+g;c.styleKey=Date.now()}},applyParsedProperty:function(a,c){var b=this,f=
c,m=a._private.style,k=void 0,h=b.types;k=b.properties[f.name].type;var g=f.bypass,q=m[f.name],r=q&&q.bypass,n=a._private,p=function(){b.checkZOrderTrigger(a,f.name,q?q.value:null,f.value)};if("curve-style"===c.name&&"haystack"===c.value&&a.isEdge()&&(a.isLoop()||a.source().isParent()||a.target().isParent())&&(f=c=this.parse(c.name,"bezier",g)),f.delete)return m[f.name]=void 0,p(),!0;if(f.deleteBypassed)return q?!!q.bypass&&(q.bypassed=void 0,p(),!0):(p(),!0);if(f.deleteBypass)return q?!!q.bypass&&
(m[f.name]=q.bypassed,p(),!0):(p(),!0);c=function(){l.error("Do not assign mappings to elements without corresponding data (e.g. ele `"+a.id()+"` for property `"+f.name+"` with data field `"+f.field+"`); try a `["+f.field+"]` selector to limit scope to elements with `"+f.field+"` defined")};switch(f.mapped){case h.mapData:h=f.field.split(".");var w=n.data;for(n=0;n<h.length&&w;n++)w=w[h[n]];n=void 0;if(n=d.number(w)?(w-f.fieldMin)/(f.fieldMax-f.fieldMin):0,0>n?n=0:1<n&&(n=1),k.color){k=f.valueMin[0];
h=f.valueMin[1];w=f.valueMin[2];var v=null==f.valueMin[3]?1:f.valueMin[3];k=[Math.round(k+(f.valueMax[0]-k)*n),Math.round(h+(f.valueMax[1]-h)*n),Math.round(w+(f.valueMax[2]-w)*n),Math.round(v+((null==f.valueMax[3]?1:f.valueMax[3])-v)*n)];k={bypass:f.bypass,name:f.name,value:k,strValue:"rgb("+k[0]+", "+k[1]+", "+k[2]+")"}}else{if(!k.number)return!1;k=this.parse(f.name,f.valueMin+(f.valueMax-f.valueMin)*n,f.bypass,"mapping")}k||(k=this.parse(f.name,q.strValue,f.bypass,"mapping"));k||c();k.mapping=f;
f=k;break;case h.data:k=f.field.split(".");if(n=n.data)for(h=0;h<k.length;h++)n=n[k[h]];(k=this.parse(f.name,n,f.bypass,"mapping"))||(k=this.parse(f.name,q?q.strValue:"",f.bypass,"mapping"));k||c();k.mapping=f;f=k;break;case h.fn:c=f.value;c=c(a);k=this.parse(f.name,c,f.bypass,"mapping");k.mapping=f;f=k;break;case void 0:break;default:return!1}return g?(f.bypassed=r?q.bypassed:q,m[f.name]=f):r?q.bypassed=f:m[f.name]=f,p(),!0},cleanElements:function(a,c){for(var b=this.properties,d=0;d<a.length;d++){var m=
a[d];if(c){m=m._private.style;for(var k=0;k<b.length;k++){var h=b[k],l=m[h.name];l&&(l.bypass?l.bypassed=null:m[h.name]=null)}}else m._private.style={}}},update:function(){this._private.cy.mutableElements().updateStyle()},updateMappers:function(a){for(var c=this._private.cy.collection(),b=0;b<a.length;b++){for(var d=a[b],m=d._private.style,k=!1,h=0;h<this.properties.length;h++){var l=m[this.properties[h].name];l&&l.mapping&&(this.applyParsedProperty(d,l.mapping),k=!0)}k&&(this.updateStyleHints(d),
c.merge(d))}return c},updateTransitions:function(a,c,e){var f=this,m=a._private,k=a.pstyle("transition-property").value,h=a.pstyle("transition-duration").pfValue,l=a.pstyle("transition-delay").pfValue;if(0<k.length&&0<h){var g={};e=!1;for(var r=0;r<k.length;r++){var n=k[r],p=a.pstyle(n),w=c[n];if(w){var v=w.prev;p=null!=w.next?w.next:p;w=!1;var x=void 0;v&&(d.number(v.pfValue)&&d.number(p.pfValue)?(w=p.pfValue-v.pfValue,x=v.pfValue+1E-6*w):d.number(v.value)&&d.number(p.value)?(w=p.value-v.value,x=
v.value+1E-6*w):d.array(v.value)&&d.array(p.value)&&(w=v.value[0]!==p.value[0]||v.value[1]!==p.value[1]||v.value[2]!==p.value[2],x=v.strValue),w&&(g[n]=p.strValue,this.applyBypass(a,n,x),e=!0))}}e&&(m.transitioning=!0,(new b(function(c){0<l?a.delayAnimation(l).play().promise().then(c):c()})).then(function(){return a.animation({style:g,duration:h,easing:a.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){f.removeBypasses(a,k);a.emitAndNotify("style");m.transitioning=
!1}))}else m.transitioning&&(this.removeBypasses(a,k),a.emitAndNotify("style"),m.transitioning=!1)},checkZOrderTrigger:function(a,c,b,d){c=this.properties[c];null==c.triggersZOrder||null!=b&&!c.triggersZOrder(b,d)||this._private.cy.notify({type:"zorder",eles:a})}}},function(p,n,g){var l=g(0),d=g(1);p.exports={applyBypass:function(b,a,c,e){var f=[];if("*"===a||"**"===a){if(void 0!==c)for(a=0;a<this.properties.length;a++){var m=this.parse(this.properties[a].name,c,!0);m&&f.push(m)}}else if(l.string(a))(a=
this.parse(a,c,!0))&&f.push(a);else{if(!l.plainObject(a))return!1;e=c;c=Object.keys(a);for(m=0;m<c.length;m++){var k=c[m],h=(this.properties[k],a[k]);(void 0===h&&(h=a[d.dash2camel(k)]),void 0!==h)&&(k=this.parse(k,h,!0))&&f.push(k)}}if(0===f.length)return!1;a=!1;for(c=0;c<b.length;c++){m=b[c];k={};var g=void 0;for(h=0;h<f.length;h++){var q=f[h];e&&(g=m.pstyle(q.name),g=k[q.name]={prev:g});a=this.applyParsedProperty(m,q)||a;e&&(g.next=m.pstyle(q.name))}a&&this.updateStyleHints(m);e&&this.updateTransitions(m,
k,!0)}return a},overrideBypass:function(b,a,c){a=d.camel2dash(a);for(var e=0;e<b.length;e++){var f=b[e],m=f._private.style[a],k=this.properties[a].type,h=k.color;k=k.mutiple;if(m&&m.bypass){var l=null!=m.pfValue?m.pfValue:m.value;m.value=c;null!=m.pfValue&&(m.pfValue=c);m.strValue=h?"rgb("+c.join(",")+")":k?c.join(" "):""+c;this.checkZOrderTrigger(f,a,l,c)}else this.applyBypass(f,a,c)}},removeAllBypasses:function(b,a){return this.removeBypasses(b,this.propertyNames,a)},removeBypasses:function(b,a,
c){for(var e=0;e<b.length;e++){for(var d=b[e],m={},k=0;k<a.length;k++){var h=a[k],l=this.properties[h],g=d.pstyle(l.name);g&&g.bypass&&(h=this.parse(h,"",!0),g=m[l.name]={prev:g},this.applyParsedProperty(d,h),g.next=d.pstyle(l.name))}this.updateStyleHints(d);c&&this.updateTransitions(d,m,!0)}}}},function(p,n,g){var l=g(3);p.exports={getEmSizeInPixels:function(){var d=this.containerCss("font-size");return null!=d?parseFloat(d):1},containerCss:function(d){var b=this._private.cy.container();if(l&&b&&
l.getComputedStyle)return l.getComputedStyle(b).getPropertyValue(d)}}},function(p,n,g){var l=g(1),d=g(0);p.exports={getRenderedStyle:function(b,a){return a?this.getStylePropertyValue(b,a,!0):this.getRawStyle(b,!0)},getRawStyle:function(b,a){if(b=b[0]){for(var c={},e=0;e<this.properties.length;e++){var d=this.properties[e],m=this.getStylePropertyValue(b,d.name,a);null!=m&&(c[d.name]=m,c[l.dash2camel(d.name)]=m)}return c}},getIndexedStyle:function(b,a,c,e){e=b.pstyle(a)[c][e];return null!=e?e:b.cy().style().getDefaultProperty(a)[c][0]},
getStylePropertyValue:function(b,a,c){if(b=b[0]){var e=this.properties[a];e.alias&&(e=e.pointsTo);a=e.type;e=b.pstyle(e.name);var d=b.cy().zoom();if(e){var m=e.units?a.implicitUnits||"px":null;return m?[].concat(e.pfValue).map(function(a){return a*(c?d:1)+m}).join(" "):e.strValue}}},getAnimationStartStyle:function(b,a){for(var c={},e=0;e<a.length;e++){var f=a[e].name,m=b.pstyle(f);void 0!==m&&(m=d.plainObject(m)?this.parse(f,m.strValue):this.parse(f,m));m&&(c[f]=m)}return c},getPropsList:function(b){var a=
[],c=this.properties;if(b)for(var e=Object.keys(b),d=0;d<e.length;d++){var m=e[d],k=b[m];m=c[m]||c[l.camel2dash(m)];(k=this.parse(m.name,k))&&a.push(k)}return a}}},function(p,n,g){p.exports={appendFromJson:function(l){for(var d=0;d<l.length;d++){var b=l[d],a=b.selector;b=b.style||b.css;var c=Object.keys(b);this.selector(a);for(a=0;a<c.length;a++){var e=c[a];this.css(e,b[e])}}return this},fromJson:function(l){return this.resetToDefault(),this.appendFromJson(l),this},json:function(){for(var l=[],d=
this.defaultLength;d<this.length;d++){var b=this[d],a=b.selector;b=b.properties;for(var c={},e=0;e<b.length;e++){var f=b[e];c[f.name]=f.strValue}l.push({selector:a?a.toString():"core",style:c})}return l}}},function(p,n,g){var l=g(1),d=g(6);p.exports={appendFromString:function(b){function a(){e=e.length>f.length?e.substr(f.length):""}function c(){m=m.length>k.length?m.substr(k.length):""}var e=""+b,f=void 0,m=void 0,k=void 0;for(e=e.replace(/[\/][*](\s|.)+?[*][\/]/g,"");!e.match(/^\s*$/);){b=e.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);
if(!b){l.error("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+e);break}f=b[0];var h=b[1];if("core"!==h&&(new d(h))._private.invalid)l.error("Skipping parsing of block: Invalid selector found in string stylesheet: "+h);else{var g=b[2],q=!1;m=g;for(b=[];!m.match(/^\s*$/);){var r=m.match(/^\s*(.+?)\s*:\s*(.+?)\s*;/);if(!r){l.error("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+g);q=!0;break}k=
r[0];var n=r[1];r=r[2];this.properties[n]?this.parse(n,r)?(b.push({name:n,val:r}),c()):(l.error("Skipping property: Invalid property definition in: "+k),c()):(l.error("Skipping property: Invalid property name in: "+k),c())}if(q){a();break}this.selector(h);for(h=0;h<b.length;h++)g=b[h],this.css(g.name,g.val)}a()}return this},fromString:function(b){return this.resetToDefault(),this.appendFromString(b),this}}},function(p,n,g){var l=g(1),d=g(0),b={};!function(){var a=l.regex.number,c=l.regex.rgbaNoBackRefs,
e=l.regex.hslaNoBackRefs,f=l.regex.hex3,m=l.regex.hex6,k=function(a){return"^"+a+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},h=function(b){var d=a+"|\\w+|"+c+"|"+e+"|"+f+"|"+m;return"^"+b+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+a+")\\s*\\,\\s*("+a+")\\s*,\\s*("+d+")\\s*\\,\\s*("+d+")\\)$"},g=["^url\\s*\\(\\s*['\"]?(.+?)['\"]?\\s*\\)$","^(none)$","^(.+)$"];b.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},zeroOneNumber:{number:!0,min:0,max:1,
unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,
min:0,allowPercent:!0},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials"],multiple:!0},bgClip:{enums:["none","node"]},color:{color:!0},
bool:{enums:["yes","no"]},lineStyle:{enums:["solid","dotted","dashed"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments"]},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontletiant:{enums:["small-caps","normal"]},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none",
"underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textBackgroundShape:{enums:["rectangle","roundrectangle"]},nodeShape:{enums:"rectangle roundrectangle cutrectangle bottomroundrectangle barrel ellipse triangle square pentagon hexagon concavehexagon heptagon octagon tag star diamond vee rhomboid polygon".split(" ")},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:"tee triangle triangle-tee triangle-cross triangle-backcurve half-triangle-overshot vee square circle diamond none".split(" ")},
arrowFill:{enums:["filled","hollow"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},text:{string:!0},data:{mapping:!0,regex:k("data")},layoutData:{mapping:!0,regex:k("layoutData")},scratch:{mapping:!0,regex:k("scratch")},mapData:{mapping:!0,regex:h("mapData")},mapLayoutData:{mapping:!0,regex:h("mapLayoutData")},
mapScratch:{mapping:!0,regex:h("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:g,singleRegexMatchValue:!0},urls:{regexes:g,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position"]},edgeEndpoint:{number:!0,multiple:!0,
units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-line"],singleEnum:!0,validate:function(a,c){switch(a.length){case 2:return"deg"!==c[0]&&"rad"!==c[0]&&"deg"!==c[1]&&"rad"!==c[1];case 1:return d.string(a[0])||"deg"===c[0]||"rad"===c[0];default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+a+")\\s*,\\s*("+a+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+a+")\\s*,\\s*("+a+")\\s*,\\s*("+a+")\\s*,\\s*("+a+")\\s*\\)$"],enums:"linear ease ease-in ease-out ease-in-out ease-in-sine ease-out-sine ease-in-out-sine ease-in-quad ease-out-quad ease-in-out-quad ease-in-cubic ease-out-cubic ease-in-out-cubic ease-in-quart ease-out-quart ease-in-out-quart ease-in-quint ease-out-quint ease-in-out-quint ease-in-expo ease-out-expo ease-in-out-expo ease-in-circ ease-out-circ ease-in-out-circ".split(" ")}};
k=function(a,c){return a!==c};h=b.types;var q=b.properties=[{name:"label",type:h.text},{name:"text-rotation",type:h.textRotation},{name:"text-margin-x",type:h.bidirectionalSize},{name:"text-margin-y",type:h.bidirectionalSize},{name:"source-label",type:h.text},{name:"source-text-rotation",type:h.textRotation},{name:"source-text-margin-x",type:h.bidirectionalSize},{name:"source-text-margin-y",type:h.bidirectionalSize},{name:"source-text-offset",type:h.size},{name:"target-label",type:h.text},{name:"target-text-rotation",
type:h.textRotation},{name:"target-text-margin-x",type:h.bidirectionalSize},{name:"target-text-margin-y",type:h.bidirectionalSize},{name:"target-text-offset",type:h.size},{name:"text-valign",type:h.valign},{name:"text-halign",type:h.halign},{name:"color",type:h.color},{name:"text-outline-color",type:h.color},{name:"text-outline-width",type:h.size},{name:"text-outline-opacity",type:h.zeroOneNumber},{name:"text-opacity",type:h.zeroOneNumber},{name:"text-background-color",type:h.color},{name:"text-background-opacity",
type:h.zeroOneNumber},{name:"text-background-padding",type:h.size},{name:"text-border-opacity",type:h.zeroOneNumber},{name:"text-border-color",type:h.color},{name:"text-border-width",type:h.size},{name:"text-border-style",type:h.borderStyle},{name:"text-background-shape",type:h.textBackgroundShape},{name:"text-transform",type:h.textTransform},{name:"text-wrap",type:h.textWrap},{name:"text-max-width",type:h.size},{name:"text-events",type:h.bool},{name:"font-family",type:h.fontFamily},{name:"font-style",
type:h.fontStyle},{name:"font-weight",type:h.fontWeight},{name:"font-size",type:h.size},{name:"min-zoomed-font-size",type:h.size},{name:"events",type:h.bool},{name:"display",type:h.display,triggersZOrder:k},{name:"visibility",type:h.visibility,triggersZOrder:k},{name:"opacity",type:h.zeroOneNumber,triggersZOrder:function(a,c){return 0===a&&0!==c||0!==a&&0===c}},{name:"z-compound-depth",type:h.zCompoundDepth,triggersZOrder:k},{name:"z-index-compare",type:h.zIndexCompare,triggersZOrder:k},{name:"z-index",
type:h.nonNegativeInt,triggersZOrder:k},{name:"overlay-padding",type:h.size},{name:"overlay-color",type:h.color},{name:"overlay-opacity",type:h.zeroOneNumber},{name:"transition-property",type:h.propList},{name:"transition-duration",type:h.time},{name:"transition-delay",type:h.time},{name:"transition-timing-function",type:h.easing},{name:"height",type:h.nodeSize},{name:"width",type:h.nodeSize},{name:"shape",type:h.nodeShape},{name:"shape-polygon-points",type:h.polygonPointList},{name:"background-color",
type:h.color},{name:"background-opacity",type:h.zeroOneNumber},{name:"background-blacken",type:h.nOneOneNumber},{name:"padding",type:h.sizeMaybePercent},{name:"padding-relative-to",type:h.paddingRelativeTo},{name:"border-color",type:h.color},{name:"border-opacity",type:h.zeroOneNumber},{name:"border-width",type:h.size},{name:"border-style",type:h.borderStyle},{name:"background-image",type:h.urls},{name:"background-image-crossorigin",type:h.bgCrossOrigin},{name:"background-image-opacity",type:h.zeroOneNumbers},
{name:"background-position-x",type:h.bgPos},{name:"background-position-y",type:h.bgPos},{name:"background-width-relative-to",type:h.bgRelativeTo},{name:"background-height-relative-to",type:h.bgRelativeTo},{name:"background-repeat",type:h.bgRepeat},{name:"background-fit",type:h.bgFit},{name:"background-clip",type:h.bgClip},{name:"background-width",type:h.bgWH},{name:"background-height",type:h.bgWH},{name:"position",type:h.position},{name:"compound-sizing-wrt-labels",type:h.compoundIncludeLabels},{name:"min-width",
type:h.size},{name:"min-width-bias-left",type:h.sizeMaybePercent},{name:"min-width-bias-right",type:h.sizeMaybePercent},{name:"min-height",type:h.size},{name:"min-height-bias-top",type:h.sizeMaybePercent},{name:"min-height-bias-bottom",type:h.sizeMaybePercent},{name:"line-style",type:h.lineStyle},{name:"line-color",type:h.color},{name:"curve-style",type:h.curveStyle},{name:"haystack-radius",type:h.zeroOneNumber},{name:"source-endpoint",type:h.edgeEndpoint},{name:"target-endpoint",type:h.edgeEndpoint},
{name:"control-point-step-size",type:h.size},{name:"control-point-distances",type:h.bidirectionalSizes},{name:"control-point-weights",type:h.numbers},{name:"segment-distances",type:h.bidirectionalSizes},{name:"segment-weights",type:h.numbers},{name:"edge-distances",type:h.edgeDistances},{name:"arrow-scale",type:h.positiveNumber},{name:"loop-direction",type:h.angle},{name:"loop-sweep",type:h.angle},{name:"source-distance-from-node",type:h.size},{name:"target-distance-from-node",type:h.size},{name:"ghost",
type:h.bool},{name:"ghost-offset-x",type:h.bidirectionalSize},{name:"ghost-offset-y",type:h.bidirectionalSize},{name:"ghost-opacity",type:h.zeroOneNumber},{name:"selection-box-color",type:h.color},{name:"selection-box-opacity",type:h.zeroOneNumber},{name:"selection-box-border-color",type:h.color},{name:"selection-box-border-width",type:h.size},{name:"active-bg-color",type:h.color},{name:"active-bg-opacity",type:h.zeroOneNumber},{name:"active-bg-size",type:h.size},{name:"outside-texture-bg-color",
type:h.color},{name:"outside-texture-bg-opacity",type:h.zeroOneNumber}];k=b.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];b.pieBackgroundN=16;q.push({name:"pie-size",
type:h.sizeMaybePercent});for(g=1;g<=b.pieBackgroundN;g++)q.push({name:"pie-"+g+"-background-color",type:h.color}),q.push({name:"pie-"+g+"-background-size",type:h.percent}),q.push({name:"pie-"+g+"-background-opacity",type:h.zeroOneNumber});var r=b.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:h.arrowShape},{name:"arrow-color",type:h.color},{name:"arrow-fill",type:h.arrowFill}].forEach(function(a){r.forEach(function(c){q.push({name:c+"-"+a.name,type:a.type})})},
{});b.propertyNames=q.map(function(a){return a.name});for(h=0;h<q.length;h++)g=q[h],q[g.name]=g;for(h=0;h<k.length;h++){g=k[h];var n={name:g.name,alias:!0,pointsTo:q[g.pointsTo]};q.push(n);q[g.name]=n}}();b.getDefaultProperty=function(a){return this.getDefaultProperties()[a]};b.getDefaultProperties=l.memoize(function(){for(var a=l.extend({events:"yes","text-events":"no","text-valign":"top","text-halign":"center",color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,
"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none",
"target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"transition-property":"none","transition-duration":0,"transition-delay":0,
"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-position-x":"50%","background-position-y":"50%","background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto",
"border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",
value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(a,c){for(var e=1;e<=b.pieBackgroundN;e++){var d=c.name.replace("{{i}}",e);a[d]=c.value}return a},{}),{"line-style":"solid","line-color":"#999","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"edge-distances":"intersection","curve-style":"bezier","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg",
"source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node"},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"}].reduce(function(a,c){return b.arrowPrefixes.forEach(function(b){a[b+"-"+c.name]=c.value}),a},{})),c={},e=0;e<this.properties.length;e++){var d=this.properties[e];if(!d.pointsTo){d=d.name;var m=this.parse(d,a[d]);c[d]=m}}return c});b.addDefaultStylesheet=function(){this.selector("$node > node").css({shape:"rectangle",
padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3,"curve-style":"haystack"}).selector(":parent <-> node").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector("node:parent:selected").css({"background-color":"#CCE1F9",
"border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}).selector("core").css({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125});this.defaultLength=this.length};p.exports=b},function(p,n,g){var l=g(1),d=g(0),b=g(2);p.exports=
{parse:function(a,c,b,f){if(d.fn(c))return this.parseImplWarn(a,c,b,f);var e=[a,c,b,"mapping"===f||!0===f||!1===f||null==f?"dontcare":f].join("$"),k=this.propCache=this.propCache||{},h=void 0;return(h=k[e])||(h=k[e]=this.parseImplWarn(a,c,b,f)),(b||"mapping"===f)&&(h=l.copy(h))&&(h.value=l.copy(h.value)),h},parseImplWarn:function(a,c,b,d){b=this.parseImpl(a,c,b,d);return b||null==c||l.error("The style property `%s: %s` is invalid",a,c),b},parseImpl:function(a,c,e,f){a=l.camel2dash(a);var m=this.properties[a],
k=c,h=this.types;if(!m||void 0===c||null===c)return null;m.alias&&(m=m.pointsTo,a=m.name);var g=d.string(c);g&&(c=c.trim());var q=m.type;if(!q)return null;if(e&&(""===c||null===c))return{name:a,value:c,bypass:!0,deleteBypass:!0};if(d.fn(c))return{name:a,value:c,strValue:"fn",mapped:h.fn,bypass:e};m=m=void 0;if(g&&!f){if(m=(new RegExp(h.data.regex)).exec(c))return e?!1:{name:a,value:m,strValue:""+c,mapped:h.data,field:m[1],bypass:e};if(m=(new RegExp(h.mapData.regex)).exec(c)){if(e||q.multiple)return!1;
k=h.mapData;if(!q.color&&!q.number)return!1;g=this.parse(a,m[4]);if(!g||g.mapped)return!1;f=this.parse(a,m[5]);if(!f||f.mapped||g.value===f.value)return!1;if(q.color){h=g.value;var r=f.value;if(!(h[0]!==r[0]||h[1]!==r[1]||h[2]!==r[2]||h[3]!==r[3]&&(null!=h[3]&&1!==h[3]||null!=r[3]&&1!==r[3])))return!1}return{name:a,value:m,strValue:""+c,mapped:k,field:m[1],fieldMin:parseFloat(m[2]),fieldMax:parseFloat(m[3]),valueMin:g.value,valueMax:f.value,bypass:e}}}if(q.multiple&&"multiple"!==f){k=void 0;if(k=
g?c.split(/\s+/):d.array(c)?c:[c],q.evenMultiple&&0!=k.length%2)return null;g=[];m=[];f=[];h=!1;for(r=0;r<k.length;r++){var n=this.parse(a,k[r],e,"multiple");h=h||d.string(n.value);g.push(n.value);f.push(null!=n.pfValue?n.pfValue:n.value);m.push(n.units)}return q.validate&&!q.validate(g,m)?null:q.singleEnum&&h?1===g.length&&d.string(g[0])?{name:a,value:g[0],strValue:g[0],bypass:e}:null:{name:a,value:g,pfValue:f,strValue:g.join(" "),bypass:e,units:m}}f=function(){for(var b=0;b<q.enums.length;b++)if(q.enums[b]===
c)return{name:a,value:c,strValue:""+c,bypass:e};return null};if(q.number){m=void 0;h="px";(q.units&&(m=q.units),q.implicitUnits&&(h=q.implicitUnits),q.unitless)||(g?(g="px|em"+(q.allowPercent?"|\\%":""),m&&(g=m),(g=c.match("^("+l.regex.number+")("+g+")?$"))&&(c=g[1],m=g[2]||h)):m&&!q.implicitUnits||(m=h));if(c=parseFloat(c),isNaN(c)&&void 0===q.enums)return null;if(isNaN(c)&&void 0!==q.enums)return c=k,f();if(q.integer&&!d.integer(c)||void 0!==q.min&&(c<q.min||q.strictMin&&c===q.min)||void 0!==q.max&&
(c>q.max||q.strictMax&&c===q.max))return null;k={name:a,value:c,strValue:""+c+(m||""),units:m,bypass:e};return q.unitless||"px"!==m&&"em"!==m?k.pfValue=c:k.pfValue="px"!==m&&m?this.getEmSizeInPixels()*c:c,"ms"!==m&&"s"!==m||(k.pfValue="ms"===m?c:1E3*c),"deg"!==m&&"rad"!==m||(k.pfValue="rad"===m?c:b.deg2rad(c)),"%"===m&&(k.pfValue=c/100),k}if(q.propList){k=[];g=""+c;if("none"!==g){g=g.split(",");for(m=0;m<g.length;m++)f=g[m].trim(),this.properties[f]&&k.push(f);if(0===k.length)return null}return{name:a,
value:k,strValue:0===k.length?"none":k.join(", "),bypass:e}}if(q.color)return(k=l.color2tuple(c))?{name:a,value:k,pfValue:k,strValue:""+c,bypass:e}:null;if(q.regex||q.regexes){if(q.enums&&(k=f()))return k;k=q.regexes?q.regexes:[q.regex];for(g=0;g<k.length;g++)if(m=(new RegExp(k[g])).exec(c))return{name:a,value:q.singleRegexMatchValue?m[1]:m,strValue:""+c,bypass:e};return null}return q.string?{name:a,value:""+c,strValue:""+c,bypass:e}:q.enums?f():null}}},function(p,n,g){var l=g(0),d=g(3),b=g(2);n=
{autolock:function(a){return void 0===a?this._private.autolock:(this._private.autolock=!!a,this)},autoungrabify:function(a){return void 0===a?this._private.autoungrabify:(this._private.autoungrabify=!!a,this)},autounselectify:function(a){return void 0===a?this._private.autounselectify:(this._private.autounselectify=!!a,this)},panningEnabled:function(a){return void 0===a?this._private.panningEnabled:(this._private.panningEnabled=!!a,this)},userPanningEnabled:function(a){return void 0===a?this._private.userPanningEnabled:
(this._private.userPanningEnabled=!!a,this)},zoomingEnabled:function(a){return void 0===a?this._private.zoomingEnabled:(this._private.zoomingEnabled=!!a,this)},userZoomingEnabled:function(a){return void 0===a?this._private.userZoomingEnabled:(this._private.userZoomingEnabled=!!a,this)},boxSelectionEnabled:function(a){return void 0===a?this._private.boxSelectionEnabled:(this._private.boxSelectionEnabled=!!a,this)},pan:function(){var a=arguments,c=this._private.pan,b=void 0;switch(a.length){case 0:return c;
case 1:if(l.string(a[0]))return b=a[0],c[b];if(l.plainObject(a[0])){if(!this._private.panningEnabled)return this;a=a[0];b=a.x;a=a.y;l.number(b)&&(c.x=b);l.number(a)&&(c.y=a);this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;b=a[0];a=a[1];"x"!==b&&"y"!==b||!l.number(a)||(c[b]=a);this.emit("pan viewport")}return this.notify({type:"viewport"}),this},panBy:function(a,c){var b=arguments,d=this._private.pan,m,k=m=void 0,h=void 0;if(!this._private.panningEnabled)return this;
switch(b.length){case 1:l.plainObject(a)&&(m=b[0],k=m.x,h=m.y,l.number(k)&&(d.x+=k),l.number(h)&&(d.y+=h),this.emit("pan viewport"));break;case 2:b=a,m=c,"x"!==b&&"y"!==b||!l.number(m)||(d[b]+=m),this.emit("pan viewport")}return this.notify({type:"viewport"}),this},fit:function(a,c){if(a=this.getFitViewport(a,c))c=this._private,c.zoom=a.zoom,c.pan=a.pan,this.emit("pan zoom viewport"),this.notify({type:"viewport"});return this},getFitViewport:function(a,c){if(l.number(a)&&void 0===c&&(c=a,a=void 0),
this._private.panningEnabled&&this._private.zoomingEnabled){var b=void 0;l.string(a)?a=this.$(a):l.boundingBox(a)?(b=a,b={x1:b.x1,y1:b.y1,x2:b.x2,y2:b.y2},b.w=b.x2-b.x1,b.h=b.y2-b.y1):l.elementOrCollection(a)||(a=this.mutableElements());if(!l.elementOrCollection(a)||!a.empty()){b=b||a.boundingBox();a=this.width();var d=this.height();if(c=l.number(c)?c:0,!isNaN(a)&&!isNaN(d)&&0<a&&0<d&&!isNaN(b.w)&&!isNaN(b.h)&&0<b.w&&0<b.h)return c=Math.min((a-2*c)/b.w,(d-2*c)/b.h),c=c>this._private.maxZoom?this._private.maxZoom:
c,c=c<this._private.minZoom?this._private.minZoom:c,{zoom:c,pan:{x:(a-c*(b.x1+b.x2))/2,y:(d-c*(b.y1+b.y2))/2}}}}},minZoom:function(a){return void 0===a?this._private.minZoom:(l.number(a)&&(this._private.minZoom=a),this)},maxZoom:function(a){return void 0===a?this._private.maxZoom:(l.number(a)&&(this._private.maxZoom=a),this)},getZoomedViewport:function(a){var c=this._private,d=c.pan,f=c.zoom,m=void 0,k=void 0,h=!1;return(c.zoomingEnabled||(h=!0),l.number(a)?k=a:l.plainObject(a)&&(k=a.level,null!=
a.position?m=b.modelToRenderedPosition(a.position,f,d):null!=a.renderedPosition&&(m=a.renderedPosition),null==m||c.panningEnabled||(h=!0)),k=k>c.maxZoom?c.maxZoom:k,k=k<c.minZoom?c.minZoom:k,!h&&l.number(k)&&k!==f&&(null==m||l.number(m.x)&&l.number(m.y)))?null!=m?(a=k,{zoomed:!0,panned:!0,zoom:a,pan:{x:-a/f*(m.x-d.x)+m.x,y:-a/f*(m.y-d.y)+m.y}}):{zoomed:!0,panned:!1,zoom:k,pan:d}:null},zoom:function(a){if(void 0===a)return this._private.zoom;a=this.getZoomedViewport(a);var c=this._private;return null!=
a&&a.zoomed?(c.zoom=a.zoom,a.panned&&(c.pan.x=a.pan.x,c.pan.y=a.pan.y),this.emit("zoom"+(a.panned?" pan":"")+" viewport"),this.notify({type:"viewport"}),this):this},viewport:function(a){var c=this._private,b=!0,d=!0,m=[],k=!1,h=!1;if(!a||(l.number(a.zoom)||(b=!1),l.plainObject(a.pan)||(d=!1),!b&&!d))return this;b&&(b=a.zoom,b<c.minZoom||b>c.maxZoom||!c.zoomingEnabled?k=!0:(c.zoom=b,m.push("zoom")));!d||k&&a.cancelOnFailedZoom||!c.panningEnabled||(a=a.pan,l.number(a.x)&&(c.pan.x=a.x,h=!1),l.number(a.y)&&
(c.pan.y=a.y,h=!1),h||m.push("pan"));return 0<m.length&&(m.push("viewport"),this.emit(m.join(" ")),this.notify({type:"viewport"})),this},center:function(a){a=this.getCenterPan(a);return a&&(this._private.pan=a,this.emit("pan viewport"),this.notify({type:"viewport"})),this},getCenterPan:function(a,c){if(this._private.panningEnabled&&(l.string(a)?a=this.mutableElements().filter(a):l.elementOrCollection(a)||(a=this.mutableElements()),0!==a.length)){a=a.boundingBox();var b=this.width(),d=this.height();
c=void 0===c?this._private.zoom:c;return{x:(b-c*(a.x1+a.x2))/2,y:(d-c*(a.y1+a.y2))/2}}},reset:function(){return this._private.panningEnabled&&this._private.zoomingEnabled?(this.viewport({pan:{x:0,y:0},zoom:1}),this):this},invalidateSize:function(){this._private.sizeCache=null},size:function(){var a=this._private,c=a.container,b;(b=a.sizeCache)||(c?(b=d.getComputedStyle(c),c={width:c.clientWidth-parseFloat(b.getPropertyValue("padding-left"))-parseFloat(b.getPropertyValue("padding-right")),height:c.clientHeight-
parseFloat(b.getPropertyValue("padding-top"))-parseFloat(b.getPropertyValue("padding-bottom"))}):c={width:1,height:1},b=c);return a.sizeCache=b},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var a=this._private.pan,c=this._private.zoom,b=this.renderedExtent();a={x1:(b.x1-a.x)/c,x2:(b.x2-a.x)/c,y1:(b.y1-a.y)/c,y2:(b.y2-a.y)/c};return a.w=a.x2-a.x1,a.h=a.y2-a.y1,a},renderedExtent:function(){var a=this.width(),c=this.height();return{x1:0,y1:0,
x2:a,y2:c,w:a,h:c}}};n.centre=n.center;n.autolockNodes=n.autolock;n.autoungrabifyNodes=n.autoungrabify;p.exports=n},function(p,n,g){function l(a,b,l){var g=l,q=function(d){c.error("Can not register `"+b+"` for `"+a+"` since `"+d+"` already exists in the prototype and can not be overridden")};if("core"===a){if(m.prototype[b])return q(b);m.prototype[b]=l}else if("collection"===a){if(f.prototype[b])return q(b);f.prototype[b]=l}else if("layout"===a){q=function(a){this.options=a;l.call(this,a);k.plainObject(this._private)||
(this._private={});this._private.cy=a.cy;this._private.listeners=[];this.createEmitter()};var r=q.prototype=Object.create(l.prototype),n=[];for(g=0;g<n.length;g++){var u=n[g];r[u]=r[u]||function(){return this}}r.start&&!r.run?r.run=function(){return this.start(),this}:!r.start&&r.run&&(r.start=function(){return this.run(),this});var p=l.prototype.stop;r.stop=function(){var a=this.options;if(a&&a.animate&&(a=this.animations))for(var c=0;c<a.length;c++)a[c].stop();return p?p.call(this):this.emit("layoutstop"),
this};r.destroy||(r.destroy=function(){return this});r.cy=function(){return this._private.cy};c.assign(r,{createEmitter:function(){return this._private.emitter=new h({eventFields:function(a){return{layout:a,cy:a._private.cy,target:a}},bubble:function(){return!0},parent:function(a){return a._private.cy},context:this}),this},emitter:function(){return this._private.emitter},on:function(a,c){return this.emitter().on(a,c),this},one:function(a,c){return this.emitter().one(a,c),this},once:function(a,c){return this.emitter().one(a,
c),this},removeListener:function(a,c){return this.emitter().removeListener(a,c),this},emit:function(a,c){return this.emitter().emit(a,c),this}});e.eventAliasesOn(r);g=q}else if("renderer"===a&&"null"!==b&&"base"!==b){var y=d("renderer","base");g=y.prototype;u=l.prototype;var E=function(){y.apply(this,arguments);l.apply(this,arguments)},F=E.prototype;for(r in g){var D=g[r];if(null!=u[r])return q(r);F[r]=D}for(n in u)F[n]=u[n];g.clientFunctions.forEach(function(a){F[a]=F[a]||function(){c.error("Renderer does not implement `renderer."+
a+"()` on its prototype")}});g=E}return c.setMap({map:t,keys:[a,b],value:g})}function d(a,b){return c.getMap({map:t,keys:[a,b]})}function b(a,b,d,e,f){return c.setMap({map:q,keys:[a,b,d,e],value:f})}function a(a,b,d,e){return c.getMap({map:q,keys:[a,b,d,e]})}var c=g(1),e=g(4),f=g(7),m=g(12);n=g(96);var k=g(0),h=g(11),t={},q={};g=function(){return 2===arguments.length?d.apply(null,arguments):3===arguments.length?l.apply(null,arguments):4===arguments.length?a.apply(null,arguments):5===arguments.length?
b.apply(null,arguments):void c.error("Invalid extension access syntax")};m.prototype.extension=g;n.forEach(function(a){a.extensions.forEach(function(c){l(a.type,c.name,c.impl)})});p.exports=g},function(p,n,g){p.exports=[{type:"layout",extensions:g(97)},{type:"renderer",extensions:g(106)}]},function(p,n,g){p.exports=[{name:"breadthfirst",impl:g(98)},{name:"circle",impl:g(99)},{name:"concentric",impl:g(100)},{name:"cose",impl:g(101)},{name:"grid",impl:g(102)},{name:"null",impl:g(103)},{name:"preset",
impl:g(104)},{name:"random",impl:g(105)}]},function(p,n,g){function l(a){this.options=d.extend({},c,a)}var d=g(1),b=g(2),a=g(0),c={fit:!0,directed:!1,padding:30,circle:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,maximalAdjustments:0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(a,c){return!0},ready:void 0,stop:void 0,transform:function(a,c){return c}};l.prototype.run=function(){var c=this.options,d=c.cy,m=c.eles,
k=m.nodes().not(":parent"),h=b.makeBoundingBox(c.boundingBox?c.boundingBox:{x1:0,y1:0,w:d.width(),h:d.height()}),l=void 0;if(a.elementOrCollection(c.roots))l=c.roots;else if(a.array(c.roots)){for(var g=[],r=0;r<c.roots.length;r++){var n=d.getElementById(c.roots[r]);g.push(n)}l=d.collection(g)}else if(a.string(c.roots))l=d.$(c.roots);else if(c.directed)l=k.roots();else{for(var p=[],w=k;0<w.length;)!function(){var a=d.collection();m.bfs({roots:w[0],visit:function(c,b,d,e,f){a=a.add(c)},directed:!1});
w=w.not(a);p.push(a)}();l=d.collection();for(g=0;g<p.length;g++)!function(a){a=p[a];var c=a.maxDegree(!1);a=a.filter(function(a){return a.degree(!1)===c});l=l.add(a)}(g)}var v=[],x={},A={},G={};m.bfs({roots:l,directed:c.directed,visit:function(a,c,b,d,e){c=a[0];d=c.id();if(v[e]||(v[e]=[]),v[e].push(c),x[d]=!0,A[d]=e,b)b=b.id(),(G[b]=G[b]||[]).push(a)}});g=[];for(r=0;r<k.length;r++)n=k[r],x[n.id()]||g.push(n);r=3*g.length;for(n=0;0!==g.length&&n<r;){for(var B=g.shift(),C=B.neighborhood().nodes(),E=
!1,F=0;F<C.length;F++){var D=A[C[F].id()];if(void 0!==D){v[D].push(B);E=!0;break}}E||g.push(B);n++}for(;0!==g.length;)r=g.shift(),0===v.length&&v.push([]),v[0].push(r);g=function(){for(var a=0;a<v.length;a++)for(var c=v[a],b=0;b<c.length;b++){var d=c[b];null!=d?d._private.scratch.breadthfirst={depth:a,index:b}:(c.splice(b,1),b--)}};g();for(r=0;r<c.maximalAdjustments;r++){B=v.length;n=[];for(C=0;C<B;C++)for(E=v[C],F=E.length,D=0;D<F;D++){var H=E[D],I=H._private.scratch.breadthfirst,J=function(a){for(var c=
a.connectedEdges(function(c){return c.data("target")===a.id()}),b=a._private.scratch.breadthfirst,d=0,e=void 0,f=0;f<c.length;f++){var h=c[f].source()[0],k=h._private.scratch.breadthfirst;b.depth<=k.depth&&d<k.depth&&(d=k.depth,e=h)}return e}(H);J&&(I.intEle=J,n.push(H))}for(B=0;B<n.length;B++){C=n[B];E=C._private.scratch.breadthfirst;F=E.intEle._private.scratch.breadthfirst;v[E.depth][E.index]=null;for(F=F.depth+1;F>v.length-1;)v.push([]);v[F].push(C);E.depth=F;E.index=v[F].length-1}g()}var M=0;
if(c.avoidOverlap)for(r=0;r<k.length;r++)n=k[r].layoutDimensions(c),M=Math.max(M,n.w,n.h);var N={},L=function(a){if(N[a.id()])return N[a.id()];for(var c=a._private.scratch.breadthfirst.depth,b=a.neighborhood().nodes().not(":parent").intersection(k),d=0,e=0,f=0;f<b.length;f++){var h=b[f]._private.scratch.breadthfirst,m=h.index;h=h.depth;var l=v[h].length;(c>h||0===c)&&(d+=m/l,e++)}return e=Math.max(1,e),d/=e,0===e&&(d=void 0),N[a.id()]=d,d};r=function(a,c){return L(a)-L(c)};for(n=0;3>n;n++){for(B=
0;B<v.length;B++)v[B]=v[B].sort(r);g()}for(g=0;g<v.length;g++);var Q=h.x1+h.w/2,K=h.x1+h.h/2,O={};for(g=v.length-1;0<=g;g--)for(r=v[g],n=0;n<r.length;n++)B=r[n],O[B.id()]=function(a,b){b=a._private.scratch.breadthfirst;a=b.depth;b=b.index;var d=v[a].length,e=Math.max(h.w/(d+1),M),f=Math.max(h.h/(v.length+1),M),k=Math.min(h.w/2/v.length,h.h/2/v.length);return(k=Math.max(k,M),c.circle)&&c.circle?(d=k*a+k-(0<v.length&&3>=v[0].length?k/2:0),b*=2*Math.PI/v[a].length,0===a&&1===v[0].length&&(d=1),{x:Q+
d*Math.cos(b),y:K+d*Math.sin(b)}):{x:Q+(b+1-(d+1)/2)*e,y:(a+1)*f}}(B,v.length);return k.layoutPositions(this,c,function(a){return O[a.id()]}),this};p.exports=l},function(p,n,g){function l(a){this.options=d.extend({},c,a)}var d=g(1),b=g(2),a=g(0),c={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(a,
c){return!0},ready:void 0,stop:void 0,transform:function(a,c){return c}};l.prototype.run=function(){var c=this.options,d=c.cy,m=void 0!==c.counterclockwise?!c.counterclockwise:c.clockwise,k=c.eles.nodes().not(":parent");c.sort&&(k=k.sort(c.sort));for(var h=b.makeBoundingBox(c.boundingBox?c.boundingBox:{x1:0,y1:0,w:d.width(),h:d.height()}),l=h.x1+h.w/2,g=h.y1+h.h/2,r=(void 0===c.sweep?2*Math.PI-2*Math.PI/k.length:c.sweep)/Math.max(1,k.length-1),n=void 0,p=d=0;p<k.length;p++){var w=k[p].layoutDimensions(c);
d=Math.max(d,w.w,w.h)}if(n=a.number(c.radius)?c.radius:1>=k.length?0:Math.min(h.h,h.w)/2-d,1<k.length&&c.avoidOverlap)d*=1.75,h=Math.cos(r)-Math.cos(0),p=Math.sin(r)-Math.sin(0),n=Math.max(Math.sqrt(d*d/(h*h+p*p)),n);return k.layoutPositions(this,c,function(a,b){a=c.startAngle+b*r*(m?1:-1);return{x:l+n*Math.cos(a),y:g+n*Math.sin(a)}}),this};p.exports=l},function(p,n,g){function l(c){this.options=d.extend({},a,c)}var d=g(1),b=g(2),a={fit:!0,padding:30,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,
equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(a){return a.degree()},levelWidth:function(a){return a.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(a,b){return!0},ready:void 0,stop:void 0,transform:function(a,b){return b}};l.prototype.run=function(){var a=this.options,d=void 0!==a.counterclockwise?!a.counterclockwise:a.clockwise,f=a.cy,
m=a.eles.nodes().not(":parent"),k=b.makeBoundingBox(a.boundingBox?a.boundingBox:{x1:0,y1:0,w:f.width(),h:f.height()});f=k.x1+k.w/2;for(var h=k.y1+k.h/2,l=[],g=(a.startAngle,0),r=0;r<m.length;r++){var n=m[r],p=void 0;p=a.concentric(n);l.push({value:p,node:n});n._private.scratch.concentric=p}m.updateStyle();for(r=0;r<m.length;r++)n=m[r].layoutDimensions(a),g=Math.max(g,n.w,n.h);l.sort(function(a,c){return c.value-a.value});n=a.levelWidth(m);r=[[]];p=r[0];for(var w=0;w<l.length;w++){var v=l[w];0<p.length&&
Math.abs(p[0].value-v.value)>=n&&(p=[],r.push(p));p.push(v)}l=g+a.minNodeSpacing;a.avoidOverlap||(l=Math.min(l,(Math.min(k.w,k.h)/2-l)/(r.length+(0<r.length&&1<r[0].length)?1:0)));for(g=k=0;g<r.length;g++)n=r[g],w=n.dTheta=(void 0===a.sweep?2*Math.PI-2*Math.PI/n.length:a.sweep)/Math.max(1,n.length-1),1<n.length&&a.avoidOverlap&&(p=Math.cos(w)-Math.cos(0),w=Math.sin(w)-Math.sin(0),k=Math.max(Math.sqrt(l*l/(p*p+w*w)),k)),n.r=k,k+=l;if(a.equidistant){for(g=l=k=0;g<r.length;g++)k=Math.max(k,r[g].r-l);
for(g=l=0;g<r.length;g++)n=r[g],0===g&&(l=n.r),n.r=l,l+=k}var x={};for(k=0;k<r.length;k++)for(l=r[k],g=l.dTheta,n=l.r,p=0;p<l.length;p++)w=a.startAngle+(d?1:-1)*g*p,w={x:f+n*Math.cos(w),y:h+n*Math.sin(w)},x[l[p].node.id()]=w;return m.layoutPositions(this,a,function(a){a=a.id();return x[a]}),this};p.exports=l},function(p,n,g){function l(a){this.options=b.extend({},f,a);this.options.layout=this}var d,b=g(1),a=g(2),c=g(0),e=g(5),f={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,
animationDuration:void 0,animateFilter:function(a,c){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(a){return 2048},nodeOverlap:4,idealEdgeLength:function(a){return 32},edgeElasticity:function(a){return 32},nestingFactor:1.2,gravity:1,numIter:1E3,initialTemp:1E3,coolingFactor:.99,minTemp:1,weaver:!1};l.prototype.run=function(){var a=this.options,f=a.cy,k=this,l=this.thread,g=a.weaver?
a.weaver.Thread:null,n={listeners:[],on:function(a,c){return this.listeners.push({event:a,callback:c}),this},trigger:function(a){c.string(a)&&(a={type:a});return this.listeners.filter(function(c){return c.event===a.type}).forEach(function(c){c.callback(a)}),this},pass:function(a){return this.pass=a,this},run:function(a){var c=this.pass;return new e(function(b){b(a(c))})},stop:function(){return this}};l&&!l.stopped()||(l=this.thread=g?new g:n);k.stopped=!1;!0!==a.animate&&!1!==a.animate||k.emit({type:"layoutstart",
layout:k});d=!0===a.debug;var p=m(f,k,a);d&&h(p);a.randomize&&t(p,f);var G=Date.now(),B=!1,C=function(c){c=c||{};B&&!c.next||!c.force&&Date.now()-G<a.animationThreshold||(B=!0,b.requestAnimationFrame(function(){q(p,f,a);!0===a.fit&&f.fit(a.padding);B=!1;c.next&&c.next()}))};l.on("message",function(a){p.layoutNodes=a.message;C()});l.pass({layoutInfo:p,options:{animate:a.animate,refresh:a.refresh,componentSpacing:a.componentSpacing,nodeOverlap:a.nodeOverlap,nestingFactor:a.nestingFactor,gravity:a.gravity,
numIter:a.numIter,initialTemp:a.initialTemp,coolingFactor:a.coolingFactor,minTemp:a.minTemp}}).run(function(a){var c=a.layoutInfo;a=a.options;var b=function(a,c,b){for(b=0;b<a.graphSet.length;b++)for(var f=a.graphSet[b],h=f.length,k=0;k<h;k++)for(var m=a.layoutNodes[a.idToIndex[f[k]]],l=k+1;l<h;l++){var g=m,q=a.layoutNodes[a.idToIndex[f[l]]],n=c;if(g.cmptId===q.cmptId||a.isCompound){var t=q.positionX-g.positionX,r=q.positionY-g.positionY;0===t&&0===r&&(t=-1+2*Math.random(),r=-1+2*Math.random());var p=
0<t?g.maxX-q.minX:q.maxX-g.minX;var u=0<r?g.maxY-q.minY:q.maxY-g.minY;p=0<=p&&0<=u?Math.sqrt(p*p+u*u):0;0<p?(p*=n.nodeOverlap,n=Math.sqrt(t*t+r*r),t=p*t/n,r=p*r/n):(n=d(g,t,r),t=d(q,-1*t,-1*r),r=t.x-n.x,u=t.y-n.y,t=r*r+u*u,n=Math.sqrt(t),p=(g.nodeRepulsion+q.nodeRepulsion)/t,t=p*r/n,r=p*u/n);g.isLocked||(g.offsetX-=t,g.offsetY-=r);q.isLocked||(q.offsetX+=t,q.offsetY+=r)}}for(b=0;b<a.edgeSize;b++)if(k=a.layoutEdges[b],f=a.layoutNodes[a.idToIndex[k.sourceId]],h=a.layoutNodes[a.idToIndex[k.targetId]],
m=h.positionX-f.positionX,g=h.positionY-f.positionY,0!==m||0!==g)l=d(f,m,g),g=d(h,-1*m,-1*g),m=g.x-l.x,l=g.y-l.y,g=Math.sqrt(m*m+l*l),k=Math.pow(k.idealLength-g,2)/k.elasticity,0!==g?(m=k*m/g,k=k*l/g):k=m=0,f.isLocked||(f.offsetX+=m,f.offsetY+=k),h.isLocked||(h.offsetX-=m,h.offsetY-=k);for(b=0;b<a.graphSet.length;b++)for(f=a.graphSet[b],h=f.length,0===b?(k=a.clientHeight/2,m=a.clientWidth/2):(m=a.layoutNodes[a.idToIndex[a.layoutNodes[a.idToIndex[f[0]]].parentId]],k=m.positionX,m=m.positionY),l=0;l<
h;l++)g=a.layoutNodes[a.idToIndex[f[l]]],g.isLocked||(q=k-g.positionX,t=m-g.positionY,r=Math.sqrt(q*q+t*t),1<r&&(t=c.gravity*t/r,g.offsetX+=c.gravity*q/r,g.offsetY+=t));c=[];b=0;f=-1;c.push.apply(c,a.graphSet[0]);for(f+=a.graphSet[0].length;b<=f;)if(h=c[b++],h=a.layoutNodes[a.idToIndex[h]],k=h.children,0<k.length&&!h.isLocked){m=h.offsetX;l=h.offsetY;for(g=0;g<k.length;g++)q=a.layoutNodes[a.idToIndex[k[g]]],q.offsetX+=m,q.offsetY+=l,c[++f]=k[g];h.offsetX=0;h.offsetY=0}for(c=0;c<a.nodeSize;c++)b=a.layoutNodes[c],
0<b.children.length&&(b.maxX=void 0,b.minX=void 0,b.maxY=void 0,b.minY=void 0);for(c=0;c<a.nodeSize;c++)b=a.layoutNodes[c],0<b.children.length||b.isLocked||(f=b.offsetX,h=b.offsetY,k=a.temperature,m=Math.sqrt(f*f+h*h),f=m>k?{x:k*f/m,y:k*h/m}:{x:f,y:h},b.positionX+=f.x,b.positionY+=f.y,b.offsetX=0,b.offsetY=0,b.minX=b.positionX-b.width,b.maxX=b.positionX+b.width,b.minY=b.positionY-b.height,b.maxY=b.positionY+b.height,e(b,a));for(c=0;c<a.nodeSize;c++)b=a.layoutNodes[c],0<b.children.length&&!b.isLocked&&
(b.positionX=(b.maxX+b.minX)/2,b.positionY=(b.maxY+b.minY)/2,b.width=b.maxX-b.minX,b.height=b.maxY-b.minY)},d=function(a,c,b){var d=a.positionX,e=a.positionY,f=a.height||1;a=a.width||1;var h=b/c,k=f/a,m={};return 0===c&&0<b?(m.x=d,m.y=e+f/2,m):0===c&&0>b?(m.x=d,m.y=e+f/2,m):0<c&&-1*k<=h&&h<=k?(m.x=d+a/2,m.y=e+a*b/2/c,m):0>c&&-1*k<=h&&h<=k?(m.x=d-a/2,m.y=e-a*b/2/c,m):0<b&&(h<=-1*k||h>=k)?(m.x=d+f*c/2/b,m.y=e+f/2,m):0>b&&(h<=-1*k||h>=k)?(m.x=d-f*c/2/b,m.y=e-f/2,m):m},e=function R(a,c){var b=a.parentId;
if(null!=b){b=c.layoutNodes[c.idToIndex[b]];var d=!1;return(null==b.maxX||a.maxX+b.padRight>b.maxX)&&(b.maxX=a.maxX+b.padRight,d=!0),(null==b.minX||a.minX-b.padLeft<b.minX)&&(b.minX=a.minX-b.padLeft,d=!0),(null==b.maxY||a.maxY+b.padBottom>b.maxY)&&(b.maxY=a.maxY+b.padBottom,d=!0),(null==b.minY||a.minY-b.padTop<b.minY)&&(b.minY=a.minY-b.padTop,d=!0),d?R(b,c):void 0}},f=0;do{for(var h=0;h<a.refresh&&f<a.numIter;){var k=(b(c,a),c.temperature*=a.coolingFactor,!(c.temperature<a.minTemp));if(!k)break;h++;
f++}!0===a.animate&&n.trigger({type:"message",message:c.layoutNodes})}while(k&&f+1<a.numIter);return function(a,b){var d=c.layoutNodes;a=[];for(var e=0;e<d.length;e++){var f=d[e],h=f.cmptId;(a[h]=a[h]||[]).push(f)}var k=0;for(e=0;e<a.length;e++)if(d=a[e]){d.x1=1/0;d.x2=-1/0;d.y1=1/0;d.y2=-1/0;for(f=0;f<d.length;f++)h=d[f],d.x1=Math.min(d.x1,h.positionX-h.width/2),d.x2=Math.max(d.x2,h.positionX+h.width/2),d.y1=Math.min(d.y1,h.positionY-h.height/2),d.y2=Math.max(d.y2,h.positionY+h.height/2);d.w=d.x2-
d.x1;d.h=d.y2-d.y1;k+=d.w*d.h}a.sort(function(a,c){return c.w*c.h-a.w*a.h});var m=0,g=0,l=0,q=0;k=Math.sqrt(k)*c.clientWidth/c.clientHeight;for(e=0;e<a.length;e++)if(d=a[e]){for(f=0;f<d.length;f++)h=d[f],h.isLocked||(h.positionX+=m,h.positionY+=g);m+=d.w+b.componentSpacing;l+=d.w+b.componentSpacing;q=Math.max(q,d.h);l>k&&(g+=q+b.componentSpacing,m=0,l=0,q=0)}}(0,a),c}).then(function(a){p.layoutNodes=a.layoutNodes;l.stop();E()});var E=function(){!0===a.animate||!1===a.animate?C({force:!0,next:function(){k.one("layoutstop",
a.stop);k.emit({type:"layoutstop",layout:k})}}):a.eles.nodes().layoutPositions(k,a,function(a){a=p.layoutNodes[p.idToIndex[a.data("id")]];return{x:a.positionX,y:a.positionY}})};return this};l.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this};l.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var m=function(b,d,e){d=e.eles.edges();var f=e.eles.nodes();b={isCompound:b.hasCompoundNodes(),layoutNodes:[],idToIndex:{},
nodeSize:f.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:d.size(),temperature:e.initialTemp,clientWidth:b.width(),clientHeight:b.width(),boundingBox:a.makeBoundingBox(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:b.width(),h:b.height()})};for(var h=e.eles.components(),m={},g=0;g<h.length;g++)for(var l=h[g],q=0;q<l.length;q++){var n=l[q];m[n.id()]=g}for(g=0;g<b.nodeSize;g++)q=f[g],h=q.layoutDimensions(e),n={},n.isLocked=q.locked(),n.id=q.data("id"),n.parentId=q.data("parent"),n.cmptId=m[q.id()],
n.children=[],n.positionX=q.position("x"),n.positionY=q.position("y"),n.offsetX=0,n.offsetY=0,n.height=h.w,n.width=h.h,n.maxX=n.positionX+n.width/2,n.minX=n.positionX-n.width/2,n.maxY=n.positionY+n.height/2,n.minY=n.positionY-n.height/2,n.padLeft=parseFloat(q.style("padding")),n.padRight=parseFloat(q.style("padding")),n.padTop=parseFloat(q.style("padding")),n.padBottom=parseFloat(q.style("padding")),n.nodeRepulsion=c.fn(e.nodeRepulsion)?e.nodeRepulsion(q):e.nodeRepulsion,b.layoutNodes.push(n),b.idToIndex[n.id]=
g;f=[];m=0;h=-1;n=[];for(g=0;g<b.nodeSize;g++)q=b.layoutNodes[g],l=q.parentId,null!=l?b.layoutNodes[b.idToIndex[l]].children.push(q.id):(f[++h]=q.id,n.push(q.id));for(b.graphSet.push(n);m<=h;)if(g=f[m++],n=b.layoutNodes[b.idToIndex[g]],n=n.children,0<n.length)for(b.graphSet.push(n),g=0;g<n.length;g++)f[++h]=n[g];for(g=0;g<b.graphSet.length;g++)for(n=b.graphSet[g],q=0;q<n.length;q++)b.indexToGraph[b.idToIndex[n[q]]]=g;for(g=0;g<b.edgeSize;g++){n=d[g];f={};f.id=n.data("id");f.sourceId=n.data("source");
f.targetId=n.data("target");q=c.fn(e.idealEdgeLength)?e.idealEdgeLength(n):e.idealEdgeLength;m=c.fn(e.edgeElasticity)?e.edgeElasticity(n):e.edgeElasticity;n=b.idToIndex[f.sourceId];h=b.idToIndex[f.targetId];if(b.indexToGraph[n]!=b.indexToGraph[h]){l=k(f.sourceId,f.targetId,0,b);l=b.graphSet[2>l.count?0:l.graph];var t=0;for(n=b.layoutNodes[n];-1===l.indexOf(n.id);)n=b.layoutNodes[b.idToIndex[n.parentId]],t++;for(n=b.layoutNodes[h];-1===l.indexOf(n.id);)n=b.layoutNodes[b.idToIndex[n.parentId]],t++;
q*=t*e.nestingFactor}f.idealLength=q;f.elasticity=m;b.layoutEdges.push(f)}return b},k=function x(a,c,b,d){var e=d.graphSet[b];if(-1<e.indexOf(a)&&-1<e.indexOf(c))return{count:2,graph:b};for(var f=0,h=0;h<e.length;h++){var k=d.layoutNodes[d.idToIndex[e[h]]].children;if(0!==k.length&&(k=x(a,c,d.indexToGraph[d.idToIndex[k[0]]],d),0!==k.count)){if(1!==k.count)return k;if(2===++f)break}}return{count:f,graph:b}},h=function(a){if(d){console.debug("layoutNodes:");for(var c=0;c<a.nodeSize;c++){var b=a.layoutNodes[c];
b="\nindex: "+c+"\nId: "+b.id+"\nChildren: "+b.children.toString()+"\nparentId: "+b.parentId+"\npositionX: "+b.positionX+"\npositionY: "+b.positionY+"\nOffsetX: "+b.offsetX+"\nOffsetY: "+b.offsetY+"\npadLeft: "+b.padLeft+"\npadRight: "+b.padRight+"\npadTop: "+b.padTop+"\npadBottom: "+b.padBottom;console.debug(b)}console.debug("idToIndex");for(c in a.idToIndex)console.debug("Id: "+c+"\nIndex: "+a.idToIndex[c]);console.debug("Graph Set");b=a.graphSet;for(c=0;c<b.length;c++)console.debug("Set : "+c+
": "+b[c].toString());b="IndexToGraph";for(c=0;c<a.indexToGraph.length;c++)b+="\nIndex : "+c+" Graph: "+a.indexToGraph[c];console.debug(b);b="Layout Edges";for(c=0;c<a.layoutEdges.length;c++){var e=a.layoutEdges[c];b+="\nEdge Index: "+c+" ID: "+e.id+" SouceID: "+e.sourceId+" TargetId: "+e.targetId+" Ideal Length: "+e.idealLength}console.debug(b);b="nodeSize: "+a.nodeSize;b+="\nedgeSize: "+a.edgeSize;b+="\ntemperature: "+a.temperature;console.debug(b)}},t=function(a,c){c=a.clientWidth;for(var b=a.clientHeight,
d=0;d<a.nodeSize;d++){var e=a.layoutNodes[d];0!==e.children.length||e.isLocked||(e.positionX=Math.random()*c,e.positionY=Math.random()*b)}},q=function(a,c,b){c=b.layout;var d=b.eles.nodes(),e=a.boundingBox,f=1/0,h=-1/0,k=1/0,m=-1/0,g,l;b.boundingBox&&(d.forEach(function(c){c=a.layoutNodes[a.idToIndex[c.data("id")]];f=Math.min(f,c.positionX);h=Math.max(h,c.positionX);k=Math.min(k,c.positionY);m=Math.max(m,c.positionY)}),g=h-f,l=m-k);d.positions(function(c,d){c=a.layoutNodes[a.idToIndex[c.data("id")]];
return b.boundingBox?{x:e.x1+(c.positionX-f)/g*e.w,y:e.y1+(c.positionY-k)/l*e.h}:{x:c.positionX,y:c.positionY}});!0!==a.ready&&(a.ready=!0,c.one("layoutready",b.ready),c.emit({type:"layoutready",layout:this}))};p.exports=l},function(p,n,g){function l(c){this.options=d.extend({},a,c)}var d=g(1),b=g(2),a={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(a){},sort:void 0,
animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(a,b){return!0},ready:void 0,stop:void 0,transform:function(a,b){return b}};l.prototype.run=function(){var a=this.options,d=a.cy,f=a.eles.nodes().not(":parent");a.sort&&(f=f.sort(a.sort));var m=b.makeBoundingBox(a.boundingBox?a.boundingBox:{x1:0,y1:0,w:d.width(),h:d.height()});if(0===m.h||0===m.w)f.layoutPositions(this,a,function(a){return{x:m.x1,y:m.y1}});else{d=f.size();var k=Math.sqrt(d*m.h/m.w),h=Math.round(k),g=Math.round(m.w/
m.h*k);k=function(a){if(null==a)return Math.min(h,g);Math.min(h,g)==h?h=a:g=a};var l=function(a){if(null==a)return Math.max(h,g);Math.max(h,g)==h?h=a:g=a},n=a.rows,p=null!=a.cols?a.cols:a.columns;if(null!=n&&null!=p)h=n,g=p;else if(null!=n&&null==p)h=n,g=Math.ceil(d/h);else if(null==n&&null!=p)g=p,h=Math.ceil(d/g);else if(g*h>d)n=k(),p=l(),(n-1)*p>=d?k(n-1):(p-1)*n>=d&&l(p-1);else for(;g*h<d;)n=k(),p=l(),(p+1)*n>=d?l(p+1):k(n+1);var y=m.w/g,w=m.h/h;if(a.condense&&(y=0,w=0),a.avoidOverlap)for(d=0;d<
f.length;d++)k=f[d],l=k._private.position,null!=l.x&&null!=l.y||(l.x=0,l.y=0),k=k.layoutDimensions(a),l=a.avoidOverlapPadding,n=k.h+l,y=Math.max(y,k.w+l),w=Math.max(w,n);var v={},x=0,A=0,G={};for(d=0;d<f.length;d++)if(k=f[d],(l=a.position(k))&&(void 0!==l.row||void 0!==l.col)){l={row:l.row,col:l.col};if(void 0===l.col)for(l.col=0;v["c-"+l.row+"-"+l.col];)l.col++;else if(void 0===l.row)for(l.row=0;v["c-"+l.row+"-"+l.col];)l.row++;G[k.id()]=l;v["c-"+l.row+"-"+l.col]=!0}f.layoutPositions(this,a,function(a,
c){if(a.locked()||a.isParent())return!1;if(c=G[a.id()])a=c.col*y+y/2+m.x1,c=c.row*w+w/2+m.y1;else{for(;v["c-"+x+"-"+A];)++A>=g&&(A=0,x++);a=A*y+y/2+m.x1;c=x*w+w/2+m.y1;v["c-"+x+"-"+A]=!0;++A>=g&&(A=0,x++)}return{x:a,y:c}})}return this};p.exports=l},function(p,n,g){function l(a){this.options=d.extend({},b,a)}var d=g(1),b={ready:function(){},stop:function(){}};l.prototype.run=function(){var a=this.options,c=a.eles;a.cy;return this.emit("layoutstart"),c.nodes().positions(function(){return{x:0,y:0}}),
this.one("layoutready",a.ready),this.emit("layoutready"),this.one("layoutstop",a.stop),this.emit("layoutstop"),this};l.prototype.stop=function(){return this};p.exports=l},function(p,n,g){function l(c){this.options=d.extend({},a,c)}var d=g(1),b=g(0),a={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(a,b){return!0},ready:void 0,stop:void 0,transform:function(a,b){return b}};l.prototype.run=function(){var a=this.options,
d=a.eles.nodes(),f=b.fn(a.positions);return d.layoutPositions(this,a,function(c,b){null==a.positions?b=null:f?b=a.positions(c):(b=a.positions[c._private.data.id],b=null==b?null:b);return!c.locked()&&null!=b&&b}),this};p.exports=l},function(p,n,g){function l(c){this.options=d.extend({},a,c)}var d=g(1),b=g(2),a={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(a,b){return!0},ready:void 0,stop:void 0,transform:function(a,b){return b}};
l.prototype.run=function(){var a=this.options,d=a.cy,f=a.eles.nodes().not(":parent"),m=b.makeBoundingBox(a.boundingBox?a.boundingBox:{x1:0,y1:0,w:d.width(),h:d.height()});return f.layoutPositions(this,a,function(a,c){return{x:m.x1+Math.round(Math.random()*m.w),y:m.y1+Math.round(Math.random()*m.h)}}),this};p.exports=l},function(p,n,g){p.exports=[{name:"null",impl:g(107)},{name:"base",impl:g(108)},{name:"canvas",impl:g(124)}]},function(p,n,g){function l(d){this.options=d;this.notifications=0}n=function(){};
l.prototype={recalculateRenderedStyle:n,notify:function(){this.notifications++},init:n};p.exports=l},function(p,n,g){var l=g(0),d=g(1),b=g(3);n=function(a){this.init(a)};var a=n.prototype;a.clientFunctions="redrawHint render renderTo matchCanvasSize nodeShapeImpl arrowShapeImpl".split(" ");a.init=function(a){this.options=a;this.cy=a.cy;var c=this.container=a.cy.container();if(b){var f=b.document,m=f.head,k=null!=f.getElementById("__________cytoscape_stylesheet");(0>c.className.indexOf("__________cytoscape_container")&&
(c.className=(c.className||"")+" __________cytoscape_container"),k)||(f=f.createElement("style"),f.id="__________cytoscape_stylesheet",f.innerHTML=".__________cytoscape_container { position: relative; }",m.insertBefore(f,m.children[0]));"static"===b.getComputedStyle(c).getPropertyValue("position")&&d.error("A Cytoscape container has style position:static and so can not use UI extensions properly")}this.selection=[void 0,void 0,void 0,void 0,0];this.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95];this.hoverData=
{down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1};this.dragData={possibleDragElements:[]};this.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]};this.redraws=0;this.showFps=a.showFps;this.debug=a.debug;this.hideEdgesOnViewport=a.hideEdgesOnViewport;this.hideLabelsOnViewport=a.hideLabelsOnViewport;this.textureOnViewport=
a.textureOnViewport;this.wheelSensitivity=a.wheelSensitivity;this.motionBlurEnabled=a.motionBlur;this.forcedPixelRatio=a.pixelRatio;this.motionBlur=a.motionBlur;this.motionBlurOpacity=a.motionBlurOpacity;this.motionBlurTransparency=1-this.motionBlurOpacity;this.mbPxRBlurry=this.motionBlurPxRatio=1;this.minMbLowQualFrames=4;this.fullQualityMb=!1;this.clearedForMotionBlur=[];this.desktopTapThreshold=a.desktopTapThreshold;this.desktopTapThreshold2=a.desktopTapThreshold*a.desktopTapThreshold;this.touchTapThreshold=
a.touchTapThreshold;this.touchTapThreshold2=a.touchTapThreshold*a.touchTapThreshold;this.tapholdDuration=500;this.bindings=[];this.beforeRenderCallbacks=[];this.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:100};this.registerNodeShapes();this.registerArrowShapes();this.registerCalculationListeners()};a.notify=function(a){if(!this.destroyed){a=l.array(a.type)?a.type:[a.type];for(var c={},b=0;b<a.length;b++)c[a[b]]=!0;if(c.init)return void this.load();if(c.destroy)return void this.destroy();
(c.add||c.remove||c.load||c.zorder)&&this.invalidateCachedZSortedEles();c.viewport&&this.redrawHint("select",!0);(c.load||c.resize)&&(this.invalidateContainerClientCoordsCache(),this.matchCanvasSize(this.container));this.redrawHint("eles",!0);this.redrawHint("drag",!0);this.startRenderLoop();this.redraw()}};a.destroy=function(){this.destroyed=!0;this.cy.stopAnimationLoop();for(var a=0;a<this.bindings.length;a++){var b=this.bindings[a],d=b.target;(d.off||d.removeEventListener).apply(d,b.args)}if(this.bindings=
[],this.beforeRenderCallbacks=[],this.onUpdateEleCalcsFns=[],this.removeObserver&&this.removeObserver.disconnect(),this.styleObserver&&this.styleObserver.disconnect(),this.labelCalcDiv)try{document.body.removeChild(this.labelCalcDiv)}catch(m){}};[g(109),g(110),g(120),g(121),g(122),g(123)].forEach(function(c){d.extend(a,c)});p.exports=n},function(p,n,g){var l=g(2),d=g(0),b=g(1);p.exports={arrowShapeWidth:.3,registerArrowShapes:function(){var a=this.arrowShapes={},c=this,e=function(a,c,b,d,e,f,h){d=
e.x+b/2+h;f=e.y-b/2-h;var k=e.y+b/2+h;return e.x-b/2-h<=a&&a<=d&&f<=c&&c<=k},f=function(a,c,b,d,e){return{x:(a*Math.cos(d)-c*Math.sin(d))*b+e.x,y:(a*Math.sin(d)+c*Math.cos(d))*b+e.y}},m=function(a,c,b,d){for(var e=[],h=0;h<a.length;h+=2)e.push(f(a[h],a[h+1],c,b,d));return e},k=function(a){for(var c=[],b=0;b<a.length;b++){var d=a[b];c.push(d.x,d.y)}return c},h=function(a){return a.pstyle("width").pfValue*a.pstyle("arrow-scale").pfValue*2},g=function(f,g){d.string(g)&&(g=a[g]);a[f]=b.extend({name:f,
points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(a,c,b,d,e,f){b=k(m(this.points,b+2*f,d,e));return l.pointInsidePolygonPoints(a,c,b)},roughCollide:e,draw:function(a,b,d,e){b=m(this.points,b,d,e);c.arrowShapeImpl("polygon")(a,b)},spacing:function(a){return 0},gap:h},g)};g("none",{collide:b.falsify,roughCollide:b.falsify,draw:b.noop,spacing:b.zeroify,gap:b.zeroify});g("triangle",{points:[-.15,-.3,0,0,.15,-.3]});g("arrow","triangle");g("triangle-backcurve",{points:a.triangle.points,controlPoint:[0,
-.15],roughCollide:e,draw:function(a,b,d,e,h){h=m(this.points,b,d,e);var k=this.controlPoint;b=f(k[0],k[1],b,d,e);c.arrowShapeImpl(this.name)(a,h,b)},gap:function(a){return.8*h(a)}});g("triangle-tee",{points:[-.15,-.3,0,0,.15,-.3,-.15,-.3],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(a,b,c,d,e,f,h){f=k(m(this.points,c+2*h,d,e));c=k(m(this.pointsTee,c+2*h,d,e));return l.pointInsidePolygonPoints(a,b,f)||l.pointInsidePolygonPoints(a,b,c)},draw:function(a,b,d,e,f){f=m(this.points,b,
d,e);b=m(this.pointsTee,b,d,e);c.arrowShapeImpl(this.name)(a,f,b)}});g("triangle-cross",{points:[-.15,-.3,0,0,.15,-.3,-.15,-.3],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(a,b){var c=this.baseCrossLinePts.slice();a=b/a;return c[3]-=a,c[5]-=a,c},collide:function(a,b,c,d,e,f,h){var g=k(m(this.points,c+2*h,d,e));c=k(m(this.crossLinePts(c,f),c+2*h,d,e));return l.pointInsidePolygonPoints(a,b,g)||l.pointInsidePolygonPoints(a,b,c)},draw:function(a,b,d,e,f){var h=m(this.points,
b,d,e);b=m(this.crossLinePts(b,f),b,d,e);c.arrowShapeImpl(this.name)(a,h,b)}});g("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(a){return.525*h(a)}});g("circle",{radius:.15,collide:function(a,b,c,d,e,f,h){return Math.pow(e.x-a,2)+Math.pow(e.y-b,2)<=Math.pow((c+2*h)*this.radius,2)},draw:function(a,b,d,e,f){c.arrowShapeImpl(this.name)(a,e.x,e.y,this.radius*b)},spacing:function(a){return c.getArrowWidth(a.pstyle("width").pfValue,a.pstyle("arrow-scale").value)*this.radius}});g("tee",{points:[-.15,
0,-.15,-.1,.15,-.1,.15,0],spacing:function(a){return 1},gap:function(a){return 1}});g("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]});g("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(a){return a.pstyle("width").pfValue*a.pstyle("arrow-scale").value}})}}},function(p,n,g){var l=g(1),d={};[g(111),g(112),g(113),g(114),g(115),g(116),g(117),g(118),g(119)].forEach(function(b){l.extend(d,b)});p.exports=d},function(p,n,g){var l=g(3),d=g(2),b=g(1);l=g(3);p.exports={projectIntoViewport:function(a,
b){var c=this.cy,d=this.findContainerClientCoords(),m=d[0],k=d[1];d=d[4];var h=c.pan();c=c.zoom();return[((a-m)/d-h.x)/c,((b-k)/d-h.y)/c]},findContainerClientCoords:function(){if(this.containerBB)return this.containerBB;var a=this.container,b=a.getBoundingClientRect(),d=l.getComputedStyle(a),f=function(a){return parseFloat(d.getPropertyValue(a))},m=f("padding-left"),k=f("padding-right"),h=f("padding-top"),g=f("padding-bottom"),n=f("border-left-width"),r=f("border-right-width"),p=f("border-top-width");
f("border-bottom-width");f=a.clientWidth;r=b.width/(f+(n+r));k=f-(m+k);a=a.clientHeight-(h+g);return this.containerBB=[(b.width,b.height,b.left+m+n),b.top+h+p,k,a,r]},invalidateContainerClientCoordsCache:function(){this.containerBB=null},findNearestElement:function(a,b,d,f){return this.findNearestElements(a,b,d,f)[0]},findNearestElements:function(a,c,e,f){function m(a,b){if(a.isNode()){if(l)return;l=a;w.push(a)}if(a.isEdge()&&(null==b||b<C))if(g){if(g.pstyle("z-index").value===a.pstyle("z-index").value)for(var c=
0;c<w.length;c++)if(w[c].isEdge()){g=w[c]=a;C=null!=b?b:C;break}}else w.push(a),g=a,C=null!=b?b:C}function k(b){var d=b.outerWidth()+2*G,e=b.outerHeight()+2*G,f=d/2,h=e/2,k=b.position();if(k.x-f<=a&&a<=k.x+f&&k.y-h<=c&&c<=k.y+h&&p.nodeShapes[n.getNodeShape(b)].checkPoint(a,c,0,d,e,k.x,k.y))return m(b,0),!0}function h(e,f){var h=e._private,k=B,g=e.pstyle((f?f+"-":"")+"label").value;if("yes"===e.pstyle("text-events").strValue&&g){var l=h.rstyle,n=e.pstyle("text-border-width").pfValue,q=e.pstyle("text-background-padding").pfValue;
g=b.getPrefixedProperty(l,"labelWidth",f)+n+2*k+2*q;k=b.getPrefixedProperty(l,"labelHeight",f)+n+2*k+2*q;var t=b.getPrefixedProperty(l,"labelX",f),r=b.getPrefixedProperty(l,"labelY",f);q=b.getPrefixedProperty(h.rscratch,"labelAngle",f);n=t-g/2;f=t+g/2;l=r-k/2;h=r+k/2;if(q){var p=Math.cos(q),u=Math.sin(q);k=function(a,b){return a-=t,b-=r,{x:a*p-b*u+t,y:a*u+b*p+r}};g=k(n,l);n=k(n,h);l=k(f,l);f=k(f,h);if(d.pointInsidePolygonPoints(a,c,[g.x,g.y,l.x,l.y,f.x,f.y,n.x,n.y]))return m(e),!0}else if(d.inBoundingBox({w:g,
h:k,x1:n,x2:f,y1:l,y2:h},a,c))return m(e),!0}}var g,l,n=this,p=this,y=p.getCachedZSortedEles(),w=[],v=p.cy.zoom(),x=p.cy.hasCompoundNodes(),A=(f?24:8)/v,G=(f?8:2)/v,B=(f?8:2)/v,C=1/0;e&&(y=y.interactive);for(e=y.length-1;0<=e;e--)f=y[e],f.isNode()?k(f)||h(f):function(b){var e,f=b._private,h=f.rscratch,g=b.pstyle("width").pfValue,l=b.pstyle("arrow-scale").value,q=g/2+A,t=q*q,r=2*q;q=f.source;var u=f.target;if("segments"===h.edgeType||"straight"===h.edgeType||"haystack"===h.edgeType)for(var v=h.allpts,
y=0;y+3<v.length;y+=2){if(d.inLineVicinity(a,c,v[y],v[y+1],v[y+2],v[y+3],r)&&t>(e=d.sqdistToFiniteLine(a,c,v[y],v[y+1],v[y+2],v[y+3])))return m(b,e),!0}else if("bezier"===h.edgeType||"multibezier"===h.edgeType||"self"===h.edgeType||"compound"===h.edgeType)for(v=h.allpts,y=0;y+5<h.allpts.length;y+=4)if(d.inBezierVicinity(a,c,v[y],v[y+1],v[y+2],v[y+3],v[y+4],v[y+5],r)&&t>(e=d.sqdistToQuadraticBezier(a,c,v[y],v[y+1],v[y+2],v[y+3],v[y+4],v[y+5])))return m(b,e),!0;q=q||f.source;u=u||f.target;e=n.getArrowWidth(g,
l);h=[{name:"source",x:h.arrowStartX,y:h.arrowStartY,angle:h.srcArrowAngle},{name:"target",x:h.arrowEndX,y:h.arrowEndY,angle:h.tgtArrowAngle},{name:"mid-source",x:h.midX,y:h.midY,angle:h.midsrcArrowAngle},{name:"mid-target",x:h.midX,y:h.midY,angle:h.midtgtArrowAngle}];for(y=0;y<h.length;y++)if(f=h[y],g=p.arrowShapes[b.pstyle(f.name+"-arrow-shape").value],l=b.pstyle("width").pfValue,g.roughCollide(a,c,e,f.angle,{x:f.x,y:f.y},l,A)&&g.collide(a,c,e,f.angle,{x:f.x,y:f.y},l,A))return m(b),!0;x&&0<w.length&&
(k(q),k(u))}(f)||h(f)||h(f,"source")||h(f,"target");return w},getAllInBox:function(a,b,e,f){var c=this.getCachedZSortedEles().interactive,k=[],h=Math.max(a,e),g=Math.min(b,f);b=Math.max(b,f);a=Math.min(a,e);a=d.makeBoundingBox({x1:a,y1:g,x2:h,y2:b});for(e=0;e<c.length;e++)if(h=c[e],h.isNode())g=h.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1}),d.boundingBoxesIntersect(a,g)&&!d.boundingBoxInBoundingBox(g,a)&&k.push(h);else if(g=h._private,b=g.rscratch,null==b.startX||null==b.startY||
d.inBoundingBox(a,b.startX,b.startY))if(null==b.endX||null==b.endY||d.inBoundingBox(a,b.endX,b.endY))if("bezier"===b.edgeType||"multibezier"===b.edgeType||"self"===b.edgeType||"compound"===b.edgeType||"segments"===b.edgeType||"haystack"===b.edgeType){g=g.rstyle.bezierPts||g.rstyle.linePts||g.rstyle.haystackPts;b=!0;for(f=0;f<g.length;f++)if(!d.pointInBoundingBox(a,g[f])){b=!1;break}b&&k.push(h)}else"haystack"!==b.edgeType&&"straight"!==b.edgeType||k.push(h);return k}}},function(p,n,g){var l=g(2);
n={calculateArrowAngles:function(d){var b,a,c,e,f,m;d=d._private.rscratch;var k="haystack"===d.edgeType,h="bezier"===d.edgeType,g="multibezier"===d.edgeType,n="segments"===d.edgeType,r="compound"===d.edgeType,p="self"===d.edgeType;if(k?(b=d.haystackPts[0],a=d.haystackPts[1],c=d.haystackPts[2],e=d.haystackPts[3]):(b=d.arrowStartX,a=d.arrowStartY,c=d.arrowEndX,e=d.arrowEndY),f=d.midX,m=d.midY,n){var y=b-d.segpts[0];var w=a-d.segpts[1]}else if(g||r||p||h){var v=d.allpts;f=l.qbezierAt(v[0],v[2],v[4],
.1);v=l.qbezierAt(v[1],v[3],v[5],.1);y=b-f;w=a-v}else y=b-f,w=a-m;d.srcArrowAngle=l.getAngleFromDisp(y,w);f=d.midX;m=d.midY;if(k&&(f=(b+c)/2,m=(a+e)/2),y=c-b,w=e-a,n)v=d.allpts,0==v.length/2%2?(b=v.length/2,a=b-2):(b=v.length/2-1,a=b-2),y=v[b]-v[a],w=v[b+1]-v[a+1];else if(g||r||p){v=d.allpts;if(0==d.ctrlpts.length/2%2){k=v.length/2-1;w=k+2;var x=w+2;y=l.qbezierAt(v[k],v[w],v[x],0);b=l.qbezierAt(v[k+1],v[w+1],v[x+1],0);a=l.qbezierAt(v[k],v[w],v[x],1E-4);v=l.qbezierAt(v[k+1],v[w+1],v[x+1],1E-4)}else w=
v.length/2-1,k=w-2,x=w+2,y=l.qbezierAt(v[k],v[w],v[x],.4999),b=l.qbezierAt(v[k+1],v[w+1],v[x+1],.4999),a=l.qbezierAt(v[k],v[w],v[x],.5),v=l.qbezierAt(v[k+1],v[w+1],v[x+1],.5);y=a-y;w=v-b}if(d.midtgtArrowAngle=l.getAngleFromDisp(y,w),d.midDispX=y,d.midDispY=w,y*=-1,w*=-1,n)v=d.allpts,0!=v.length/2%2&&(b=v.length/2-1,a=b+2,y=-(v[a]-v[b]),w=-(v[a+1]-v[b+1]));(d.midsrcArrowAngle=l.getAngleFromDisp(y,w),n)?(y=c-d.segpts[d.segpts.length-2],w=e-d.segpts[d.segpts.length-1]):g||r||p||h?(v=d.allpts,h=v.length,
f=l.qbezierAt(v[h-6],v[h-4],v[h-2],.9),v=l.qbezierAt(v[h-5],v[h-3],v[h-1],.9),y=c-f,w=e-v):(y=c-f,w=e-m);d.tgtArrowAngle=l.getAngleFromDisp(y,w)}};n.getArrowWidth=n.getArrowHeight=function(d,b){var a=this.arrowWidthCache=this.arrowWidthCache||{},c=a[d+", "+b];return c||(c=Math.max(Math.pow(13.37*d,.9),29)*b,a[d+", "+b]=c,c)};p.exports=n},function(p,n,g){function l(a){var b=[];if(null!=a){for(var d=0;d<a.length;d+=2)b.push({x:a[d],y:a[d+1]});return b}}var d=g(2),b=g(0);p.exports={findEdgeControlPoints:function(a){if(a&&
0!==a.length){for(var c,e=this.cy.hasCompoundNodes(),f={},m=[],k=[],h=0;h<a.length;h++){var g=a[h],l=g._private,n=l.data,p=g.pstyle("curve-style").value,y="unbundled-bezier"===p||"segments"===p,w="unbundled-bezier"===p||"bezier"===p;if("none"!==g.pstyle("display").value)if("haystack"!==p){var v=n.source,x=n.target;c=v>x?x+"$-$"+v:v+"$-$"+x;y&&(c="unbundled$-$"+n.id);var A=f[c];null==A&&(A=f[c]=[],m.push(c));A.push(g);y&&(A.hasUnbundled=!0);w&&(A.hasBezier=!0)}else k.push(g)}for(var G,B,C,E,F,D,H,
I,J,M,N,L,Q=0;Q<m.length;Q++){c=m[Q];var K=f[c];if(K.sort(function(a,b){return a.poolIndex()-b.poolIndex()}),G=K[0]._private.source,B=K[0]._private.target,!K.hasUnbundled&&G.id()>B.id()){var O=G;G=B;B=O}C=G.position();E=B.position();F=G.outerWidth();D=G.outerHeight();H=B.outerWidth();I=B.outerHeight();J=this.nodeShapes[this.getNodeShape(G)];M=this.nodeShapes[this.getNodeShape(B)];L=!1;var R={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0},Y=C.x,ta=C.y,aa=F,ba=D,P=E.x,
Pa=E.y,Qa=H,Oa=I,Ra=K.length;for(h=0;h<K.length;h++){g=K[h];var Ab=g._private;var z=Ab.rscratch;var Bb=z.lastEdgeIndex,Sa=h,Cb=z.lastNumEdges;p=g.pstyle("curve-style").value;y="unbundled-bezier"===p||"segments"===p;var Ta=G.id()!==g.source().id(),Z=g.pstyle("control-point-distances"),xa=g.pstyle("loop-direction").pfValue,ua=g.pstyle("loop-sweep").pfValue,oa=g.pstyle("control-point-weights"),Db=Z&&oa?Math.min(Z.value.length,oa.value.length):1,pa=g.pstyle("control-point-step-size").pfValue,na=Z?Z.pfValue[0]:
void 0,ya=oa.value[0],za=g.pstyle("edge-distances").value,Aa=g.pstyle("segment-weights"),Ba=g.pstyle("segment-distances"),Eb=Math.min(Aa.pfValue.length,Ba.pfValue.length),Fb=g.pstyle("source-endpoint").value,Gb=g.pstyle("target-endpoint").value,Hb=g.pstyle("source-arrow-shape").value,Ib=g.pstyle("target-arrow-shape").value,Jb=g.pstyle("arrow-scale").value,Kb=g.pstyle("width").pfValue,Lb=z.lastSrcCtlPtX,Mb=z.lastSrcCtlPtY,Nb=z.lastSrcCtlPtW,Ob=z.lastSrcCtlPtH,Pb=z.lastTgtCtlPtX,Qb=z.lastTgtCtlPtY,
Rb=z.lastTgtCtlPtW,Sb=z.lastTgtCtlPtH,Tb=z.lastCurveStyle,Ua=p,Ub=z.lastCtrlptDists,Va=Z?Z.strValue:null,Vb=z.lastCtrlptWs,Wa=oa.strValue,Wb=z.lastSegmentWs,Xa=Aa.strValue,Xb=z.lastSegmentDs,Ya=Ba.strValue,Yb=z.lastStepSize,Za=pa,Zb=z.lastLoopDir,$a=xa,$b=z.lastLoopSwp,ab=ua,ac=z.lastEdgeDistances,bb=za,bc=z.lastSrcEndpt,cb=Fb,cc=z.lastTgtEndpt,db=Gb,dc=z.lastSrcArr,eb=Hb,ec=z.lastTgtArr,fb=Ib,fc=z.lastLineW,gb=Kb,gc=z.lastArrScl,hb=Jb;z.badBezier=!!L;var Ca;if(Lb===Y&&Mb===ta&&Nb===aa&&Ob===ba&&
Pb===P&&Qb===Pa&&Rb===Qa&&Sb===Oa&&Tb===Ua&&Ub===Va&&Vb===Wa&&Wb===Xa&&Xb===Ya&&Yb===Za&&Zb===$a&&$b===ab&&ac===bb&&bc===cb&&cc===db&&dc===eb&&ec===fb&&fc===gb&&gc===hb&&(Bb===Sa&&Cb===Ra||y)?Ca=!0:(Ca=!1,z.lastSrcCtlPtX=Y,z.lastSrcCtlPtY=ta,z.lastSrcCtlPtW=aa,z.lastSrcCtlPtH=ba,z.lastTgtCtlPtX=P,z.lastTgtCtlPtY=Pa,z.lastTgtCtlPtW=Qa,z.lastTgtCtlPtH=Oa,z.lastEdgeIndex=Sa,z.lastNumEdges=Ra,z.lastCurveStyle=Ua,z.lastCtrlptDists=Va,z.lastCtrlptWs=Wa,z.lastSegmentDs=Ya,z.lastSegmentWs=Xa,z.lastStepSize=
Za,z.lastLoopDir=$a,z.lastLoopSwp=ab,z.lastEdgeDistances=bb,z.lastSrcEndpt=cb,z.lastTgtEndpt=db,z.lastSrcArr=eb,z.lastTgtArr=fb,z.lastLineW=gb,z.lastArrScl=hb),!Ca){if(!K.calculatedIntersection&&G!==B&&(K.hasBezier||K.hasUnbundled)){K.calculatedIntersection=!0;var ca=J.intersectLine(C.x,C.y,F,D,E.x,E.y,0);K.srcIntn=ca;var da=M.intersectLine(E.x,E.y,H,I,C.x,C.y,0);K.tgtIntn=da;var ib={x1:ca[0],x2:da[0],y1:ca[1],y2:da[1]},jb={x1:C.x,x2:E.x,y1:C.y,y2:E.y},Da=da[1]-ca[1],Ea=da[0]-ca[0],kb=Math.sqrt(Ea*
Ea+Da*Da);N={x:-(Da/kb),y:Ea/kb};M.checkPoint(ca[0],ca[1],0,H,I,E.x,E.y)&&J.checkPoint(da[0],da[1],0,F,D,C.x,C.y)&&(N={},L=!0)}if(Ta?(z.srcIntn=K.tgtIntn,z.tgtIntn=K.srcIntn):(z.srcIntn=K.srcIntn,z.tgtIntn=K.tgtIntn),G===B){z.edgeType="self";var T=h,W=pa;y&&(T=0,W=na);var lb=xa-Math.PI/2,mb=lb-ua/2,nb=lb+ua/2,Fa=String(xa+"_"+ua);T=void 0===R[Fa]?R[Fa]=0:++R[Fa];z.ctrlpts=[C.x+1.4*Math.cos(mb)*W*(T/3+1),C.y+1.4*Math.sin(mb)*W*(T/3+1),C.x+1.4*Math.cos(nb)*W*(T/3+1),C.y+1.4*Math.sin(nb)*W*(T/3+1)]}else if(e&&
(G.isParent()||G.isChild()||B.isParent()||B.isChild())&&(G.parents().anySame(B)||B.parents().anySame(G))){z.edgeType="compound";z.badBezier=!1;T=h;W=pa;y&&(T=0,W=na);var ob=Math.min(C.x-F/2,E.x-H/2),pb=Math.min(C.y-D/2,E.y-I/2);z.ctrlpts=[ob,pb-(1+Math.pow(50,1.12)/100)*W*(T/3+1)*Math.max(.5,Math.log(.01*F)),ob-(1+Math.pow(50,1.12)/100)*W*(T/3+1)*Math.max(.5,Math.log(.01*H)),pb]}else if("segments"===p){z.edgeType="segments";z.segpts=[];for(var va=0;va<Eb;va++){var qb=Aa.pfValue[va],rb=Ba.pfValue[va],
ea=1-qb,fa=qb,X="node-position"===za?jb:ib;var Ga=X.x1*ea+X.x2*fa;var Ha=X.y1*ea+X.y2*fa;z.segpts.push(Ga+N.x*rb,Ha+N.y*rb)}}else if(1!=K.length%2||h!==Math.floor(K.length/2)||y){var sb=y;z.edgeType=sb?"multibezier":"bezier";z.ctrlpts=[];for(var S=0;S<Db;S++){var tb=(.5-K.length/2+h)*pa,hc=d.signum(tb);sb&&(na=Z?Z.pfValue[S]:pa,ya=oa.value[S]);var ub=y?na:void 0!==na?hc*na:void 0;var vb=void 0!==ub?ub:tb;ea=1-ya;fa=ya;Ta&&(O=ea,ea=fa,fa=O);X="node-position"===za?jb:ib;Ga=X.x1*ea+X.x2*fa;Ha=X.y1*ea+
X.y2*fa;z.ctrlpts.push(Ga+N.x*vb,Ha+N.y*vb)}}else z.edgeType="straight";this.findEndpoints(g);var ic=!b.number(z.startX)||!b.number(z.startY),jc=!b.number(z.arrowStartX)||!b.number(z.arrowStartY),kc=!b.number(z.endX)||!b.number(z.endY),lc=!b.number(z.arrowEndX)||!b.number(z.arrowEndY),U=3*this.getArrowWidth(g.pstyle("width").pfValue,g.pstyle("arrow-scale").value)*this.arrowShapeWidth;if("bezier"===z.edgeType){var Ia=d.dist({x:z.ctrlpts[0],y:z.ctrlpts[1]},{x:z.startX,y:z.startY}),wb=Ia<U,Ja=d.dist({x:z.ctrlpts[0],
y:z.ctrlpts[1]},{x:z.endX,y:z.endY}),xb=Ja<U,Ka=!1;if(ic||jc||wb){Ka=!0;var ha=z.ctrlpts[0]-C.x;var ia=z.ctrlpts[1]-C.y;var qa=Math.sqrt(ha*ha+ia*ia);var ja=ha/qa;var ka=ia/qa;var la=Math.max(F,D);var La=z.ctrlpts[0]+2*ja*la;var Ma=z.ctrlpts[1]+2*ka*la;var yb=J.intersectLine(C.x,C.y,F,D,La,Ma,0);wb?(z.ctrlpts[0]+=ja*(U-Ia),z.ctrlpts[1]+=ka*(U-Ia)):(z.ctrlpts[0]=yb[0]+ja*U,z.ctrlpts[1]=yb[1]+ka*U)}if(kc||lc||xb){Ka=!0;ha=z.ctrlpts[0]-E.x;ia=z.ctrlpts[1]-E.y;qa=Math.sqrt(ha*ha+ia*ia);ja=ha/qa;ka=ia/
qa;la=Math.max(F,D);La=z.ctrlpts[0]+2*ja*la;Ma=z.ctrlpts[1]+2*ka*la;var zb=M.intersectLine(E.x,E.y,H,I,La,Ma,0);xb?(z.ctrlpts[0]+=ja*(U-Ja),z.ctrlpts[1]+=ka*(U-Ja)):(z.ctrlpts[0]=zb[0]+ja*U,z.ctrlpts[1]=zb[1]+ka*U)}Ka&&this.findEndpoints(g)}if("multibezier"===z.edgeType||"bezier"===z.edgeType||"self"===z.edgeType||"compound"===z.edgeType){z.allpts=[];z.allpts.push(z.startX,z.startY);for(S=0;S+1<z.ctrlpts.length;S+=2)z.allpts.push(z.ctrlpts[S],z.ctrlpts[S+1]),S+3<z.ctrlpts.length&&z.allpts.push((z.ctrlpts[S]+
z.ctrlpts[S+2])/2,(z.ctrlpts[S+1]+z.ctrlpts[S+3])/2);z.allpts.push(z.endX,z.endY);var V;0==z.ctrlpts.length/2%2?(V=z.allpts.length/2-1,z.midX=z.allpts[V],z.midY=z.allpts[V+1]):(V=z.allpts.length/2-3,z.midX=d.qbezierAt(z.allpts[V],z.allpts[V+2],z.allpts[V+4],.5),z.midY=d.qbezierAt(z.allpts[V+1],z.allpts[V+3],z.allpts[V+5],.5))}else if("straight"===z.edgeType)z.allpts=[z.startX,z.startY,z.endX,z.endY],z.midX=(z.startX+z.endX+z.arrowStartX+z.arrowEndX)/4,z.midY=(z.startY+z.endY+z.arrowStartY+z.arrowEndY)/
4;else if("segments"===z.edgeType)if(z.allpts=[],z.allpts.push(z.startX,z.startY),z.allpts.push.apply(z.allpts,z.segpts),z.allpts.push(z.endX,z.endY),0==z.segpts.length%4){var Na=z.segpts.length/2,ra=Na-2;z.midX=(z.segpts[ra]+z.segpts[Na])/2;z.midY=(z.segpts[ra+1]+z.segpts[Na+1])/2}else ra=z.segpts.length/2-1,z.midX=z.segpts[ra],z.midY=z.segpts[ra+1];this.storeEdgeProjections(g);this.calculateArrowAngles(g)}this.recalculateEdgeLabelProjections(g);this.calculateLabelAngles(g)}}for(h=0;h<k.length;h++){g=
k[h];l=g._private;var ma=l.rscratch;z=ma;if(!ma.haystack){var sa=2*Math.random()*Math.PI;ma.source={x:Math.cos(sa),y:Math.sin(sa)};sa=2*Math.random()*Math.PI;ma.target={x:Math.cos(sa),y:Math.sin(sa)}}G=l.source;B=l.target;C=G.position();E=B.position();F=G.width();H=B.width();D=G.height();I=B.height();la=g.pstyle("haystack-radius").value;var wa=la/2;z.haystackPts=z.allpts=[z.source.x*F*wa+C.x,z.source.y*D*wa+C.y,z.target.x*H*wa+E.x,z.target.y*I*wa+E.y];z.midX=(z.allpts[0]+z.allpts[2])/2;z.midY=(z.allpts[1]+
z.allpts[3])/2;ma.edgeType=ma.lastCurveStyle="haystack";ma.haystack=!0;this.storeEdgeProjections(g);this.calculateArrowAngles(g);this.recalculateEdgeLabelProjections(g);this.calculateLabelAngles(g)}}},getSegmentPoints:function(a){a=a[0]._private.rscratch;if("segments"===a.edgeType)return l(a.segpts)},getControlPoints:function(a){a=a[0]._private.rscratch;var b=a.edgeType;if("bezier"===b||"multibezier"===b)return l(a.ctrlpts)},getEdgeMidpoint:function(a){a=a[0]._private.rscratch;return{x:a.midX,y:a.midY}}}},
function(p,n,g){var l=g(2),d=g(0);p.exports={manualEndptToPx:function(b,a){var c=b.position(),d=b.outerWidth(),f=b.outerHeight();if(2===a.value.length)return b=[a.pfValue[0],a.pfValue[1]],"%"===a.units[0]&&(b[0]*=d),"%"===a.units[1]&&(b[1]*=f),b[0]+=c.x,b[1]+=c.y,b;a=a.pfValue[0];a=-Math.PI/2+a;var m=2*Math.max(d,f);a=[c.x+Math.cos(a)*m,c.y+Math.sin(a)*m];return this.nodeShapes[this.getNodeShape(b)].intersectLine(c.x,c.y,d,f,a[0],a[1],0)},findEndpoints:function(b){var a=void 0,c=b.source()[0],e=b.target()[0],
f=c.position(),m=e.position(),k=b.pstyle("target-arrow-shape").value,h=b.pstyle("source-arrow-shape").value,g=b.pstyle("target-distance-from-node").pfValue,n=b.pstyle("source-distance-from-node").pfValue,r=b._private.rscratch,p=r.edgeType,y="self"===p||"compound"===p,w="bezier"===p||"multibezier"===p||y,v="bezier"!==p,x="straight"===p||"segments"===p,A="segments"===p;p=w||v||x;var G=b.pstyle("source-endpoint"),B=y?"outside-to-node":G.value,C=b.pstyle("target-endpoint"),E=y?"outside-to-node":C.value;
r.srcManEndpt=G;r.tgtManEndpt=C;var F=void 0,D=void 0,H=void 0;y=void 0;w?(D=[r.ctrlpts[0],r.ctrlpts[1]],F=v?[r.ctrlpts[r.ctrlpts.length-2],r.ctrlpts[r.ctrlpts.length-1]]:D):x&&(v=A?r.segpts.slice(0,2):[m.x,m.y],F=A?r.segpts.slice(r.segpts.length-2):[f.x,f.y],D=v);"inside-to-node"===E?a=[m.x,m.y]:C.units?a=this.manualEndptToPx(e,C):"outside-to-line"===E?a=r.tgtIntn:("outside-to-node"===E?H=F:"outside-to-line"===E&&(H=[f.x,f.y]),a=this.nodeShapes[this.getNodeShape(e)].intersectLine(m.x,m.y,e.outerWidth(),
e.outerHeight(),H[0],H[1],0));e=l.shortenIntersection(a,F,this.arrowShapes[k].spacing(b)+g);k=l.shortenIntersection(a,F,this.arrowShapes[k].gap(b)+g);r.endX=k[0];r.endY=k[1];r.arrowEndX=e[0];r.arrowEndY=e[1];"inside-to-node"===B?a=[f.x,f.y]:G.units?a=this.manualEndptToPx(c,G):"outside-to-line"===B?a=r.srcIntn:("outside-to-node"===B?y=D:"outside-to-line"===B&&(y=[m.x,m.y]),a=this.nodeShapes[this.getNodeShape(c)].intersectLine(f.x,f.y,c.outerWidth(),c.outerHeight(),y[0],y[1],0));c=l.shortenIntersection(a,
D,this.arrowShapes[h].spacing(b)+n);b=l.shortenIntersection(a,D,this.arrowShapes[h].gap(b)+n);r.startX=b[0];r.startY=b[1];r.arrowStartX=c[0];r.arrowStartY=c[1];p&&(d.number(r.startX)&&d.number(r.startY)&&d.number(r.endX)&&d.number(r.endY)?r.badLine=!1:r.badLine=!0)},getSourceEndpoint:function(b){b=b[0]._private.rscratch;switch(b.edgeType){case "haystack":return{x:b.haystackPts[0],y:b.haystackPts[1]};default:return{x:b.arrowStartX,y:b.arrowStartY}}},getTargetEndpoint:function(b){b=b[0]._private.rscratch;
switch(b.edgeType){case "haystack":return{x:b.haystackPts[2],y:b.haystackPts[3]};default:return{x:b.arrowEndX,y:b.arrowEndY}}}}},function(p,n,g){var l=g(2);p.exports={storeEdgeProjections:function(d){var b=d._private,a=b.rscratch,c=a.edgeType;if(b.rstyle.bezierPts=null,b.rstyle.linePts=null,b.rstyle.haystackPts=null,"multibezier"===c||"bezier"===c||"self"===c||"compound"===c)for(c=(b.rstyle.bezierPts=[],0);c+5<a.allpts.length;c+=4)for(var e=a.allpts.slice(c,c+6),f=d._private.rstyle.bezierPts,m=0;m<
this.bezierProjPcts.length;m++){var k=this.bezierProjPcts[m];f.push({x:l.qbezierAt(e[0],e[2],e[4],k),y:l.qbezierAt(e[1],e[3],e[5],k)})}else if("segments"===c)for(e=b.rstyle.linePts=[],c=0;c+1<a.allpts.length;c+=2)e.push({x:a.allpts[c],y:a.allpts[c+1]});else"haystack"===c&&(a=a.haystackPts,b.rstyle.haystackPts=[{x:a[0],y:a[1]},{x:a[2],y:a[3]}]);b.rstyle.arrowWidth=this.getArrowWidth(d.pstyle("width").pfValue,d.pstyle("arrow-scale").value)*this.arrowShapeWidth},recalculateEdgeProjections:function(d){this.findEdgeControlPoints(d)}}},
function(p,n,g){var l=g(2),d=g(0),b=g(1);p.exports={recalculateNodeLabelProjection:function(a){var b=a.pstyle("label").strValue;if(!d.emptyString(b)){var e=a._private;var f=a.width();var m=a.height();var k=a.padding(),h=a.position(),g=a.pstyle("text-halign").strValue,l=a.pstyle("text-valign").strValue;b=e.rscratch;e=e.rstyle;switch(g){case "left":f=h.x-f/2-k;break;case "right":f=h.x+f/2+k;break;default:f=h.x}switch(l){case "top":m=h.y-m/2-k;break;case "bottom":m=h.y+m/2+k;break;default:m=h.y}b.labelX=
f;b.labelY=m;e.labelX=f;e.labelY=m;this.applyLabelDimensions(a)}},recalculateEdgeLabelProjections:function(a){var c=a._private,d=c.rscratch,f=this,m={mid:a.pstyle("label").strValue,source:a.pstyle("source-label").strValue,target:a.pstyle("target-label").strValue};if(m.mid||m.source||m.target){var k={x:d.midX,y:d.midY};var h=function(a,d,e){b.setPrefixedProperty(c.rscratch,a,d,e);b.setPrefixedProperty(c.rstyle,a,d,e)};h("labelX",null,k.x);h("labelY",null,k.y);var g=function u(){function a(a,b,c,d,
e){var f=l.dist(b,c),h=a.segments[a.segments.length-1];a.segments.push({p0:b,p1:c,t0:d,t1:e,startDist:h?h.startDist+h.length:0,length:f});a.length+=f}if(u.cache)return u.cache;for(var b=[],e=0;e+5<d.allpts.length;e+=4)b.push({p0:{x:d.allpts[e],y:d.allpts[e+1]},p1:{x:d.allpts[e+2],y:d.allpts[e+3]},p2:{x:d.allpts[e+4],y:d.allpts[e+5]},startDist:0,length:0,segments:[]});var h=c.rstyle.bezierPts,k=f.bezierProjPcts.length;for(e=0;e<b.length;e++){var m=b[e],g=b[e-1];g&&(m.startDist=g.startDist+g.length);
a(m,m.p0,h[e*k],0,f.bezierProjPcts[0]);for(g=0;g<k-1;g++)a(m,h[e*k+g],h[e*k+g+1],f.bezierProjPcts[g],f.bezierProjPcts[g+1]);a(m,h[e*k+k-1],m.p2,f.bezierProjPcts[k-1],1)}return u.cache=b},n=function(b){var c,e="source"===b;if(m[b]){var f=a.pstyle(b+"-text-offset").pfValue;switch(d.edgeType){case "self":case "compound":case "bezier":case "multibezier":var n=g(),q=0,t=0;for(c=0;c<n.length;c++){for(var p=n[e?c:n.length-1-c],u=0;u<p.segments.length;u++){var E=p.segments[e?u:p.segments.length-1-u],F=c===
n.length-1&&u===p.segments.length-1;if(q=t,(t+=E.length)>=f||F){var D={cp:p,segment:E};break}}if(D)break}p=D.cp;E=D.segment;f=(f-q)/E.length;c=E.t1-E.t0;D=e?E.t0+c*f:E.t1-c*f;D=l.bound(0,D,1);k=l.qbezierPtAt(p.p0,p.p1,p.p2,D);e=p.p0;f=p.p1;c=p.p2;p=D;D=l.bound(0,p-.001,1);p=l.bound(0,p+.001,1);D=l.qbezierPtAt(e,f,c,D);e=l.qbezierPtAt(e,f,c,p);c=Math.atan((e.y-D.y)/(e.x-D.x));break;case "straight":case "segments":case "haystack":D=0;t=d.allpts.length;for(c=0;c+3<t&&(e?(p={x:d.allpts[c],y:d.allpts[c+
1]},E={x:d.allpts[c+2],y:d.allpts[c+3]}):(p={x:d.allpts[t-2-c],y:d.allpts[t-1-c]},E={x:d.allpts[t-4-c],y:d.allpts[t-3-c]}),n=l.dist(p,E),q=D,!((D+=n)>=f));c+=2);D=l.bound(0,(f-q)/n,1);k=l.lineAt(p,E,D);c=Math.atan((E.y-p.y)/(E.x-p.x))}h("labelX",b,k.x);h("labelY",b,k.y);h("labelAutoAngle",b,c)}};n("source");n("target");this.applyLabelDimensions(a)}},applyLabelDimensions:function(a){this.applyPrefixedLabelDimensions(a);a.isEdge()&&(this.applyPrefixedLabelDimensions(a,"source"),this.applyPrefixedLabelDimensions(a,
"target"))},applyPrefixedLabelDimensions:function(a,c){var d=a._private,f=this.getLabelText(a,c);a=this.calculateLabelDimensions(a,f);b.setPrefixedProperty(d.rstyle,"labelWidth",c,a.width);b.setPrefixedProperty(d.rscratch,"labelWidth",c,a.width);b.setPrefixedProperty(d.rstyle,"labelHeight",c,a.height);b.setPrefixedProperty(d.rscratch,"labelHeight",c,a.height)},getLabelText:function(a,c){var d=a._private,f=a.pstyle((c?c+"-":"")+"label").strValue,m=a.pstyle("text-transform").value,k=function(a,e){return e?
(b.setPrefixedProperty(d.rscratch,a,c,e),e):b.getPrefixedProperty(d.rscratch,a,c)};"none"==m||("uppercase"==m?f=f.toUpperCase():"lowercase"==m&&(f=f.toLowerCase()));m=a.pstyle("text-wrap").value;if("wrap"===m){var h=k("labelKey");if(h&&k("labelWrapKey")===h)return k("labelWrapCachedText");f=f.split("\n");m=a.pstyle("text-max-width").pfValue;for(var g=[],l=0;l<f.length;l++){var n=f[l];if(this.calculateLabelDimensions(a,n,"line="+n).width>m){n=n.split(/\s+/);for(var p="",y=0;y<n.length;y++){var w=n[y],
v=0===p.length?w:p+" "+w;this.calculateLabelDimensions(a,v,"testLine="+v).width<=m?p+=w+" ":(g.push(p),p=w+" ")}p.match(/^\s+$/)||g.push(p)}else g.push(n)}k("labelWrapCachedLines",g);f=k("labelWrapCachedText",g.join("\n"));k("labelWrapKey",h)}else if("ellipsis"===m){m=a.pstyle("text-max-width").pfValue;k="";h=!1;for(g=0;g<f.length&&!(this.calculateLabelDimensions(a,k+f[g]+"\u2026").width>m);g++)k+=f[g],g===f.length-1&&(h=!0);return h||(k+="\u2026"),k}return f},calculateLabelDimensions:function(a,
b,d){var c=a._private.labelStyleKey+"$@$"+b;d&&(c+="$@$"+d);d=this.labelDimCache||(this.labelDimCache={});if(d[c])return d[c];var e=a.pstyle("font-style").strValue,k=1*a.pstyle("font-size").pfValue+"px",h=a.pstyle("font-family").strValue,g=a.pstyle("font-weight").strValue,l=this.labelCalcDiv;l||(l=this.labelCalcDiv=document.createElement("div"),document.body.appendChild(l));var n=l.style;return n.fontFamily=h,n.fontStyle=e,n.fontSize=k,n.fontWeight=g,n.position="absolute",n.left="-9999px",n.top="-9999px",
n.zIndex="-1",n.visibility="hidden",n.pointerEvents="none",n.padding="0",n.lineHeight="1","wrap"===a.pstyle("text-wrap").value?n.whiteSpace="pre":n.whiteSpace="normal",l.textContent=b,d[c]={width:Math.ceil(l.clientWidth/1),height:Math.ceil(l.clientHeight/1)},d[c]},calculateLabelAngles:function(a){var b=a._private.rscratch,d=a.isEdge();a=a.pstyle("text-rotation");var f=a.strValue;"none"===f?b.labelAngle=b.sourceLabelAngle=b.targetLabelAngle=0:d&&"autorotate"===f?(b.labelAngle=Math.atan(b.midDispY/
b.midDispX),b.sourceLabelAngle=b.sourceLabelAutoAngle,b.targetLabelAngle=b.targetLabelAutoAngle):b.labelAngle=b.sourceLabelAngle=b.targetLabelAngle="autorotate"===f?0:a.pfValue}}},function(p,n,g){p.exports={getNodeShape:function(g){var d=g.pstyle("shape").value;return g.isParent()?"rectangle"===d||"roundrectangle"===d||"cutrectangle"===d||"barrel"===d?d:"rectangle":"polygon"===d?(g=g.pstyle("shape-polygon-points").value,this.nodeShapes.makePolygon(g).name):d}}},function(p,n,g){p.exports={registerCalculationListeners:function(){var g=
this.cy,d=g.collection(),b=this,a=function(a,b){var c=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];d.merge(a);for(var e=0;e<a.length;e++){var k=a[e]._private,h=k.rstyle;c&&(h.clean=!1,k.bbCache=null);k=h.dirtyEvents=h.dirtyEvents||{length:0};k[b.type]||(k[b.type]=!0,k.length++)}};b.binder(g).on("position.* style.* free.* bounds.*","node",function(b){var c=b.target;a(c,b);a(c.connectedEdges(),b)}).on("add.*","node",function(b){a(b.target,b)}).on("background.*","node",function(b){a(b.target,
b,!1)}).on("add.* style.*","edge",function(b){var c=b.target;a(c,b);a(c.parallelEdges(),b)}).on("remove.*","edge",function(b){for(var c=b.target.parallelEdges(),d=0;d<c.length;d++){var g=c[d];g.removed()||a(g,b)}}).on("dirty.*","node",function(b){a(b.target,b)});b.beforeRender(function(a){if(a){var c=b.onUpdateEleCalcsFns;if(c)for(var f=0;f<c.length;f++)(0,c[f])(a,d);b.recalculateRenderedStyle(d,!1);for(f=0;f<d.length;f++)d[f]._private.rstyle.dirtyEvents=null;d=g.collection()}},b.beforeRenderPriorities.eleCalcs)},
onUpdateEleCalcs:function(g){(this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[]).push(g)},recalculateRenderedStyle:function(g,d){var b=[],a=[];if(!this.destroyed){void 0===d&&(d=!0);for(var c=0;c<g.length;c++){var e=g[c],f=e._private,m=f.rstyle;d&&m.clean||e.removed()||"none"!==e.pstyle("display").value&&("nodes"===f.group?a.push(e):b.push(e),m.clean=!0)}for(c=0;c<a.length;c++)e=a[c],f=e._private,m=f.rstyle,g=e.position(),this.recalculateNodeLabelProjection(e),m.nodeX=g.x,m.nodeY=g.y,m.nodeW=
e.pstyle("width").pfValue,m.nodeH=e.pstyle("height").pfValue;this.recalculateEdgeProjections(b);for(c=0;c<b.length;c++)e=b[c],f=e._private,m=f.rstyle,a=f.rscratch,this.recalculateEdgeLabelProjections(e),m.srcX=a.arrowStartX,m.srcY=a.arrowStartY,m.tgtX=a.arrowEndX,m.tgtY=a.arrowEndY,m.midX=a.midX,m.midY=a.midY,m.labelAngle=a.labelAngle,m.sourceLabelAngle=a.sourceLabelAngle,m.targetLabelAngle=a.targetLabelAngle}}}},function(p,n,g){var l=g(17);p.exports={updateCachedGrabbedEles:function(){var d=this.cachedZSortedEles;
if(d){d.drag=[];d.nondrag=[];for(var b=[],a=0;a<d.length;a++){var c=d[a],e=c._private.rscratch;c.grabbed()&&!c.isParent()?b.push(c):e.inDragLayer?d.drag.push(c):d.nondrag.push(c)}for(a=0;a<b.length;a++)c=b[a],d.drag.push(c)}},invalidateCachedZSortedEles:function(){this.cachedZSortedEles=null},getCachedZSortedEles:function(d){d||!this.cachedZSortedEles?(d=this.cy.mutableElements().toArray(),d.sort(l),d.interactive=d.filter(function(b){return b.interactive()}),this.cachedZSortedEles=d,this.updateCachedGrabbedEles()):
d=this.cachedZSortedEles;return d}}},function(p,n,g){p.exports={getCachedImage:function(g,d,b){var a=this.imageCache=this.imageCache||{},c=a[g];if(c)return c.image.complete||c.image.addEventListener("load",b),c.image;c=a[g]=a[g]||{};var e=c.image=new Image;e.addEventListener("load",b);e.addEventListener("error",function(){e.error=!0});return"data:"===g.substring(0,5).toLowerCase()||(e.crossOrigin=d),e.src=g,e}}},function(p,n,g){var l=g(0),d=g(1),b=g(2);n=(g(16),{});n.registerBinding=function(a,b,
d,f){var c=Array.prototype.slice.apply(arguments,[1]),e=this.binder(a);return e.on.apply(e,c)};n.binder=function(a){var b=this,d=a===window||a===document||a===document.body||l.domElement(a);if(null==b.supportsPassiveEvents){var f=!1;try{var g=Object.defineProperty({},"passive",{get:function(){f=!0}});window.addEventListener("test",null,g)}catch(k){}b.supportsPassiveEvents=f}g=function(c,e,f){var h=Array.prototype.slice.call(arguments);return d&&b.supportsPassiveEvents&&(h[2]={capture:null!=f&&f,passive:!1,
once:!1}),b.bindings.push({target:a,args:h}),(a.addEventListener||a.on).apply(a,h),this};return{on:g,addEventListener:g,addListener:g,bind:g}};n.nodeIsDraggable=function(a){return a&&a.isNode()&&!a.locked()&&a.grabbable()};n.nodeIsGrabbable=function(a){return this.nodeIsDraggable(a)&&a.interactive()};n.load=function(){var a=this,c=function(b,c,e,f){null==b&&(b=a.cy);for(var h=0;h<c.length;h++)b.emit(d.extend({originalEvent:e,type:c[h]},f))},e=function(b,c){var d=!0;if(a.cy.hasCompoundNodes()&&b&&
b.isEdge())for(var e=0;c&&e<c.length;e++){if(b=c[e],b.isNode()&&b.isParent()){d=!1;break}}else d=!0;return d},f=function(a){a[0]._private.rscratch.inDragLayer=!0},g=function(b,c){var d;if(c.addToList&&a.cy.hasCompoundNodes()){if(!c.addToList.hasId)for(c.addToList.hasId={},d=0;d<c.addToList.length;d++)c.addToList.hasId[c.addToList[d].id()]=!0;d=c.addToList.hasId}d=d||{};d[b.id()]||(c.addToList.push(b),d[b.id()]=!0,b[0]._private.grabbed=!0)},k=function(a,b){!a.cy().hasCompoundNodes()||null==b.inDragLayer&&
null==b.addToList||(a=a.descendants(),b.inDragLayer&&(a.forEach(f),a.connectedEdges().forEach(f)),b.addToList&&a.forEach(function(a){g(a,b)}))},h=function(b,c){c=c||{};var d=b.cy().hasCompoundNodes();c.inDragLayer&&(b.forEach(f),b.neighborhood().stdFilter(function(a){return!d||a.isEdge()}).forEach(f));c.addToList&&b.forEach(function(a){g(a,c)});k(b,c);q(b,{inDragLayer:c.inDragLayer});a.updateCachedGrabbedEles()},n=function(b){b&&(b.hasId={},a.getCachedZSortedEles().forEach(function(a){a[0]._private.grabbed=
!1;a[0]._private.rscratch.inDragLayer=!1;a[0]._private.rscratch.isGrabTarget=!1}),a.updateCachedGrabbedEles())},q=function(a,b){if((null!=b.inDragLayer||null!=b.addToList)&&a.cy().hasCompoundNodes()){var c=a.ancestors().orphans();c.same(a)||(a=c.descendants().spawnSelf().merge(c).unmerge(a).unmerge(a.descendants()),c=a.connectedEdges(),b.inDragLayer&&(c.forEach(f),a.forEach(f)),b.addToList&&a.forEach(function(a){g(a,b)}))}},p="undefined"!=typeof MutationObserver;p?(a.removeObserver=new MutationObserver(function(b){for(var c=
0;c<b.length;c++){var d=b[c].removedNodes;if(d)for(var e=0;e<d.length;e++)if(d[e]===a.container){a.destroy();break}}}),a.container.parentNode&&a.removeObserver.observe(a.container.parentNode,{childList:!0})):a.registerBinding(a.container,"DOMNodeRemoved",function(b){a.destroy()});var u=d.debounce(function(){a.cy.resize()},100);p&&(a.styleObserver=new MutationObserver(u),a.styleObserver.observe(a.container,{attributes:!0}));a.registerBinding(window,"resize",u);var y=function(){a.invalidateContainerClientCoordsCache()};
!function(a,b){for(;null!=a;)b(a),a=a.parentNode}(a.container,function(b){a.registerBinding(b,"transitionend",y);a.registerBinding(b,"animationend",y);a.registerBinding(b,"scroll",y)});a.registerBinding(a.container,"contextmenu",function(a){a.preventDefault()});var w=function(b){var c=a.findContainerClientCoords(),d=c[0],e=c[1],f=c[2];c=c[3];for(var h=b.touches?b.touches:[b],k=!1,g=0;g<h.length;g++){var m=h[g];if(d<=m.clientX&&m.clientX<=d+f&&e<=m.clientY&&m.clientY<=e+c){k=!0;break}}if(!k)return!1;
d=a.container;b=b.target.parentNode;for(e=!1;b;){if(b===d){e=!0;break}b=b.parentNode}return!!e};a.registerBinding(a.container,"mousedown",function(b){if(w(b)){b.preventDefault();a.hoverData.capture=!0;a.hoverData.which=b.which;var d=a.cy,e=[b.clientX,b.clientY],f=a.projectIntoViewport(e[0],e[1]),k=a.selection,g=a.findNearestElements(f[0],f[1],!0,!1),m=g[0],l=a.dragData.possibleDragElements;a.hoverData.mdownPos=f;a.hoverData.mdownGPos=e;if(3==b.which)a.hoverData.cxtStarted=!0,g={originalEvent:b,type:"cxttapstart",
position:{x:f[0],y:f[1]}},m?(m.activate(),m.emit(g),a.hoverData.down=m):d.emit(g),a.hoverData.downTime=(new Date).getTime(),a.hoverData.cxtDragged=!1;else if(1==b.which){if(m&&m.activate(),null!=m&&a.nodeIsGrabbable(m)){var n=function(a){return{originalEvent:b,type:a,position:{x:f[0],y:f[1]}}};e=function(a){a.emit(n("grab"))};m[0]._private.rscratch.isGrabTarget=!0;if(m.selected()){l=a.dragData.possibleDragElements=[];var q=d.$(function(b){return b.isNode()&&b.selected()&&a.nodeIsGrabbable(b)});h(q,
{addToList:l});m.emit(n("grabon"));q.forEach(e)}else l=a.dragData.possibleDragElements=[],h(m,{addToList:l}),m.emit(n("grabon")).emit(n("grab"));a.redrawHint("eles",!0);a.redrawHint("drag",!0)}a.hoverData.down=m;a.hoverData.downs=g;a.hoverData.downTime=(new Date).getTime();c(m,["mousedown","tapstart","vmousedown"],b,{position:{x:f[0],y:f[1]}});null==m?(k[4]=1,a.data.bgActivePosistion={x:f[0],y:f[1]},a.redrawHint("select",!0),a.redraw()):m.isEdge()&&(k[4]=1);(function(){a.hoverData.tapholdCancelled=
!1;clearTimeout(a.hoverData.tapholdTimeout);a.hoverData.tapholdTimeout=setTimeout(function(){if(!a.hoverData.tapholdCancelled){var c=a.hoverData.down;c?c.emit({originalEvent:b,type:"taphold",position:{x:f[0],y:f[1]}}):d.emit({originalEvent:b,type:"taphold",position:{x:f[0],y:f[1]}})}},a.tapholdDuration)})()}k[0]=k[2]=f[0];k[1]=k[3]=f[1]}},!1);a.registerBinding(window,"mousemove",function(d){if(a.hoverData.capture||w(d)){var f=!1,k=a.cy,g=k.zoom();f=[d.clientX,d.clientY];var m=a.projectIntoViewport(f[0],
f[1]),q=a.hoverData.mdownPos,t=a.hoverData.mdownGPos,p=a.selection,r=null;a.hoverData.draggingEles||a.hoverData.dragging||a.hoverData.selecting||(r=a.findNearestElement(m[0],m[1],!0,!1));var u=a.hoverData.last,v=a.hoverData.down,x=[m[0]-p[2],m[1]-p[3]],y=a.dragData.possibleDragElements;if(t){var P=f[0]-t[0];f=f[1]-t[1];a.hoverData.isOverThresholdDrag=P=P*P+f*f>=a.desktopTapThreshold2}t=d.shiftKey||d.metaKey||d.ctrlKey;P&&(a.hoverData.tapholdCancelled=!0);f=!0;c(r,["mousemove","vmousemove","tapdrag"],
d,{position:{x:m[0],y:m[1]}});var A=function(){a.data.bgActivePosistion=void 0;a.hoverData.selecting||k.emit("boxstart");p[4]=1;a.hoverData.selecting=!0;a.redrawHint("select",!0);a.redraw()};if(3===a.hoverData.which)P&&(y={originalEvent:d,type:"cxtdrag",position:{x:m[0],y:m[1]}},v?v.emit(y):k.emit(y),a.hoverData.cxtDragged=!0,a.hoverData.cxtOver&&r===a.hoverData.cxtOver||(a.hoverData.cxtOver&&a.hoverData.cxtOver.emit({originalEvent:d,type:"cxtdragout",position:{x:m[0],y:m[1]}}),a.hoverData.cxtOver=
r,r&&r.emit({originalEvent:d,type:"cxtdragover",position:{x:m[0],y:m[1]}})));else if(a.hoverData.dragging){if(f=!0,k.panningEnabled()&&k.userPanningEnabled())a.hoverData.justStartedPan?(y=a.hoverData.mdownPos,m={x:(m[0]-y[0])*g,y:(m[1]-y[1])*g},a.hoverData.justStartedPan=!1):m={x:x[0]*g,y:x[1]*g},k.panBy(m),a.hoverData.dragged=!0;m=a.projectIntoViewport(d.clientX,d.clientY)}else if(1!=p[4]||null!=v&&!v.isEdge()){if(v&&v.isEdge()&&v.active()&&v.unactivate(),v&&v.grabbed()||r==u||(u&&c(u,["mouseout",
"tapdragout"],d,{position:{x:m[0],y:m[1]}}),r&&c(r,["mouseover","tapdragover"],d,{position:{x:m[0],y:m[1]}}),a.hoverData.last=r),v)if(P)if(k.boxSelectionEnabled()&&t)v&&v.grabbed()&&(n(y),v.emit("free")),A();else{if(v&&v.grabbed()&&a.nodeIsDraggable(v)){(g=!a.dragData.didDrag)&&a.redrawHint("eles",!0);a.dragData.didDrag=!0;r=[];a.hoverData.draggingEles||h(k.collection(y),{inDragLayer:!0});for(v=0;v<y.length;v++)u=y[v],a.nodeIsDraggable(u)&&u.grabbed()&&(q=u.position(),(r.push(u),l.number(x[0])&&l.number(x[1])&&
(q.x+=x[0],q.y+=x[1],g))&&(u=a.hoverData.dragDelta)&&l.number(u[0])&&l.number(u[1])&&(q.x+=u[0],q.y+=u[1]));a.hoverData.draggingEles=!0;y=k.collection(r);y.dirtyCompoundBoundsCache();y.emit("position drag");a.redrawHint("drag",!0);a.redraw()}}else!function(){var b=a.hoverData.dragDelta=a.hoverData.dragDelta||[];0===b.length?(b.push(x[0]),b.push(x[1])):(b[0]+=x[0],b[1]+=x[1])}();f=!0}else P&&(a.hoverData.dragging||!k.boxSelectionEnabled()||!t&&k.panningEnabled()&&k.userPanningEnabled()?!a.hoverData.selecting&&
k.panningEnabled()&&k.userPanningEnabled()&&e(v,a.hoverData.downs)&&(a.hoverData.dragging=!0,a.hoverData.justStartedPan=!0,p[4]=0,a.data.bgActivePosistion=b.array2point(q),a.redrawHint("select",!0),a.redraw()):A(),v&&v.isEdge()&&v.active()&&v.unactivate());return p[2]=m[0],p[3]=m[1],f?(d.stopPropagation&&d.stopPropagation(),d.preventDefault&&d.preventDefault(),!1):void 0}},!1);a.registerBinding(window,"mouseup",function(b){if(a.hoverData.capture){a.hoverData.capture=!1;var d=a.cy,e=a.projectIntoViewport(b.clientX,
b.clientY),f=a.selection,h=a.findNearestElement(e[0],e[1],!0,!1),k=a.dragData.possibleDragElements,g=a.hoverData.down,m=b.shiftKey||b.metaKey||b.ctrlKey;if(a.data.bgActivePosistion&&(a.redrawHint("select",!0),a.redraw()),a.hoverData.tapholdCancelled=!0,a.data.bgActivePosistion=void 0,g&&g.unactivate(),3===a.hoverData.which)k={originalEvent:b,type:"cxttapend",position:{x:e[0],y:e[1]}},(g?g.emit(k):d.emit(k),a.hoverData.cxtDragged)||(k={originalEvent:b,type:"cxttap",position:{x:e[0],y:e[1]}},g?g.emit(k):
d.emit(k)),a.hoverData.cxtDragged=!1,a.hoverData.which=null;else if(1===a.hoverData.which){if(null!=g||a.dragData.didDrag||a.hoverData.selecting||a.hoverData.dragged||b.shiftKey||b.metaKey||b.ctrlKey||(d.$(function(a){return a.selected()}).unselect(),0<k.length&&a.redrawHint("eles",!0),a.dragData.possibleDragElements=k=[]),c(h,["mouseup","tapend","vmouseup"],b,{position:{x:e[0],y:e[1]}}),a.dragData.didDrag||a.hoverData.dragged||a.hoverData.selecting||a.hoverData.isOverThresholdDrag||c(g,["click",
"tap","vclick"],b,{position:{x:e[0],y:e[1]}}),h!=g||a.dragData.didDrag||a.hoverData.selecting||null!=h&&h._private.selectable&&(a.hoverData.dragging||("additive"===d.selectionType()||m?h.selected()?h.unselect():h.select():m||(d.$(":selected").unmerge(h).unselect(),h.select())),a.redrawHint("eles",!0)),a.hoverData.selecting)b=d.collection(a.getAllInBox(f[0],f[1],f[2],f[3])),a.redrawHint("select",!0),0<b.length&&a.redrawHint("eles",!0),d.emit("boxend"),e=function(a){return a.selectable()&&!a.selected()},
"additive"===d.selectionType()?b.emit("box").stdFilter(e).select().emit("boxselect"):(m||d.$(":selected").unmerge(b).unselect(),b.emit("box").stdFilter(e).select().emit("boxselect")),a.redraw();(a.hoverData.dragging&&(a.hoverData.dragging=!1,a.redrawHint("select",!0),a.redrawHint("eles",!0),a.redraw()),f[4])||(a.redrawHint("drag",!0),a.redrawHint("eles",!0),d=g&&g.grabbed(),n(k),d&&g.emit("free"))}f[4]=0;a.hoverData.down=null;a.hoverData.cxtStarted=!1;a.hoverData.draggingEles=!1;a.hoverData.selecting=
!1;a.hoverData.isOverThresholdDrag=!1;a.dragData.didDrag=!1;a.hoverData.dragged=!1;a.hoverData.dragDelta=[];a.hoverData.mdownPos=null;a.hoverData.mdownGPos=null}},!1);a.registerBinding(a.container,"wheel",function(b){if(!a.scrollingPage){var c=a.cy,d=a.projectIntoViewport(b.clientX,b.clientY);d=[d[0]*c.zoom()+c.pan().x,d[1]*c.zoom()+c.pan().y];if(a.hoverData.draggingEles||a.hoverData.dragging||a.hoverData.cxtStarted||0!==a.selection[4])return void b.preventDefault();if(c.panningEnabled()&&c.userPanningEnabled()&&
c.zoomingEnabled()&&c.userZoomingEnabled()){b.preventDefault();a.data.wheelZooming=!0;clearTimeout(a.data.wheelTimeout);a.data.wheelTimeout=setTimeout(function(){a.data.wheelZooming=!1;a.redrawHint("eles",!0);a.redraw()},150);var e=null!=b.deltaY?b.deltaY/-250:null!=b.wheelDeltaY?b.wheelDeltaY/1E3:b.wheelDelta/1E3;e*=a.wheelSensitivity;1===b.deltaMode&&(e*=33);c.zoom({level:c.zoom()*Math.pow(10,e),renderedPosition:{x:d[0],y:d[1]}})}}},!0);a.registerBinding(window,"scroll",function(b){a.scrollingPage=
!0;clearTimeout(a.scrollingPageTimeout);a.scrollingPageTimeout=setTimeout(function(){a.scrollingPage=!1},250)},!0);a.registerBinding(a.container,"mouseout",function(b){var c=a.projectIntoViewport(b.clientX,b.clientY);a.cy.emit({originalEvent:b,type:"mouseout",position:{x:c[0],y:c[1]}})},!1);a.registerBinding(a.container,"mouseover",function(b){var c=a.projectIntoViewport(b.clientX,b.clientY);a.cy.emit({originalEvent:b,type:"mouseover",position:{x:c[0],y:c[1]}})},!1);var v,x,A,G,B,C,E,F,D,H,I,J,M,
N;a.registerBinding(a.container,"touchstart",N=function(b){if(w(b)){a.touchData.capture=!0;a.data.bgActivePosistion=void 0;var d=a.cy,e=a.touchData.now,f=a.touchData.earlier;if(b.touches[0]){var k=a.projectIntoViewport(b.touches[0].clientX,b.touches[0].clientY);e[0]=k[0];e[1]=k[1]}b.touches[1]&&(k=a.projectIntoViewport(b.touches[1].clientX,b.touches[1].clientY),e[2]=k[0],e[3]=k[1]);b.touches[2]&&(k=a.projectIntoViewport(b.touches[2].clientX,b.touches[2].clientY),e[4]=k[0],e[5]=k[1]);if(b.touches[1]){n(a.dragData.touchDragEles);
var g=a.findContainerClientCoords();D=g[0];H=g[1];I=g[2];J=g[3];v=b.touches[0].clientX-D;x=b.touches[0].clientY-H;A=b.touches[1].clientX-D;G=b.touches[1].clientY-H;M=0<=v&&v<=I&&0<=A&&A<=I&&0<=x&&x<=J&&0<=G&&G<=J;g=d.pan();var m=d.zoom();B=Math.sqrt((A-v)*(A-v)+(G-x)*(G-x));C=(A-v)*(A-v)+(G-x)*(G-x);E=[(v+A)/2,(x+G)/2];F=[(E[0]-g.x)/m,(E[1]-g.y)/m];if(4E4>C&&!b.touches[2])return f=a.findNearestElement(e[0],e[1],!0,!0),k=a.findNearestElement(e[2],e[3],!0,!0),f&&f.isNode()?(f.activate().emit({originalEvent:b,
type:"cxttapstart",position:{x:e[0],y:e[1]}}),a.touchData.start=f):k&&k.isNode()?(k.activate().emit({originalEvent:b,type:"cxttapstart",position:{x:e[0],y:e[1]}}),a.touchData.start=k):d.emit({originalEvent:b,type:"cxttapstart",position:{x:e[0],y:e[1]}}),a.touchData.start&&(a.touchData.start._private.grabbed=!1),a.touchData.cxt=!0,a.touchData.cxtDragged=!1,a.data.bgActivePosistion=void 0,void a.redraw()}if(!b.touches[2]&&!b.touches[1]&&b.touches[0]){m=a.findNearestElements(e[0],e[1],!0,!0);g=m[0];
if(null!=g&&(g.activate(),a.touchData.start=g,a.touchData.starts=m,a.nodeIsGrabbable(g))){m=a.dragData.touchDragEles=[];var l=null;a.redrawHint("eles",!0);a.redrawHint("drag",!0);g.selected()?(l=d.$(function(b){return b.selected()&&a.nodeIsGrabbable(b)}),h(l,{addToList:m})):h(g,{addToList:m});g[0]._private.rscratch.isGrabTarget=!0;var q=function(a){return{originalEvent:b,type:a,position:{x:e[0],y:e[1]}}};g.emit(q("grabon"));l?l.forEach(function(a){a.emit(q("grab"))}):g.emit(q("grab"))}c(g,["touchstart",
"tapstart","vmousedown"],b,{position:{x:e[0],y:e[1]}});null==g&&(a.data.bgActivePosistion={x:k[0],y:k[1]},a.redrawHint("select",!0),a.redraw());a.touchData.singleTouchMoved=!1;a.touchData.singleTouchStartTime=+new Date;clearTimeout(a.touchData.tapholdTimeout);a.touchData.tapholdTimeout=setTimeout(function(){!1!==a.touchData.singleTouchMoved||a.pinching||a.touchData.selecting||(c(a.touchData.start,["taphold"],b,{position:{x:e[0],y:e[1]}}),a.touchData.start||d.$(":selected").unselect())},a.tapholdDuration)}if(1<=
b.touches.length){k=a.touchData.startPosition=[];for(g=0;g<e.length;g++)k[g]=f[g]=e[g];f=b.touches[0];a.touchData.startGPosition=[f.clientX,f.clientY]}}},!1);var L;a.registerBinding(window,"touchmove",L=function(d){var f=a.touchData.capture;if(f||w(d)){var k=a.selection,g=a.cy,m=a.touchData.now,q=a.touchData.earlier,t=g.zoom();if(d.touches[0]){var p=a.projectIntoViewport(d.touches[0].clientX,d.touches[0].clientY);m[0]=p[0];m[1]=p[1]}d.touches[1]&&(p=a.projectIntoViewport(d.touches[1].clientX,d.touches[1].clientY),
m[2]=p[0],m[3]=p[1]);d.touches[2]&&(p=a.projectIntoViewport(d.touches[2].clientX,d.touches[2].clientY),m[4]=p[0],m[5]=p[1]);var r;p=a.touchData.startGPosition;if(f&&d.touches[0]&&p){var u=[];for(r=0;r<m.length;r++)u[r]=m[r]-q[r];var y=d.touches[0].clientX-p[0],P=d.touches[0].clientY-p[1];r=y*y+P*P>=a.touchTapThreshold2}if(f&&a.touchData.cxt){d.preventDefault();p=d.touches[0].clientX-D;var E=d.touches[0].clientY-H,I=d.touches[1].clientX-D,J=d.touches[1].clientY-H;p=(I-p)*(I-p)+(J-E)*(J-E);if(2.25<=
p/C||22500<=p)a.touchData.cxt=!1,a.data.bgActivePosistion=void 0,a.redrawHint("select",!0),p={originalEvent:d,type:"cxttapend",position:{x:m[0],y:m[1]}},a.touchData.start?(a.touchData.start.unactivate().emit(p),a.touchData.start=null):g.emit(p)}if(f&&a.touchData.cxt){p={originalEvent:d,type:"cxtdrag",position:{x:m[0],y:m[1]}};a.data.bgActivePosistion=void 0;a.redrawHint("select",!0);a.touchData.start?a.touchData.start.emit(p):g.emit(p);a.touchData.start&&(a.touchData.start._private.grabbed=!1);a.touchData.cxtDragged=
!0;var K=a.findNearestElement(m[0],m[1],!0,!0);a.touchData.cxtOver&&K===a.touchData.cxtOver||(a.touchData.cxtOver&&a.touchData.cxtOver.emit({originalEvent:d,type:"cxtdragout",position:{x:m[0],y:m[1]}}),a.touchData.cxtOver=K,K&&K.emit({originalEvent:d,type:"cxtdragover",position:{x:m[0],y:m[1]}}))}else if(f&&d.touches[2]&&g.boxSelectionEnabled())d.preventDefault(),a.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,a.touchData.selecting||g.emit("boxstart"),a.touchData.selecting=!0,a.redrawHint("select",
!0),k&&0!==k.length&&void 0!==k[0]?(k[2]=(m[0]+m[2]+m[4])/3,k[3]=(m[1]+m[3]+m[5])/3):(k[0]=(m[0]+m[2]+m[4])/3,k[1]=(m[1]+m[3]+m[5])/3,k[2]=(m[0]+m[2]+m[4])/3+1,k[3]=(m[1]+m[3]+m[5])/3+1),k[4]=1,a.touchData.selecting=!0,a.redraw();else if(f&&d.touches[1]&&g.zoomingEnabled()&&g.panningEnabled()&&g.userZoomingEnabled()&&g.userPanningEnabled()){d.preventDefault();a.data.bgActivePosistion=void 0;a.redrawHint("select",!0);if(k=a.dragData.touchDragEles)for(a.redrawHint("drag",!0),K=0;K<k.length;K++)f=k[K]._private,
f.grabbed=!1,f.rscratch.inDragLayer=!1;p=d.touches[0].clientX-D;E=d.touches[0].clientY-H;I=d.touches[1].clientX-D;J=d.touches[1].clientY-H;f=Math.sqrt((I-p)*(I-p)+(J-E)*(J-E));t=f/B;M&&(u=(p-v+(I-A))/2,r=(E-x+(J-G))/2,y=g.zoom(),t*=y,P=g.pan(),K=F[0]*y+P.x,k=F[1]*y+P.y,u={x:-t/y*(K-P.x-u)+K,y:-t/y*(k-P.y-r)+k},a.touchData.start&&a.touchData.start.active()&&(k=a.dragData.touchDragEles,n(k),a.redrawHint("drag",!0),a.redrawHint("eles",!0),a.touchData.start.unactivate().emit("free")),g.viewport({zoom:t,
pan:u,cancelOnFailedZoom:!0}),B=f,v=p,x=E,A=I,G=J,a.pinching=!0);d.touches[0]&&(p=a.projectIntoViewport(d.touches[0].clientX,d.touches[0].clientY),m[0]=p[0],m[1]=p[1]);d.touches[1]&&(p=a.projectIntoViewport(d.touches[1].clientX,d.touches[1].clientY),m[2]=p[0],m[3]=p[1]);d.touches[2]&&(p=a.projectIntoViewport(d.touches[2].clientX,d.touches[2].clientY),m[4]=p[0],m[5]=p[1])}else if(d.touches[0]){p=a.touchData.start;E=a.touchData.last;if(a.hoverData.draggingEles||a.swipePanning||(K=a.findNearestElement(m[0],
m[1],!0,!0)),f&&null!=p&&d.preventDefault(),f&&null!=p&&a.nodeIsDraggable(p))if(r){k=a.dragData.touchDragEles;(I=!a.dragData.didDrag)&&h(g.collection(k),{inDragLayer:!0});for(J=0;J<k.length;J++){var L=k[J];if(a.nodeIsDraggable(L)&&L.grabbed()&&(a.dragData.didDrag=!0,L=L.position(),l.number(u[0])&&l.number(u[1])&&(L.x+=u[0],L.y+=u[1]),I)){a.redrawHint("eles",!0);var N=a.touchData.dragDelta;N&&l.number(N[0])&&l.number(N[1])&&(L.x+=N[0],L.y+=N[1])}}k=g.collection(k);k.dirtyCompoundBoundsCache();k.emit("position drag");
a.hoverData.draggingEles=!0;a.redrawHint("drag",!0);a.touchData.startPosition[0]==q[0]&&a.touchData.startPosition[1]==q[1]&&a.redrawHint("eles",!0);a.redraw()}else N=a.touchData.dragDelta=a.touchData.dragDelta||[],0===N.length?(N.push(u[0]),N.push(u[1])):(N[0]+=u[0],N[1]+=u[1]);if(c(p||K,["touchmove","tapdrag","vmousemove"],d,{position:{x:m[0],y:m[1]}}),p&&p.grabbed()||K==E||(E&&E.emit({originalEvent:d,type:"tapdragout",position:{x:m[0],y:m[1]}}),K&&K.emit({originalEvent:d,type:"tapdragover",position:{x:m[0],
y:m[1]}})),a.touchData.last=K,f)for(K=0;K<m.length;K++)m[K]&&a.touchData.startPosition[K]&&r&&(a.touchData.singleTouchMoved=!0);f&&(null==p||p.isEdge())&&g.panningEnabled()&&g.userPanningEnabled()&&(e(p,a.touchData.starts)&&(d.preventDefault(),a.swipePanning?g.panBy({x:u[0]*t,y:u[1]*t}):r&&(a.swipePanning=!0,g.panBy({x:y*t,y:P*t}),p&&(p.unactivate(),a.data.bgActivePosistion||(a.data.bgActivePosistion=b.array2point(a.touchData.startPosition)),a.redrawHint("select",!0),a.touchData.start=null))),p=a.projectIntoViewport(d.touches[0].clientX,
d.touches[0].clientY),m[0]=p[0],m[1]=p[1])}for(r=0;r<m.length;r++)q[r]=m[r]}},!1);var Q;a.registerBinding(window,"touchcancel",Q=function(b){b=a.touchData.start;a.touchData.capture=!1;b&&b.unactivate()});var K;if(a.registerBinding(window,"touchend",K=function(b){var d=a.touchData.start;if(a.touchData.capture){a.touchData.capture=!1;b.preventDefault();var e=a.selection;a.swipePanning=!1;a.hoverData.draggingEles=!1;var f=a.cy,h=f.zoom(),k=a.touchData.now,g=a.touchData.earlier;if(b.touches[0]){var m=
a.projectIntoViewport(b.touches[0].clientX,b.touches[0].clientY);k[0]=m[0];k[1]=m[1]}b.touches[1]&&(m=a.projectIntoViewport(b.touches[1].clientX,b.touches[1].clientY),k[2]=m[0],k[3]=m[1]);b.touches[2]&&(m=a.projectIntoViewport(b.touches[2].clientX,b.touches[2].clientY),k[4]=m[0],k[5]=m[1]);d&&d.unactivate();var l;if(a.touchData.cxt)return(l={originalEvent:b,type:"cxttapend",position:{x:k[0],y:k[1]}},d?d.emit(l):f.emit(l),a.touchData.cxtDragged)||(b={originalEvent:b,type:"cxttap",position:{x:k[0],
y:k[1]}},d?d.emit(b):f.emit(b)),a.touchData.start&&(a.touchData.start._private.grabbed=!1),a.touchData.cxt=!1,a.touchData.start=null,void a.redraw();!b.touches[2]&&f.boxSelectionEnabled()&&a.touchData.selecting&&(a.touchData.selecting=!1,m=f.collection(a.getAllInBox(e[0],e[1],e[2],e[3])),e[0]=void 0,e[1]=void 0,e[2]=void 0,e[3]=void 0,e[4]=0,a.redrawHint("select",!0),f.emit("boxend"),m.emit("box").stdFilter(function(a){return a.selectable()&&!a.selected()}).select().emit("boxselect"),m.nonempty()&&
a.redrawHint("eles",!0),a.redraw());(null!=d&&d.unactivate(),b.touches[2])?(a.data.bgActivePosistion=void 0,a.redrawHint("select",!0)):b.touches[1]||b.touches[0]||b.touches[0]||(a.data.bgActivePosistion=void 0,a.redrawHint("select",!0),e=a.dragData.touchDragEles,null!=d?(m=d._private.grabbed,n(e),a.redrawHint("drag",!0),a.redrawHint("eles",!0),m&&d.emit("free"),c(d,["touchend","tapend","vmouseup","tapdragout"],b,{position:{x:k[0],y:k[1]}}),d.unactivate(),a.touchData.start=null):(e=a.findNearestElement(k[0],
k[1],!0,!0),c(e,["touchend","tapend","vmouseup","tapdragout"],b,{position:{x:k[0],y:k[1]}})),e=a.touchData.startPosition[0]-k[0],m=a.touchData.startPosition[1]-k[1],null!=d&&!a.dragData.didDrag&&d._private.selectable&&(e*e+m*m)*h*h<a.touchTapThreshold2&&!a.pinching&&("single"===f.selectionType()?(f.$(":selected").unmerge(d).unselect(),d.select()):d.selected()?d.unselect():d.select(),a.redrawHint("eles",!0)),a.touchData.singleTouchMoved||c(d,["tap","vclick"],b,{position:{x:k[0],y:k[1]}}),a.touchData.singleTouchMoved=
!0);for(d=0;d<k.length;d++)g[d]=k[d];a.dragData.didDrag=!1;0===b.touches.length&&(a.touchData.dragDelta=[],a.touchData.startPosition=null,a.touchData.startGPosition=null);2>b.touches.length&&(a.pinching=!1,a.redrawHint("eles",!0),a.redraw())}},!1),"undefined"==typeof TouchEvent){var O=[],R=function(a){return{clientX:a.clientX,clientY:a.clientY,force:1,identifier:a.pointerId,pageX:a.pageX,pageY:a.pageY,radiusX:a.width/2,radiusY:a.height/2,screenX:a.screenX,screenY:a.screenY,target:a.target}},Y=function(a){for(var b=
0;b<O.length;b++)if(O[b].event.pointerId===a.pointerId)return void O.splice(b,1)},ta=function(a){var b=O.filter(function(b){return b.event.pointerId===a.pointerId})[0];b.event=a;b.touch=R(a)},aa=function(a){a.touches=O.map(function(a){return a.touch})},ba=function(a){return"mouse"===a.pointerType||4===a.pointerType};a.registerBinding(a.container,"pointerdown",function(a){ba(a)||(a.preventDefault(),O.push({event:a,touch:R(a)}),aa(a),N(a))});a.registerBinding(a.container,"pointerup",function(a){ba(a)||
(Y(a),aa(a),K(a))});a.registerBinding(a.container,"pointercancel",function(a){ba(a)||(Y(a),aa(a),Q(a))});a.registerBinding(a.container,"pointermove",function(a){ba(a)||(a.preventDefault(),ta(a),aa(a),L(a))})}};p.exports=n},function(p,n,g){var l=g(2);p.exports={generatePolygon:function(d,b){return this.nodeShapes[d]={renderer:this,name:d,points:b,draw:function(a,b,d,f,g){this.renderer.nodeShapeImpl("polygon",a,b,d,f,g,this.points)},intersectLine:function(a,b,d,f,g,k,h){return l.polygonIntersectLine(g,
k,this.points,a,b,d/2,f/2,h)},checkPoint:function(a,b,d,f,g,k,h){return l.pointInsidePolygon(a,b,this.points,k,h,f,g,[0,-1],d)}}},generateEllipse:function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(d,b,a,c,e){this.renderer.nodeShapeImpl(this.name,d,b,a,c,e)},intersectLine:function(d,b,a,c,e,f,g){return l.intersectLineEllipse(e,f,d,b,a/2+g,c/2+g)},checkPoint:function(d,b,a,c,e,f,g){return l.checkInEllipse(d,b,c,e,f,g,a)}}},generateRoundRectangle:function(){return this.nodeShapes.roundrectangle=
{renderer:this,name:"roundrectangle",points:l.generateUnitNgonPointsFitToSquare(4,0),draw:function(d,b,a,c,e){this.renderer.nodeShapeImpl(this.name,d,b,a,c,e)},intersectLine:function(d,b,a,c,e,f,g){return l.roundRectangleIntersectLine(e,f,d,b,a,c,g)},checkPoint:function(d,b,a,c,e,f,g){var k=l.getRoundRectangleRadius(c,e),h=2*k;return!!l.pointInsidePolygon(d,b,this.points,f,g,c,e-h,[0,-1],a)||!!l.pointInsidePolygon(d,b,this.points,f,g,c-h,e,[0,-1],a)||!!l.checkInEllipse(d,b,h,h,f-c/2+k,g-e/2+k,a)||
!!l.checkInEllipse(d,b,h,h,f+c/2-k,g-e/2+k,a)||!!l.checkInEllipse(d,b,h,h,f+c/2-k,g+e/2-k,a)||!!l.checkInEllipse(d,b,h,h,f-c/2+k,g+e/2-k,a)}}},generateCutRectangle:function(){return this.nodeShapes.cutrectangle={renderer:this,name:"cutrectangle",cornerLength:l.getCutRectangleCornerLength(),points:l.generateUnitNgonPointsFitToSquare(4,0),draw:function(d,b,a,c,e){this.renderer.nodeShapeImpl(this.name,d,b,a,c,e)},generateCutTrianglePts:function(d,b,a,c){var e=this.cornerLength;b/=2;var f=d/2;d=a-f;a+=
f;f=c-b;c+=b;return{topLeft:[d,f+e,d+e,f,d+e,f+e],topRight:[a-e,f,a,f+e,a-e,f+e],bottomRight:[a,c-e,a-e,c,a-e,c-e],bottomLeft:[d+e,c,d,c-e,d+e,c-e]}},intersectLine:function(d,b,a,c,e,f,g){a=this.generateCutTrianglePts(a+2*g,c+2*g,d,b);a=[].concat.apply([],[a.topLeft.splice(0,4),a.topRight.splice(0,4),a.bottomRight.splice(0,4),a.bottomLeft.splice(0,4)]);return l.polygonIntersectLine(e,f,a,d,b)},checkPoint:function(d,b,a,c,e,f,g){if(l.pointInsidePolygon(d,b,this.points,f,g,c,e-2*this.cornerLength,[0,
-1],a)||l.pointInsidePolygon(d,b,this.points,f,g,c-2*this.cornerLength,e,[0,-1],a))return!0;a=this.generateCutTrianglePts(c,e,f,g);return l.pointInsidePolygonPoints(d,b,a.topLeft)||l.pointInsidePolygonPoints(d,b,a.topRight)||l.pointInsidePolygonPoints(d,b,a.bottomRight)||l.pointInsidePolygonPoints(d,b,a.bottomLeft)}}},generateBarrel:function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:l.generateUnitNgonPointsFitToSquare(4,0),draw:function(d,b,a,c,e){this.renderer.nodeShapeImpl(this.name,
d,b,a,c,e)},intersectLine:function(d,b,a,c,e,f,g){a=this.generateBarrelBezierPts(a+2*g,c+2*g,d,b);c=function(a){var b=l.qbezierPtAt({x:a[0],y:a[1]},{x:a[2],y:a[3]},{x:a[4],y:a[5]},.15),c=l.qbezierPtAt({x:a[0],y:a[1]},{x:a[2],y:a[3]},{x:a[4],y:a[5]},.5),d=l.qbezierPtAt({x:a[0],y:a[1]},{x:a[2],y:a[3]},{x:a[4],y:a[5]},.85);return[a[0],a[1],b.x,b.y,c.x,c.y,d.x,d.y,a[4],a[5]]};a=[].concat(c(a.topLeft),c(a.topRight),c(a.bottomRight),c(a.bottomLeft));return l.polygonIntersectLine(e,f,a,d,b)},generateBarrelBezierPts:function(d,
b,a,c){var e=b/2,f=d/2,g=a-f;a+=f;f=c-e;c+=e;var k=l.getBarrelCurveConstants(d,b);b=k.heightOffset;e=k.widthOffset;d*=k.ctrlPtOffsetPct;g={topLeft:[g,f+b,g+d,f,g+e,f],topRight:[a-e,f,a-d,f,a,f+b],bottomRight:[a,c-b,a-d,c,a-e,c],bottomLeft:[g+e,c,g+d,c,g,c-b]};return g.topLeft.isTop=!0,g.topRight.isTop=!0,g.bottomLeft.isBottom=!0,g.bottomRight.isBottom=!0,g},checkPoint:function(d,b,a,c,e,f,g){var k=l.getBarrelCurveConstants(c,e),h=k.widthOffset;if(l.pointInsidePolygon(d,b,this.points,f,g,c,e-2*k.heightOffset,
[0,-1],a)||l.pointInsidePolygon(d,b,this.points,f,g,c-2*h,e,[0,-1],a))return!0;a=this.generateBarrelBezierPts(c,e,f,g);c=Object.keys(a);for(e=0;e<c.length;e++)if(f=a[c[e]],g=function(a,b,c){var d=c[4],e=c[2],f=c[0],h=c[5],k=c[1];c=Math.max(d,f);var g=Math.min(h,k);h=Math.max(h,k);return Math.min(d,f)<=a&&a<=c&&g<=b&&b<=h&&(b=l.bezierPtsToQuadCoeff(d,e,f),a=l.solveQuadratic(b[0],b[1],b[2],a).filter(function(a){return 0<=a&&1>=a}),0<a.length)?a[0]:null}(d,b,f),null!=g&&(g=l.qbezierAt(f[5],f[3],f[1],
g),f.isTop&&g<=b||f.isBottom&&b<=g))return!0;return!1}}},generateBottomRoundrectangle:function(){return this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottomroundrectangle",points:l.generateUnitNgonPointsFitToSquare(4,0),draw:function(d,b,a,c,e){this.renderer.nodeShapeImpl(this.name,d,b,a,c,e)},intersectLine:function(d,b,a,c,e,f,g){var k=b-(c/2+g);k=l.finiteLinesIntersect(e,f,d,b,d-(a/2+g),k,d+(a/2+g),k,!1);return 0<k.length?k:l.roundRectangleIntersectLine(e,f,d,b,a,c,g)},checkPoint:function(d,
b,a,c,e,f,g){var k=l.getRoundRectangleRadius(c,e),h=2*k;if(l.pointInsidePolygon(d,b,this.points,f,g,c,e-h,[0,-1],a)||l.pointInsidePolygon(d,b,this.points,f,g,c-h,e,[0,-1],a))return!0;var m=c/2+2*a,n=e/2+2*a;return!!l.pointInsidePolygonPoints(d,b,[f-m,g-n,f-m,g,f+m,g,f+m,g-n])||!!l.checkInEllipse(d,b,h,h,f+c/2-k,g+e/2-k,a)||!!l.checkInEllipse(d,b,h,h,f-c/2+k,g+e/2-k,a)}}},registerNodeShapes:function(){var d=this.nodeShapes={},b=this;this.generateEllipse();this.generatePolygon("triangle",l.generateUnitNgonPointsFitToSquare(3,
0));this.generatePolygon("rectangle",l.generateUnitNgonPointsFitToSquare(4,0));d.square=d.rectangle;this.generateRoundRectangle();this.generateCutRectangle();this.generateBarrel();this.generateBottomRoundrectangle();this.generatePolygon("diamond",[0,1,1,0,0,-1,-1,0]);this.generatePolygon("pentagon",l.generateUnitNgonPointsFitToSquare(5,0));this.generatePolygon("hexagon",l.generateUnitNgonPointsFitToSquare(6,0));this.generatePolygon("heptagon",l.generateUnitNgonPointsFitToSquare(7,0));this.generatePolygon("octagon",
l.generateUnitNgonPointsFitToSquare(8,0));var a=Array(20),c=l.generateUnitNgonPoints(5,0),e=l.generateUnitNgonPoints(5,Math.PI/5),f=.5*(3-Math.sqrt(5));f*=1.57;for(var g=0;g<e.length/2;g++)e[2*g]*=f,e[2*g+1]*=f;for(g=0;5>g;g++)a[4*g]=c[2*g],a[4*g+1]=c[2*g+1],a[4*g+2]=e[2*g],a[4*g+3]=e[2*g+1];a=l.fitPolygonToSquare(a);this.generatePolygon("star",a);this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]);this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]);this.generatePolygon("concavehexagon",
[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);this.generatePolygon("tag",[-1,-1,.25,-1,1,0,.25,1,-1,1]);d.makePolygon=function(a){var c,d="polygon-"+a.join("$");return(c=this[d])?c:b.generatePolygon(d,a)}}}},function(p,n,g){var l=g(1);n={timeToRender:function(){return this.redrawTotalTime/this.redrawCount},redraw:function(b){b=b||l.staticEmptyObject();void 0===this.averageRedrawTime&&(this.averageRedrawTime=0);void 0===this.lastRedrawTime&&(this.lastRedrawTime=0);void 0===this.lastDrawTime&&(this.lastDrawTime=
0);this.requestedFrame=!0;this.renderOptions=b},beforeRender:function(b,a){if(!this.destroyed){var c=this.beforeRenderCallbacks;c.push({fn:b,priority:a||0});c.sort(function(a,b){return b.priority-a.priority})}}};var d=function(b,a,c){b=b.beforeRenderCallbacks;for(var d=0;d<b.length;d++)b[d].fn(a,c)};n.startRenderLoop=function(){var b=this;b.renderLoopStarted||(b.renderLoopStarted=!0,l.requestAnimationFrame(function e(c){if(!b.destroyed){if(b.requestedFrame&&!b.skipFrame){d(b,!0,c);c=l.performanceNow();
b.render(b.renderOptions);var f=b.lastDrawTime=l.performanceNow();void 0===b.averageRedrawTime&&(b.averageRedrawTime=f-c);void 0===b.redrawCount&&(b.redrawCount=0);b.redrawCount++;void 0===b.redrawTotalTime&&(b.redrawTotalTime=0);c=f-c;b.redrawTotalTime+=c;b.lastRedrawTime=c;b.averageRedrawTime=b.averageRedrawTime/2+c/2;b.requestedFrame=!1}else d(b,!1,c);b.skipFrame=!1;l.requestAnimationFrame(e)}}))};p.exports=n},function(p,n,g){function l(d){var f=this;f.data={canvases:Array(e.CANVAS_LAYERS),contexts:Array(e.CANVAS_LAYERS),
canvasNeedsRedraw:Array(e.CANVAS_LAYERS),bufferCanvases:Array(e.BUFFER_COUNT),bufferContexts:Array(e.CANVAS_LAYERS)};f.data.canvasContainer=document.createElement("div");var h=f.data.canvasContainer.style;f.data.canvasContainer.setAttribute("style","-webkit-tap-highlight-color: rgba(0,0,0,0);");h.position="relative";h.zIndex="0";h.overflow="hidden";d=d.cy.container();d.appendChild(f.data.canvasContainer);0>(d.getAttribute("style")||"").indexOf("-webkit-tap-highlight-color: rgba(0,0,0,0);")&&d.setAttribute("style",
(d.getAttribute("style")||"")+"-webkit-tap-highlight-color: rgba(0,0,0,0);");for(d=0;d<e.CANVAS_LAYERS;d++)h=f.data.canvases[d]=document.createElement("canvas"),f.data.contexts[d]=h.getContext("2d"),h.setAttribute("style","-webkit-user-select: none; -moz-user-select: -moz-none; user-select: none; -webkit-tap-highlight-color: rgba(0,0,0,0); outline-style: none;"+(b.ms()?" -ms-touch-action: none; touch-action: none; ":"")),h.style.position="absolute",h.setAttribute("data-id","layer"+d),h.style.zIndex=
String(e.CANVAS_LAYERS-d),f.data.canvasContainer.appendChild(h),f.data.canvasNeedsRedraw[d]=!1;f.data.topCanvas=f.data.canvases[0];f.data.canvases[e.NODE].setAttribute("data-id","layer"+e.NODE+"-node");f.data.canvases[e.SELECT_BOX].setAttribute("data-id","layer"+e.SELECT_BOX+"-selectbox");f.data.canvases[e.DRAG].setAttribute("data-id","layer"+e.DRAG+"-drag");for(d=0;d<e.BUFFER_COUNT;d++)f.data.bufferCanvases[d]=document.createElement("canvas"),f.data.bufferContexts[d]=f.data.bufferCanvases[d].getContext("2d"),
f.data.bufferCanvases[d].style.position="absolute",f.data.bufferCanvases[d].setAttribute("data-id","buffer"+d),f.data.bufferCanvases[d].style.zIndex=String(-d-1),f.data.bufferCanvases[d].style.visibility="hidden";f.pathsEnabled=!0;f.data.eleTxrCache=new a(f);f.data.lyrTxrCache=new c(f,f.data.eleTxrCache);f.onUpdateEleCalcs(function(a,b){for(a=0;a<b.length;a++){var c=b[a],d=c._private.rstyle,e=d.dirtyEvents;if(!(c.isNode()&&e&&1===e.length&&e.position)&&(f.data.eleTxrCache.invalidateElement(c),c.isParent()&&
e.style)){e=d.prevParentOpacity;var h=c.pstyle("opacity").pfValue;if(d.prevParentOpacity=h,e!==h)for(c=c.descendants(),d=0;d<c.length;d++)f.data.eleTxrCache.invalidateElement(c[d])}}0<b.length&&f.data.lyrTxrCache.invalidateElements(b)})}var d=g(1),b=g(0),a=g(125),c=g(126),e=l.prototype;e.CANVAS_LAYERS=3;e.SELECT_BOX=0;e.DRAG=1;e.NODE=2;e.BUFFER_COUNT=3;e.TEXTURE_BUFFER=0;e.MOTIONBLUR_BUFFER_NODE=1;e.MOTIONBLUR_BUFFER_DRAG=2;e.redrawHint=function(a,b){switch(a){case "eles":this.data.canvasNeedsRedraw[e.NODE]=
b;break;case "drag":this.data.canvasNeedsRedraw[e.DRAG]=b;break;case "select":this.data.canvasNeedsRedraw[e.SELECT_BOX]=b}};var f="undefined"!=typeof Path2D;e.path2dEnabled=function(a){if(void 0===a)return this.pathsEnabled;this.pathsEnabled=!!a};e.usePaths=function(){return f&&this.pathsEnabled};[g(127),g(128),g(129),g(130),g(131),g(132),g(133),g(134),g(135),g(136)].forEach(function(a){d.extend(e,a)});p.exports=l},function(p,n,g){var l=g(2),d=g(1),b=g(9);n=g(19);var a={dequeue:"dequeue",downscale:"downscale",
highQuality:"highQuality"};g=function(a){this.renderer=a;this.onDequeues=[];this.setupDequeueing()};var c=g.prototype;c.reasons=a;c.getTextureQueue=function(a){return this.eleImgCaches=this.eleImgCaches||{},this.eleImgCaches[a]=this.eleImgCaches[a]||[]};c.getRetiredTextureQueue=function(a){var b=this.eleImgCaches.retired=this.eleImgCaches.retired||{};return b[a]=b[a]||[]};c.getElementQueue=function(){return this.eleCacheQueue=this.eleCacheQueue||new b(function(a,b){return b.reqs-a.reqs})};c.getElementIdToQueue=
function(){return this.eleIdToCacheQueue=this.eleIdToCacheQueue||{}};c.getElement=function(b,c,d,g,h){var e=this.renderer,f=b._private.rscratch,k=e.cy.zoom();if(0===c.w||0===c.h||!b.visible())return null;if(null==g&&(g=Math.ceil(l.log2(k*d))),-4>g)g=-4;else if(3.99<=k||2<g)return null;k=Math.pow(2,g);var m=c.h*k,n=c.w*k;f=f.imgCaches=f.imgCaches||{};var p=f[g];if(p)return p;var v;if(v=25>=m?25:50>=m?50:50*Math.ceil(m/50),1024<m||1024<n||b.isEdge()||b.isParent())return null;var x=this.getTextureQueue(v),
A=x[x.length-2];A||(A=x[x.length-1]);A||(A=this.recycleTexture(v,n)||this.addTexture(v,n));A.width-A.usedWidth<n&&(A=this.recycleTexture(v,n)||this.addTexture(v,n));x=e.eleTextBiggerThanMin(b,k);var G=h&&h===a.dequeue,B=h&&h===a.highQuality;h=h&&h===a.downscale;for(var C=g+1;2>=C;C++){var E=f[C];if(E){var F=E;break}}var D=F&&F.level===g+1?F:null;E=function(){A.context.drawImage(D.texture.canvas,D.x,0,D.width,D.height,A.usedWidth,0,n,m)};if(A.context.setTransform(1,0,0,1,0,0),A.context.clearRect(A.usedWidth,
0,n,v),D&&D.scaledLabelShown===x)E();else if(F&&F.scaledLabelShown===x){if(!B)return this.queueElement(b,F.level-1),F;for(C=F.level;C>g;C--)D=this.getElement(b,c,d,C,a.downscale);E()}else{if(!G&&!B&&!h)for(C=g-1;-4<=C;C--)if(E=f[C]){var H=E;break}if(H&&H.scaledLabelShown===x)return this.queueElement(b,g),H;A.context.translate(A.usedWidth,0);A.context.scale(k,k);e.drawElement(A.context,b,c,x);A.context.scale(1/k,1/k);A.context.translate(-A.usedWidth,0)}return p=f[g]={ele:b,x:A.usedWidth,texture:A,
level:g,scale:k,width:n,height:m,scaledLabelShown:x},A.usedWidth+=Math.ceil(n+8),A.eleCaches.push(p),this.checkTextureFullness(A),p};c.invalidateElement=function(a){var b=a._private.rscratch.imgCaches;if(b)for(var c=-4;2>=c;c++){var e=b[c];if(e){var h=e.texture;h.invalidatedWidth+=e.width;b[c]=null;d.removeFromArray(h.eleCaches,e);this.removeFromQueue(a);this.checkTextureUtility(h)}}};c.checkTextureUtility=function(a){a.invalidatedWidth>=.5*a.width&&this.retireTexture(a)};c.checkTextureFullness=function(a){var b=
this.getTextureQueue(a.height);.8<a.usedWidth/a.width&&10<=a.fullnessChecks?d.removeFromArray(b,a):a.fullnessChecks++};c.retireTexture=function(a){var b=a.height,c=this.getTextureQueue(b);d.removeFromArray(c,a);a.retired=!0;c=a.eleCaches;for(var e=0;e<c.length;e++){var h=c[e],g=h.level;(h=h.ele._private.rscratch.imgCaches)&&(h[g]=null)}d.clearArray(c);this.getRetiredTextureQueue(b).push(a)};c.addTexture=function(a,b){var c={};return this.getTextureQueue(a).push(c),c.eleCaches=[],c.height=a,c.width=
Math.max(1024,b),c.usedWidth=0,c.invalidatedWidth=0,c.fullnessChecks=0,c.canvas=document.createElement("canvas"),c.canvas.width=c.width,c.canvas.height=c.height,c.context=c.canvas.getContext("2d"),c};c.recycleTexture=function(a,b){var c=this.getTextureQueue(a);a=this.getRetiredTextureQueue(a);for(var e=0;e<a.length;e++){var f=a[e];if(f.width>=b)return f.retired=!1,f.usedWidth=0,f.invalidatedWidth=0,f.fullnessChecks=0,d.clearArray(f.eleCaches),f.context.setTransform(1,0,0,1,0,0),f.context.clearRect(0,
0,f.width,f.height),d.removeFromArray(a,f),c.push(f),f}};c.queueElement=function(a,b){var c=this.getElementQueue(),d=this.getElementIdToQueue(),e=a.id(),f=d[e];f?(f.level=Math.max(f.level,b),f.reqs++,c.updateItem(f)):(a={ele:a,level:b,reqs:1},c.push(a),d[e]=a)};c.dequeue=function(b){for(var c=this.getElementQueue(),d=this.getElementIdToQueue(),e=[],h=0;1>h&&0<c.size();h++){var g=c.pop(),l=g.ele;if(null==l._private.rscratch.imgCaches[g.level]){d[l.id()]=null;e.push(g);var n=l.boundingBox();this.getElement(l,
n,b,g.level,a.dequeue)}}return e};c.removeFromQueue=function(a){var b=this.getElementQueue(),c=this.getElementIdToQueue(),e=c[a.id()];null!=e&&(e.reqs=d.MAX_INT,b.updateItem(e),b.pop(),c[a.id()]=null)};c.onDequeue=function(a){this.onDequeues.push(a)};c.offDequeue=function(a){d.removeFromArray(this.onDequeues,a)};c.setupDequeueing=n.setupDequeueing({deqRedrawThreshold:100,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(a,b,c){return a.dequeue(b,c)},onDeqd:function(a,b){for(var c=
0;c<a.onDequeues.length;c++)(0,a.onDequeues[c])(b)},shouldRedraw:function(a,b,c,d){for(a=0;a<b.length;a++)if(c=b[a].ele.boundingBox(),l.boundingBoxesIntersect(c,d))return!0;return!1},priority:function(a){return a.renderer.beforeRenderPriorities.eleTxrDeq}});p.exports=g},function(p,n,g){function l(a,b){null!=a.imageSmoothingEnabled?a.imageSmoothingEnabled=b:(a.webkitImageSmoothingEnabled=b,a.mozImageSmoothingEnabled=b,a.msImageSmoothingEnabled=b)}var d=g(1),b=g(2),a=g(9),c=g(0);n=g(19);g=function(b,
c){var e=this;b=e.renderer=b;e.layersByLevel={};e.firstGet=!0;e.lastInvalidationTime=d.performanceNow()-500;e.skipping=!1;b.beforeRender(function(a,b){250>=b-e.lastInvalidationTime?e.skipping=!0:e.skipping=!1});e.layersQueue=new a(function(a,b){return b.reqs-a.reqs});e.eleTxrCache=c;e.setupEleCacheInvalidation();e.setupDequeueing()};var e=g.prototype,f=0,m=Math.pow(2,53)-1;e.makeLayer=function(a,b){var c=Math.pow(2,b),d=Math.ceil(a.w*c),e=Math.ceil(a.h*c),h=document.createElement("canvas");h.width=
d;h.height=e;a={id:f=++f%m,bb:a,level:b,width:d,height:e,canvas:h,context:h.getContext("2d"),eles:[],elesQueue:[],reqs:0};b=a.context;d=-a.bb.x1;e=-a.bb.y1;return b.scale(c,c),b.translate(d,e),a};e.getLayers=function(a,c,e){var f=this,h=f.renderer.cy.zoom(),g=f.firstGet;if(f.firstGet=!1,null==e)if(-4>(e=Math.ceil(b.log2(h*c))))e=-4;else if(3.99<=h||2<e)return null;f.validateLayersElesOrdering(e,a);var k,m,l=f.layersByLevel,n=Math.pow(2,e),p=l[e]=l[e]||[];if(f.levelIsComplete(e,a))return p;!function(){var b=
function(b){if(f.validateLayersElesOrdering(b,a),f.levelIsComplete(b,a))return m=l[b],!0},c=function(a){if(!m)for(var c=e+a;-4<=c&&2>=c&&!b(c);c+=a);};c(1);c(-1);for(c=p.length-1;0<=c;c--){var h=p[c];h.invalid&&d.removeFromArray(p,h)}}();if(f.skipping&&!g)return null;h=null;var t=a.length/1;g=!g;for(var B=0;B<a.length;B++){var C=a[B],E=C._private.rscratch;E=E.imgLayerCaches=E.imgLayerCaches||{};var F=E[e];if(F)h=F;else{if((!h||h.eles.length>=t||!b.boundingBoxInBoundingBox(h.bb,C.boundingBox()))&&
!(h=function(c){c=c||{};var d=c.after;if(!k){k=b.makeBoundingBox();for(var h=0;h<a.length;h++)b.updateBoundingBox(k,a[h].boundingBox())}if(16E6<k.w*n*k.h*n)return null;h=f.makeLayer(k,e);null!=d?(c=p.indexOf(d)+1,p.splice(c,0,h)):(void 0===c.insert||c.insert)&&p.unshift(h);return h}({insert:!0,after:h})))return null;m||g?f.queueLayer(h,C):f.drawEleInLayer(h,C,e,c);h.eles.push(C);E[e]=h}}return m||(g?null:p)};e.getEleLevelForLayerLevel=function(a,b){return a};e.drawEleInLayer=function(a,b,c,d){var e=
this.renderer;a=a.context;var f=b.boundingBox();if(0!==f.w&&0!==f.h&&b.visible()){var h=this.eleTxrCache,g=h.reasons.highQuality;c=this.getEleLevelForLayerLevel(c,d);(c=h.getElement(b,f,null,c,g))?(l(a,!1),a.drawImage(c.texture.canvas,c.x,0,c.width,c.height,f.x1,f.y1,f.w,f.h),l(a,!0)):e.drawElement(a,b)}};e.levelIsComplete=function(a,b){a=this.layersByLevel[a];if(!a||0===a.length)return!1;for(var c=0,d=0;d<a.length;d++){var e=a[d];if(0<e.reqs||e.invalid)return!1;c+=e.eles.length}return c===b.length};
e.validateLayersElesOrdering=function(a,b){if(a=this.layersByLevel[a])for(var c=0;c<a.length;c++){for(var d=a[c],e=-1,f=0;f<b.length;f++)if(d.eles[0]===b[f]){e=f;break}if(0>e)this.invalidateLayer(d);else for(f=0;f<d.eles.length;f++)if(d.eles[f]!==b[e+f]){this.invalidateLayer(d);break}}};e.updateElementsInLayers=function(a,b){for(var d=c.element(a[0]),e=0;e<a.length;e++){var f=d?null:a[e],h=d?a[e]:a[e].ele,g=h._private.rscratch;g=g.imgLayerCaches=g.imgLayerCaches||{};for(var k=-4;2>=k;k++){var m=g[k];
m&&(f&&this.getEleLevelForLayerLevel(m.level)!==f.level||b(m,h,f))}}};e.haveLayers=function(){for(var a=!1,b=-4;2>=b;b++){var c=this.layersByLevel[b];if(c&&0<c.length){a=!0;break}}return a};e.invalidateElements=function(a){var b=this;b.lastInvalidationTime=d.performanceNow();0!==a.length&&b.haveLayers()&&b.updateElementsInLayers(a,function(a,c,d){b.invalidateLayer(a)})};e.invalidateLayer=function(a){if(this.lastInvalidationTime=d.performanceNow(),!a.invalid){var b=a.level,c=a.eles;d.removeFromArray(this.layersByLevel[b],
a);a.elesQueue=[];a.invalid=!0;a.replacement&&(a.replacement.invalid=!0);for(a=0;a<c.length;a++){var e=c[a]._private.rscratch.imgLayerCaches;e&&(e[b]=null)}}};e.refineElementTextures=function(a){var b=this;b.updateElementsInLayers(a,function(a,c,d){c=a.replacement;if(c||(c=a.replacement=b.makeLayer(a.bb,a.level),c.replaces=a,c.eles=a.eles),!c.reqs)for(a=0;a<c.eles.length;a++)b.queueLayer(c,c.eles[a])})};e.setupEleCacheInvalidation=function(){var a=this,b=[],c=d.debounce(function(){a.refineElementTextures(b);
b=[]},50);a.eleTxrCache.onDequeue(function(a){for(var d=0;d<a.length;d++)b.push(a[d]);c()})};e.queueLayer=function(a,b){var c=this.layersQueue,d=a.elesQueue,e=d.hasId=d.hasId||{};if(!a.replacement){if(b){if(e[b.id()])return;d.push(b);e[b.id()]=!0}a.reqs?(a.reqs++,c.updateItem(a)):(a.reqs=1,c.push(a))}};e.dequeue=function(a){for(var b=this.layersQueue,c=[],d=0;1>d&&0!==b.size();){var e=b.peek();if(e.replacement)b.pop();else if(e.replaces&&e!==e.replaces.replacement)b.pop();else if(e.invalid)b.pop();
else{var f=e.elesQueue.shift();f&&(this.drawEleInLayer(e,f,e.level,a),d++);0===c.length&&c.push(!0);0===e.elesQueue.length&&(b.pop(),e.reqs=0,e.replaces&&this.applyLayerReplacement(e),this.requestRedraw())}}return c};e.applyLayerReplacement=function(a){var b=this.layersByLevel[a.level],c=a.replaces,d=b.indexOf(c);if(!(0>d||c.invalid)){b[d]=a;for(b=0;b<a.eles.length;b++)c=a.eles[b]._private,(c.imgLayerCaches=c.imgLayerCaches||{})[a.level]=a;this.requestRedraw()}};e.requestRedraw=d.debounce(function(){var a=
this.renderer;a.redrawHint("eles",!0);a.redrawHint("drag",!0);a.redraw()},100);e.setupDequeueing=n.setupDequeueing({deqRedrawThreshold:50,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(a,b){return a.dequeue(b)},onDeqd:d.noop,shouldRedraw:d.trueify,priority:function(a){return a.renderer.beforeRenderPriorities.lyrTxrDeq}});p.exports=g},function(p,n,g){var l;p.exports={arrowShapeImpl:function(d){return(l||(l={polygon:function(b,a){for(var c=0;c<a.length;c++){var d=a[c];b.lineTo(d.x,
d.y)}},"triangle-backcurve":function(b,a,c){for(var d,f=0;f<a.length;f++){var g=a[f];0===f&&(d=g);b.lineTo(g.x,g.y)}b.quadraticCurveTo(c.x,c.y,d.x,d.y)},"triangle-tee":function(b,a,c){b.beginPath&&b.beginPath();for(var d=0;d<a.length;d++){var f=a[d];b.lineTo(f.x,f.y)}b.closePath&&b.closePath();b.beginPath&&b.beginPath();a=c[0];b.moveTo(a.x,a.y);for(d=0;d<c.length;d++)f=c[d],b.lineTo(f.x,f.y);b.closePath&&b.closePath()},"triangle-cross":function(b,a,c){b.beginPath&&b.beginPath();for(var d=0;d<a.length;d++){var f=
a[d];b.lineTo(f.x,f.y)}b.closePath&&b.closePath();b.beginPath&&b.beginPath();a=c[0];b.moveTo(a.x,a.y);for(d=0;d<c.length;d++)f=c[d],b.lineTo(f.x,f.y);b.closePath&&b.closePath()},circle:function(b,a,c,d){b.arc(a,c,d,0,2*Math.PI,!1)}}))[d]}}},function(p,n,g){var l=g(2);p.exports={drawElement:function(d,b,a,c){b.isNode()?this.drawNode(d,b,a,c):this.drawEdge(d,b,a,c)},drawCachedElement:function(d,b,a,c){var e=b.boundingBox();0===e.w||0===e.h||c&&!l.boundingBoxesIntersect(e,c)||(a=this.data.eleTxrCache.getElement(b,
e,a),null!=a?d.drawImage(a.texture.canvas,a.x,0,a.width,a.height,e.x1,e.y1,e.w,e.h):this.drawElement(d,b))},drawElements:function(d,b){for(var a=0;a<b.length;a++)this.drawElement(d,b[a])},drawCachedElements:function(d,b,a,c){for(var e=0;e<b.length;e++)this.drawCachedElement(d,b[e],a,c)},drawCachedNodes:function(d,b,a,c){for(var e=0;e<b.length;e++){var f=b[e];f.isNode()&&this.drawCachedElement(d,f,a,c)}},drawLayeredElements:function(d,b,a,c){var e=this.data.lyrTxrCache.getLayers(b,a);if(e)for(b=0;b<
e.length;b++)a=e[b],c=a.bb,0!==c.w&&0!==c.h&&d.drawImage(a.canvas,c.x1,c.y1,c.w,c.h);else this.drawCachedElements(d,b,a,c)},drawDebugPoints:function(d,b){for(var a=0;a<b.length;a++){var c=b[a],e=c._private.rscratch;if(c.isNode())c=c.position(),e=c.x,c=c.y,d.fillStyle="magenta",d.fillRect(e-1,c-1,3,3);else{c=e.allpts;for(var f=0;f+1<c.length;f+=2){var g=c[f],k=c[f+1];d.fillStyle="cyan";d.fillRect(g-1,k-1,3,3)}c=e.midX;e=e.midY;d.fillStyle="yellow";d.fillRect(c-1,e-1,3,3)}}}}},function(p,n,g){p.exports=
{drawEdge:function(g,d,b,a){var c=this,e=d._private.rscratch,f=c.usePaths();if(d.visible()&&!e.badLine&&null!=e.allpts&&!isNaN(e.allpts[0])){var m=void 0;b&&(m=b,g.translate(-m.x1,-m.y1));var k=2*d.pstyle("overlay-padding").pfValue,h=d.pstyle("overlay-opacity").value,l=d.pstyle("overlay-color").value,n=d.pstyle("line-color").value,p=d.pstyle("opacity").value,u=d.pstyle("line-style").value,y=d.pstyle("width").pfValue,w=function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:p;g.lineWidth=
y;g.lineCap="butt";c.strokeStyle(g,n[0],n[1],n[2],a);c.drawEdgePath(d,g,e.allpts,u)},v=function(){c.drawArrowheads(g,d,0<arguments.length&&void 0!==arguments[0]?arguments[0]:p)};g.lineJoin="round";if("yes"===d.pstyle("ghost").value){var x=d.pstyle("ghost-offset-x").pfValue,A=d.pstyle("ghost-offset-y").pfValue,G=d.pstyle("ghost-opacity").value;G*=p;g.translate(x,A);w(G);v(G);g.translate(-x,-A)}w();v();(function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:h;g.lineWidth=k;"self"!==
e.edgeType||f?g.lineCap="round":g.lineCap="butt";c.strokeStyle(g,l[0],l[1],l[2],a);c.drawEdgePath(d,g,e.allpts,"solid")})();c.drawElementText(g,d,a);b&&g.translate(m.x1,m.y1)}},drawEdgePath:function(g,d,b,a){var c=g._private.rscratch;g=d;var e=void 0,f=!1,m=this.usePaths();if(m){var k=b.join("$");c.pathCacheKey&&c.pathCacheKey===k?(e=d=c.pathCache,f=!0):(e=d=new Path2D,c.pathCacheKey=k,c.pathCache=e)}if(g.setLineDash)switch(a){case "dotted":g.setLineDash([1,1]);break;case "dashed":g.setLineDash([6,
3]);break;case "solid":g.setLineDash([])}if(!f&&!c.badLine)switch(d.beginPath&&d.beginPath(),d.moveTo(b[0],b[1]),c.edgeType){case "bezier":case "self":case "compound":case "multibezier":for(a=2;a+3<b.length;a+=4)d.quadraticCurveTo(b[a],b[a+1],b[a+2],b[a+3]);break;case "straight":case "segments":case "haystack":for(a=2;a+1<b.length;a+=2)d.lineTo(b[a],b[a+1])}d=g;m?d.stroke(e):d.stroke();d.setLineDash&&d.setLineDash([])},drawArrowheads:function(g,d,b){var a=d._private.rscratch,c="haystack"===a.edgeType;
c||this.drawArrowhead(g,d,"source",a.arrowStartX,a.arrowStartY,a.srcArrowAngle,b);this.drawArrowhead(g,d,"mid-target",a.midX,a.midY,a.midtgtArrowAngle,b);this.drawArrowhead(g,d,"mid-source",a.midX,a.midY,a.midsrcArrowAngle,b);c||this.drawArrowhead(g,d,"target",a.arrowEndX,a.arrowEndY,a.tgtArrowAngle,b)},drawArrowhead:function(g,d,b,a,c,e,f){if(!(isNaN(a)||null==a||isNaN(c)||null==c||isNaN(e)||null==e)){var m=d.pstyle(b+"-arrow-shape").value;if("none"!==m){var k="hollow"===d.pstyle(b+"-arrow-fill").value?
"both":"filled",h=d.pstyle(b+"-arrow-fill").value,l=d.pstyle("width").pfValue,n=d.pstyle("opacity").value;void 0===f&&(f=n);n=g.globalCompositeOperation;1===f&&"hollow"!==h||(g.globalCompositeOperation="destination-out",this.fillStyle(g,255,255,255,1),this.strokeStyle(g,255,255,255,1),this.drawArrowShape(d,b,g,k,l,m,a,c,e),g.globalCompositeOperation=n);k=d.pstyle(b+"-arrow-color").value;this.fillStyle(g,k[0],k[1],k[2],f);this.strokeStyle(g,k[0],k[1],k[2],f);this.drawArrowShape(d,b,g,h,l,m,a,c,e)}}},
drawArrowShape:function(g,d,b,a,c,e,f,m,k){var h=this.usePaths(),l=g._private.rscratch,n=!1,p=void 0,u=b,y={x:f,y:m};g=g.pstyle("arrow-scale").value;g=this.getArrowWidth(c,g);var w=this.arrowShapes[e];h&&(e=g+"$"+e+"$"+k+"$"+f+"$"+m,l.arrowPathCacheKey=l.arrowPathCacheKey||{},l.arrowPathCache=l.arrowPathCache||{},l.arrowPathCacheKey[d]===e?(p=b=l.arrowPathCache[d],n=!0):(p=b=new Path2D,l.arrowPathCacheKey[d]=e,l.arrowPathCache[d]=p));b.beginPath&&b.beginPath();n||w.draw(b,g,k,y,c);!w.leavePathOpen&&
b.closePath&&b.closePath();b=u;"filled"!==a&&"both"!==a||(h?b.fill(p):b.fill());"hollow"!==a&&"both"!==a||(b.lineWidth=w.matchEdgeWidth?c:1,b.lineJoin="miter",h?b.stroke(p):b.stroke())}}},function(p,n,g){p.exports={safeDrawImage:function(g,d,b,a,c,e,f,m,k,h){0>=c||0>=e||0>=k||0>=h||g.drawImage(d,b,a,c,e,f,m,k,h)},drawInscribedImage:function(g,d,b,a,c){var e=b.position(),f=e.x;e=e.y;var m=b.cy().style(),k=m.getIndexedStyle.bind(m),h=k(b,"background-fit","value",a);m=k(b,"background-repeat","value",
a);var l=b.width(),n=b.height(),p=2*b.padding();l+="inner"===k(b,"background-width-relative-to","value",a)?0:p;n+="inner"===k(b,"background-height-relative-to","value",a)?0:p;p=b._private.rscratch;var u="node"===b.pstyle("background-clip").value;c*=k(b,"background-image-opacity","value",a);var y=d.width||d.cachedW,w=d.height||d.cachedH;null!=y&&null!=w||(document.body.appendChild(d),y=d.cachedW=d.width||d.offsetWidth,w=d.cachedH=d.height||d.offsetHeight,document.body.removeChild(d));var v=y,x=w;if("auto"!==
k(b,"background-width","value",a)&&(v="%"===k(b,"background-width","units",a)?k(b,"background-width","pfValue",a)*l:k(b,"background-width","pfValue",a)),"auto"!==k(b,"background-height","value",a)&&(x="%"===k(b,"background-height","units",a)?k(b,"background-height","pfValue",a)*n:k(b,"background-height","pfValue",a)),0!==v&&0!==x){"contain"===h?(h=Math.min(l/v,n/x),v*=h,x*=h):"cover"===h&&(h=Math.max(l/v,n/x),v*=h,x*=h);h=f-l/2;"%"===k(b,"background-position-x","units",a)?h+=(l-v)*k(b,"background-position-x",
"pfValue",a):h+=k(b,"background-position-x","pfValue",a);var A=e-n/2;"%"===k(b,"background-position-y","units",a)?A+=(n-x)*k(b,"background-position-y","pfValue",a):A+=k(b,"background-position-y","pfValue",a);p.pathCache&&(h-=f,A-=e,f=0,e=0);a=g.globalAlpha;(g.globalAlpha=c,"no-repeat"===m)?(u&&(g.save(),p.pathCache?g.clip(p.pathCache):(this.nodeShapes[this.getNodeShape(b)].draw(g,f,e,l,n),g.clip())),this.safeDrawImage(g,d,0,0,y,w,h,A,v,x),u&&g.restore()):(d=g.createPattern(d,m),g.fillStyle=d,this.nodeShapes[this.getNodeShape(b)].draw(g,
f,e,l,n),g.translate(h,A),g.fill(),g.translate(-h,-A));g.globalAlpha=a}}}},function(p,n,g){var l=g(1),d=g(2);n={eleTextBiggerThanMin:function(b,a){if(!a){a=b.cy().zoom();var c=this.getPixelRatio();a=Math.ceil(d.log2(a*c));a=Math.pow(2,a)}return!(b.pstyle("font-size").pfValue*a<b.pstyle("min-zoomed-font-size").pfValue)},drawElementText:function(b,a,c){if(void 0===c){if(!this.eleTextBiggerThanMin(a))return}else if(!c)return;if(a.isNode()){c=a.pstyle("label");if(!c||!c.value)return;c=a.pstyle("text-halign").strValue;
a.pstyle("text-valign").strValue;switch(c){case "left":b.textAlign="right";break;case "right":b.textAlign="left";break;default:b.textAlign="center"}}else{c=a.pstyle("label");var d=a.pstyle("source-label"),f=a.pstyle("target-label");if(!(c&&c.value||d&&d.value||f&&f.value))return;b.textAlign="center"}b.textBaseline="bottom";this.drawText(b,a);a.isEdge()&&(this.drawText(b,a,"source"),this.drawText(b,a,"target"))}};n.drawNodeText=n.drawEdgeText=n.drawElementText;n.getFontCache=function(b){var a;this.fontCaches=
this.fontCaches||[];for(var c=0;c<this.fontCaches.length;c++)if(a=this.fontCaches[c],a.context===b)return a;return a={context:b},this.fontCaches.push(a),a};n.setupTextStyle=function(b,a){var c=a.effectiveOpacity(),d=a.pstyle("font-style").strValue,f=a.pstyle("font-size").pfValue+"px",g=a.pstyle("font-family").strValue,k=a.pstyle("font-weight").strValue;c*=a.pstyle("text-opacity").value*a.pstyle("opacity").value;var h=a.pstyle("text-outline-opacity").value*c,l=a.pstyle("color").value,n=a.pstyle("text-outline-color").value;
a=a._private.fontKey;var p=this.getFontCache(b);p.key!==a&&(b.font=d+" "+k+" "+f+" "+g,p.key=a);b.lineJoin="round";this.fillStyle(b,l[0],l[1],l[2],c);this.strokeStyle(b,n[0],n[1],n[2],h)};n.drawText=function(b,a,c){var d=a._private.rscratch,f=a.effectiveOpacity();if(0!==f&&0!==a.pstyle("text-opacity").value){var g=l.getPrefixedProperty(d,"labelX",c),k=l.getPrefixedProperty(d,"labelY",c),h=this.getLabelText(a,c);if(null!=h&&""!==h&&!isNaN(g)&&!isNaN(k)){this.setupTextStyle(b,a);var n=c?c+"-":"",p=
l.getPrefixedProperty(d,"labelWidth",c),r=l.getPrefixedProperty(d,"labelHeight",c),u=l.getPrefixedProperty(d,"labelAngle",c),y=a.pstyle(n+"text-margin-x").pfValue,w=a.pstyle(n+"text-margin-y").pfValue,v=a.isEdge(),x=(a.isNode(),a.pstyle("text-halign").value);n=a.pstyle("text-valign").value;v&&(x="center",n="center");g+=y;k+=w;y=a.pstyle("text-rotation");if(0!==(u="autorotate"===y.strValue?v?u:0:"none"===y.strValue?0:y.pfValue)){var A=g,G=k;b.translate(A,G);b.rotate(u);k=g=0}switch(n){case "center":k+=
r/2;break;case "bottom":k+=r}var B=a.pstyle("text-background-opacity").value;v=a.pstyle("text-border-opacity").value;w=a.pstyle("text-border-width").pfValue;var C=a.pstyle("text-background-padding").pfValue;if(0<B||0<w&&0<v){y=g-C;switch(x){case "left":y-=p;break;case "center":y-=p/2}x=k-r-C;p+=2*C;C=r+2*C;if(0<B){var E=b.fillStyle,F=a.pstyle("text-background-color").value;b.fillStyle="rgba("+F[0]+","+F[1]+","+F[2]+","+B*f+")";"roundrectangle"==a.pstyle("text-background-shape").strValue?(B=y,F=2,
b.beginPath(),b.moveTo(B+F,x),b.lineTo(B+p-F,x),b.quadraticCurveTo(B+p,x,B+p,x+F),b.lineTo(B+p,x+C-F),b.quadraticCurveTo(B+p,x+C,B+p-F,x+C),b.lineTo(B+F,x+C),b.quadraticCurveTo(B,x+C,B,x+C-F),b.lineTo(B,x+F),b.quadraticCurveTo(B,x,B+F,x),b.closePath(),b.fill()):b.fillRect(y,x,p,C);b.fillStyle=E}if(0<w&&0<v){B=b.strokeStyle;E=b.lineWidth;F=a.pstyle("text-border-color").value;var D=a.pstyle("text-border-style").value;if(b.strokeStyle="rgba("+F[0]+","+F[1]+","+F[2]+","+v*f+")",b.lineWidth=w,b.setLineDash)switch(D){case "dotted":b.setLineDash([1,
1]);break;case "dashed":b.setLineDash([4,2]);break;case "double":b.lineWidth=w/4;b.setLineDash([]);break;case "solid":b.setLineDash([])}if(b.strokeRect(y,x,p,C),"double"===D)f=w/2,b.strokeRect(y+f,x+f,p-2*f,C-2*f);b.setLineDash&&b.setLineDash([]);b.lineWidth=E;b.strokeStyle=B}}f=2*a.pstyle("text-outline-width").pfValue;if(0<f&&(b.lineWidth=f),"wrap"===a.pstyle("text-wrap").value){a=l.getPrefixedProperty(d,"labelWrapCachedLines",c);r/=a.length;switch(n){case "top":k-=(a.length-1)*r;break;case "center":case "bottom":k-=
(a.length-1)*r}for(n=0;n<a.length;n++)0<f&&b.strokeText(a[n],g,k),b.fillText(a[n],g,k),k+=r}else 0<f&&b.strokeText(h,g,k),b.fillText(h,g,k);0!==u&&(b.rotate(-u),b.translate(-A,-G))}}};p.exports=n},function(p,n,g){var l=g(0);p.exports={drawNode:function(d,b,a,c){var e=this,f=void 0,g=void 0,k=b._private,h=k.rscratch,n=b.position();if(l.number(n.x)&&l.number(n.y)&&b.visible()){var p=b.effectiveOpacity(),r=e.usePaths(),u=void 0,y=!1,w=b.padding();f=b.width()+2*w;g=b.height()+2*w;w=void 0;a&&(w=a,d.translate(-w.x1,
-w.y1));for(var v=b.pstyle("background-image").value,x=Array(v.length),A=Array(v.length),G=0,B=0;B<v.length;B++){var C=v[B];if(x[B]=null!=C&&"none"!==C){var E=b.cy().style().getIndexedStyle(b,"background-image-crossorigin","value",B);G++;A[B]=e.getCachedImage(C,E,function(){b.emitAndNotify("background")})}}var F=b.pstyle("background-blacken").value,D=b.pstyle("border-width").pfValue,H=b.pstyle("background-color").value,I=b.pstyle("background-opacity").value*p,J=b.pstyle("border-color").value,M=b.pstyle("border-style").value,
N=b.pstyle("border-opacity").value*p;d.lineJoin="miter";v=function(){e.fillStyle(d,H[0],H[1],H[2],0<arguments.length&&void 0!==arguments[0]?arguments[0]:I)};B=function(){e.strokeStyle(d,J[0],J[1],J[2],0<arguments.length&&void 0!==arguments[0]?arguments[0]:N)};C=b.pstyle("shape").strValue;E=b.pstyle("shape-polygon-points").pfValue;r&&(C=C+"$"+f+"$"+g+("polygon"===C?"$"+E.join("$"):""),d.translate(n.x,n.y),h.pathCacheKey===C?(u=h.pathCache,y=!0):(u=new Path2D,h.pathCacheKey=C,h.pathCache=u));h=function(){if(!y){var a=
n;r&&(a={x:0,y:0});e.nodeShapes[e.getNodeShape(b)].draw(u||d,a.x,a.y,f,g)}r?d.fill(u):d.fill()};C=function(){for(var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:p,c=k.backgrounding,f=0,g=0;g<A.length;g++)x[g]&&A[g].complete&&!A[g].error&&(f++,e.drawInscribedImage(d,A[g],b,g,a));k.backgrounding=f!==G;c!==k.backgrounding&&b.updateStyle(!1)};E=function(){var a=0<arguments.length&&void 0!==arguments[0]&&arguments[0],c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:p;e.hasPie(b)&&
(e.drawPie(d,b,c),a&&(r||e.nodeShapes[e.getNodeShape(b)].draw(d,n.x,n.y,f,g)))};var L=function(){var a=(0<F?F:-F)*(0<arguments.length&&void 0!==arguments[0]?arguments[0]:p),b=0<F?0:255;0!==F&&(e.fillStyle(d,b,b,b,a),r?d.fill(u):d.fill())},Q=function(){if(0<D){if(d.lineWidth=D,d.lineCap="butt",d.setLineDash)switch(M){case "dotted":d.setLineDash([1,1]);break;case "dashed":d.setLineDash([4,2]);break;case "solid":case "double":d.setLineDash([])}if(r?d.stroke(u):d.stroke(),"double"===M){d.lineWidth=D/
3;var a=d.globalCompositeOperation;d.globalCompositeOperation="destination-out";r?d.stroke(u):d.stroke();d.globalCompositeOperation=a}d.setLineDash&&d.setLineDash([])}};if("yes"===b.pstyle("ghost").value){var K=b.pstyle("ghost-offset-x").pfValue,O=b.pstyle("ghost-offset-y").pfValue,R=b.pstyle("ghost-opacity").value,Y=R*p;d.translate(K,O);v(R*I);h();C(Y);E(0!==F||0!==D);L(Y);B(R*N);Q();d.translate(-K,-O)}v();h();C();E(0!==F||0!==D);L();B();Q();r&&d.translate(-n.x,-n.y);e.drawElementText(d,b,c);(function(){var a=
b.pstyle("overlay-padding").pfValue,c=b.pstyle("overlay-opacity").value,h=b.pstyle("overlay-color").value;0<c&&(e.fillStyle(d,h[0],h[1],h[2],c),e.nodeShapes.roundrectangle.draw(d,n.x,n.y,f+2*a,g+2*a),d.fill())})();a&&d.translate(w.x1,w.y1)}},hasPie:function(d){return d=d[0],d._private.hasPie},drawPie:function(d,b,a,c){b=b[0];c=c||b.position();var e=b.cy().style(),f=b.pstyle("pie-size"),g=c.x;c=c.y;var k=b.width(),h=b.height();k=Math.min(k,h)/2;h=0;this.usePaths()&&(g=0,c=0);"%"===f.units?k*=f.pfValue:
void 0!==f.pfValue&&(k=f.pfValue/2);for(f=1;f<=e.pieBackgroundN;f++){var l=b.pstyle("pie-"+f+"-background-size").value,n=b.pstyle("pie-"+f+"-background-color").value,p=b.pstyle("pie-"+f+"-background-opacity").value*a,u=l/100;1<u+h&&(u=1-h);var y=1.5*Math.PI+2*Math.PI*h,w=y+2*Math.PI*u;0===l||1<=h||1<h+u||(d.beginPath(),d.moveTo(g,c),d.arc(g,c,k,y,w),d.closePath(),this.fillStyle(d,n[0],n[1],n[2],p),d.fill(),h+=u)}}}},function(p,n,g){n={};var l=g(1);n.getPixelRatio=function(){var d=this.data.contexts[0];
return null!=this.forcedPixelRatio?this.forcedPixelRatio:(window.devicePixelRatio||1)/(d.backingStorePixelRatio||d.webkitBackingStorePixelRatio||d.mozBackingStorePixelRatio||d.msBackingStorePixelRatio||d.oBackingStorePixelRatio||d.backingStorePixelRatio||1)};n.paintCache=function(d){for(var b,a=this.paintCaches=this.paintCaches||[],c=!0,e=0;e<a.length;e++)if(b=a[e],b.context===d){c=!1;break}return c&&(b={context:d},a.push(b)),b};n.fillStyle=function(d,b,a,c,e){d.fillStyle="rgba("+b+","+a+","+c+","+
e+")"};n.strokeStyle=function(d,b,a,c,e){d.strokeStyle="rgba("+b+","+a+","+c+","+e+")"};n.matchCanvasSize=function(d){var b=this.data,a=this.findContainerClientCoords(),c=a[2];a=a[3];var e=this.getPixelRatio(),f=this.motionBlurPxRatio;d!==this.data.bufferCanvases[this.MOTIONBLUR_BUFFER_NODE]&&d!==this.data.bufferCanvases[this.MOTIONBLUR_BUFFER_DRAG]||(e=f);d=c*e;f=a*e;if(d!==this.canvasWidth||f!==this.canvasHeight){this.fontCaches=null;var g=b.canvasContainer;g.style.width=c+"px";g.style.height=a+
"px";for(g=0;g<this.CANVAS_LAYERS;g++){var k=b.canvases[g];k.width=d;k.height=f;k.style.width=c+"px";k.style.height=a+"px"}for(g=0;g<this.BUFFER_COUNT;g++)k=b.bufferCanvases[g],k.width=d,k.height=f,k.style.width=c+"px",k.style.height=a+"px";this.textureMult=1;1>=e&&(k=b.bufferCanvases[this.TEXTURE_BUFFER],this.textureMult=2,k.width=d*this.textureMult,k.height=f*this.textureMult);this.canvasWidth=d;this.canvasHeight=f}};n.renderTo=function(d,b,a,c){this.render({forcedContext:d,forcedZoom:b,forcedPan:a,
drawAllLayers:!0,forcedPxRatio:c})};n.render=function(d){function b(a,b,c,d,e){var f=a.globalCompositeOperation;a.globalCompositeOperation="destination-out";h.fillStyle(a,255,255,255,h.motionBlurTransparency);a.fillRect(b,c,d,e);a.globalCompositeOperation=f}function a(a,d){var f,m,l,n;h.clearingMotionBlur||a!==r.bufferContexts[h.MOTIONBLUR_BUFFER_NODE]&&a!==r.bufferContexts[h.MOTIONBLUR_BUFFER_DRAG]?(f=D,m=E,l=h.canvasWidth,n=h.canvasHeight):(f={x:F.x*w,y:F.y*w},m=C*w,l=h.canvasWidth*w,n=h.canvasHeight*
w);a.setTransform(1,0,0,1,0,0);"motionBlur"===d?b(a,0,0,l,n):c||void 0!==d&&!d||a.clearRect(0,0,l,n);e||(a.translate(f.x,f.y),a.scale(m,m));k&&a.translate(k.x,k.y);g&&a.scale(g,g)}d=d||l.staticEmptyObject();var c=d.forcedContext,e=d.drawAllLayers,f=d.drawOnlyNodeLayer,g=d.forcedZoom,k=d.forcedPan,h=this,n=void 0===d.forcedPxRatio?this.getPixelRatio():d.forcedPxRatio,p=h.cy,r=h.data,u=r.canvasNeedsRedraw,y=h.textureOnViewport&&!c&&(h.pinching||h.hoverData.dragging||h.swipePanning||h.data.wheelZooming);
d=void 0!==d.motionBlur?d.motionBlur:h.motionBlur;var w=h.motionBlurPxRatio,v=p.hasCompoundNodes(),x=h.hoverData.draggingEles,A=!(!h.hoverData.selecting&&!h.touchData.selecting),G=d=d&&!c&&h.motionBlurEnabled&&!A;c||(h.prevPxRatio!==n&&(h.invalidateContainerClientCoordsCache(),h.matchCanvasSize(h.container),h.redrawHint("eles",!0),h.redrawHint("drag",!0)),h.prevPxRatio=n);!c&&h.motionBlurTimeout&&clearTimeout(h.motionBlurTimeout);d&&(null==h.mbFrames&&(h.mbFrames=0),h.mbFrames++,3>h.mbFrames&&(G=
!1),h.mbFrames>h.minMbLowQualFrames&&(h.motionBlurPxRatio=h.mbPxRBlurry));h.clearingMotionBlur&&(h.motionBlurPxRatio=1);h.textureDrawLastFrame&&!y&&(u[h.NODE]=!0,u[h.SELECT_BOX]=!0);var B=p.style()._private.coreStyle,C=p.zoom(),E=void 0!==g?g:C,F=p.pan(),D={x:F.x,y:F.y};A={zoom:C,pan:{x:F.x,y:F.y}};var H=h.prevViewport;void 0===H||A.zoom!==H.zoom||A.pan.x!==H.pan.x||A.pan.y!==H.pan.y||x&&!v||(h.motionBlurPxRatio=1);k&&(D=k);E*=n;D.x*=n;D.y*=n;H=h.getCachedZSortedEles();if(y||(h.textureDrawLastFrame=
!1),y){h.textureDrawLastFrame=!0;h.textureCache||(h.textureCache={},h.textureCache.bb=p.mutableElements().boundingBox(),h.textureCache.texture=h.data.bufferCanvases[h.TEXTURE_BUFFER],A=h.data.bufferContexts[h.TEXTURE_BUFFER],A.setTransform(1,0,0,1,0,0),A.clearRect(0,0,h.canvasWidth*h.textureMult,h.canvasHeight*h.textureMult),h.render({forcedContext:A,drawOnlyNodeLayer:!0,forcedPxRatio:n*h.textureMult}),A=h.textureCache.viewport={zoom:p.zoom(),pan:p.pan(),width:h.canvasWidth,height:h.canvasHeight},
A.mpan={x:(0-A.pan.x)/A.zoom,y:(0-A.pan.y)/A.zoom});u[h.DRAG]=!1;u[h.NODE]=!1;x=r.contexts[h.NODE];v=h.textureCache.texture;A=h.textureCache.viewport;h.textureCache.bb;x.setTransform(1,0,0,1,0,0);d?b(x,0,0,A.width,A.height):x.clearRect(0,0,A.width,A.height);var I=B["outside-texture-bg-color"].value;h.fillStyle(x,I[0],I[1],I[2],B["outside-texture-bg-opacity"].value);x.fillRect(0,0,A.width,A.height);C=p.zoom();a(x,!1);x.clearRect(A.mpan.x,A.mpan.y,A.width/A.zoom/n,A.height/A.zoom/n);x.drawImage(v,A.mpan.x,
A.mpan.y,A.width/A.zoom/n,A.height/A.zoom/n)}else h.textureOnViewport&&!c&&(h.textureCache=null);I=p.extent();v=h.pinching||h.hoverData.dragging||h.swipePanning||h.data.wheelZooming||h.hoverData.draggingEles;var J=h.hideEdgesOnViewport&&v;v=[];if(v[h.NODE]=!u[h.NODE]&&d&&!h.clearedForMotionBlur[h.NODE]||h.clearingMotionBlur,v[h.NODE]&&(h.clearedForMotionBlur[h.NODE]=!0),v[h.DRAG]=!u[h.DRAG]&&d&&!h.clearedForMotionBlur[h.DRAG]||h.clearingMotionBlur,v[h.DRAG]&&(h.clearedForMotionBlur[h.DRAG]=!0),u[h.NODE]||
e||f||v[h.NODE]){var M=d&&!v[h.NODE]&&1!==w;x=c||(M?h.data.bufferContexts[h.MOTIONBLUR_BUFFER_NODE]:r.contexts[h.NODE]);a(x,d&&!M?"motionBlur":void 0);J?h.drawCachedNodes(x,H.nondrag,n,I):h.drawLayeredElements(x,H.nondrag,n,I);h.debug&&h.drawDebugPoints(x,H.nondrag);e||d||(u[h.NODE]=!1)}!f&&(u[h.DRAG]||e||v[h.DRAG])&&(M=d&&!v[h.DRAG]&&1!==w,x=c||(M?h.data.bufferContexts[h.MOTIONBLUR_BUFFER_DRAG]:r.contexts[h.DRAG]),a(x,d&&!M?"motionBlur":void 0),J?h.drawCachedNodes(x,H.drag,n,I):h.drawCachedElements(x,
H.drag,n,I),h.debug&&h.drawDebugPoints(x,H.drag),e||d||(u[h.DRAG]=!1));if(h.showFps||!f&&u[h.SELECT_BOX]&&!e){x=c||r.contexts[h.SELECT_BOX];if(a(x),1==h.selection[4]&&(h.hoverData.selecting||h.touchData.selecting))C=h.cy.zoom(),f=B["selection-box-border-width"].value/C,x.lineWidth=f,x.fillStyle="rgba("+B["selection-box-color"].value[0]+","+B["selection-box-color"].value[1]+","+B["selection-box-color"].value[2]+","+B["selection-box-opacity"].value+")",x.fillRect(h.selection[0],h.selection[1],h.selection[2]-
h.selection[0],h.selection[3]-h.selection[1]),0<f&&(x.strokeStyle="rgba("+B["selection-box-border-color"].value[0]+","+B["selection-box-border-color"].value[1]+","+B["selection-box-border-color"].value[2]+","+B["selection-box-opacity"].value+")",x.strokeRect(h.selection[0],h.selection[1],h.selection[2]-h.selection[0],h.selection[3]-h.selection[1]));r.bgActivePosistion&&!h.hoverData.selecting&&(C=h.cy.zoom(),f=r.bgActivePosistion,x.fillStyle="rgba("+B["active-bg-color"].value[0]+","+B["active-bg-color"].value[1]+
","+B["active-bg-color"].value[2]+","+B["active-bg-opacity"].value+")",x.beginPath(),x.arc(f.x,f.y,B["active-bg-size"].pfValue/C,0,2*Math.PI),x.fill());f=h.lastRedrawTime;h.showFps&&f&&(f=Math.round(f),n=Math.round(1E3/f),x.setTransform(1,0,0,1,0,0),x.fillStyle="rgba(255, 0, 0, 0.75)",x.strokeStyle="rgba(255, 0, 0, 0.75)",x.lineWidth=1,x.fillText("1 frame = "+f+" ms = "+n+" fps",0,20),x.strokeRect(0,30,250,20),x.fillRect(0,30,250*Math.min(n/60,1),20));e||(u[h.SELECT_BOX]=!1)}d&&1!==w&&(f=r.contexts[h.NODE],
n=h.data.bufferCanvases[h.MOTIONBLUR_BUFFER_NODE],B=r.contexts[h.DRAG],x=h.data.bufferCanvases[h.MOTIONBLUR_BUFFER_DRAG],H=function(a,c,d){a.setTransform(1,0,0,1,0,0);d||!G?a.clearRect(0,0,h.canvasWidth,h.canvasHeight):b(a,0,0,h.canvasWidth,h.canvasHeight);d=w;a.drawImage(c,0,0,h.canvasWidth*d,h.canvasHeight*d,0,0,h.canvasWidth,h.canvasHeight)},(u[h.NODE]||v[h.NODE])&&(H(f,n,v[h.NODE]),u[h.NODE]=!1),(u[h.DRAG]||v[h.DRAG])&&(H(B,x,v[h.DRAG]),u[h.DRAG]=!1));h.prevViewport=A;h.clearingMotionBlur&&(h.clearingMotionBlur=
!1,h.motionBlurCleared=!0,h.motionBlur=!0);d&&(h.motionBlurTimeout=setTimeout(function(){h.motionBlurTimeout=null;h.clearedForMotionBlur[h.NODE]=!1;h.clearedForMotionBlur[h.DRAG]=!1;h.motionBlur=!1;h.clearingMotionBlur=!y;h.mbFrames=0;u[h.NODE]=!0;u[h.DRAG]=!0;h.redraw()},100));c||p.emit("render")};p.exports=n},function(p,n,g){var l=g(2);n={drawPolygonPath:function(a,b,c,d,e,g){d/=2;e/=2;a.beginPath&&a.beginPath();a.moveTo(b+d*g[0],c+e*g[1]);for(var f=1;f<g.length/2;f++)a.lineTo(b+d*g[2*f],c+e*g[2*
f+1]);a.closePath()},drawRoundRectanglePath:function(a,b,c,d,e){var f=d/2,g=e/2;d=l.getRoundRectangleRadius(d,e);a.beginPath&&a.beginPath();a.moveTo(b,c-g);a.arcTo(b+f,c-g,b+f,c,d);a.arcTo(b+f,c+g,b,c+g,d);a.arcTo(b-f,c+g,b-f,c,d);a.arcTo(b-f,c-g,b,c-g,d);a.lineTo(b,c-g);a.closePath()},drawBottomRoundRectanglePath:function(a,b,c,d,e){var f=d/2,g=e/2;d=l.getRoundRectangleRadius(d,e);a.beginPath&&a.beginPath();a.moveTo(b,c-g);a.lineTo(b+f,c-g);a.lineTo(b+f,c);a.arcTo(b+f,c+g,b,c+g,d);a.arcTo(b-f,c+
g,b-f,c,d);a.lineTo(b-f,c-g);a.lineTo(b,c-g);a.closePath()},drawCutRectanglePath:function(a,b,c,d,e){d/=2;e/=2;var f=l.getCutRectangleCornerLength();a.beginPath&&a.beginPath();a.moveTo(b-d+f,c-e);a.lineTo(b+d-f,c-e);a.lineTo(b+d,c-e+f);a.lineTo(b+d,c+e-f);a.lineTo(b+d-f,c+e);a.lineTo(b-d+f,c+e);a.lineTo(b-d,c+e-f);a.lineTo(b-d,c-e+f);a.closePath()},drawBarrelPath:function(a,b,c,d,e){var f=d/2,g=e/2,h=b-f;b+=f;f=c-g;c+=g;g=l.getBarrelCurveConstants(d,e);d=g.widthOffset;e=g.heightOffset;g=g.ctrlPtOffsetPct*
d;a.beginPath&&a.beginPath();a.moveTo(h,f+e);a.lineTo(h,c-e);a.quadraticCurveTo(h+g,c,h+d,c);a.lineTo(b-d,c);a.quadraticCurveTo(b-g,c,b,c-e);a.lineTo(b,f+e);a.quadraticCurveTo(b-g,f,b-d,f);a.lineTo(h+d,f);a.quadraticCurveTo(h+g,f,h,f+e);a.closePath()}};var d=Math.sin(0),b=Math.cos(0),a={},c={},e=Math.PI/40;for(g=0*Math.PI;g<2*Math.PI;g+=e)a[g]=Math.sin(g),c[g]=Math.cos(g);n.drawEllipsePath=function(f,g,k,h,l){if(f.beginPath&&f.beginPath(),f.ellipse)f.ellipse(g,k,h/2,l/2,0,0,2*Math.PI);else{h/=2;for(var m=
l/2,n=0*Math.PI;n<2*Math.PI;n+=e){l=g-h*a[n]*d+h*c[n]*b;var p=k+m*c[n]*d+m*a[n]*b;0===n?f.moveTo(l,p):f.lineTo(l,p)}}f.closePath()};p.exports=n},function(p,n,g){function l(a){var b=a.indexOf(",");return a.substr(b+1)}function d(a,b,d){b=b.toDataURL(d,a.quality);switch(a.output){case "blob":a=l(b);a=atob(a);b=new ArrayBuffer(a.length);for(var c=new Uint8Array(b),e=0;e<a.length;e++)c[e]=a.charCodeAt(e);return new Blob([b],{type:d});case "base64":return l(b);default:return b}}var b=g(0);p.exports={createBuffer:function(a,
b){var c=document.createElement("canvas");return c.width=a,c.height=b,[c,c.getContext("2d")]},bufferCanvasImage:function(a){var c=this.cy,d=c.mutableElements().boundingBox(),f=this.findContainerClientCoords(),g=a.full?Math.ceil(d.w):f[2];f=a.full?Math.ceil(d.h):f[3];var k=b.number(a.maxWidth)||b.number(a.maxHeight),h=this.getPixelRatio(),l=1;if(void 0!==a.scale)g*=a.scale,f*=a.scale,l=a.scale;else if(k){var n=1/0,p=1/0;b.number(a.maxWidth)&&(n=l*a.maxWidth/g);b.number(a.maxHeight)&&(p=l*a.maxHeight/
f);l=Math.min(n,p);g*=l;f*=l}k||(g*=h,f*=h,l*=h);k=document.createElement("canvas");k.width=g;k.height=f;k.style.width=g+"px";k.style.height=f+"px";h=k.getContext("2d");0<g&&0<f&&(h.clearRect(0,0,g,f),h.globalCompositeOperation="source-over",n=this.getCachedZSortedEles(),a.full?(h.translate(-d.x1*l,-d.y1*l),h.scale(l,l),this.drawElements(h,n),h.scale(1/l,1/l),h.translate(d.x1*l,d.y1*l)):(p=c.pan(),d=p.x*l,p=p.y*l,l*=c.zoom(),h.translate(d,p),h.scale(l,l),this.drawElements(h,n),h.scale(1/l,1/l),h.translate(-d,
-p)),a.bg&&(h.globalCompositeOperation="destination-over",h.fillStyle=a.bg,h.rect(0,0,g,f),h.fill()));return k},png:function(a){return d(a,this.bufferCanvasImage(a),"image/png")},jpg:function(a){return d(a,this.bufferCanvasImage(a),"image/jpeg")}}},function(p,n,g){p.exports={nodeShapeImpl:function(g,d,b,a,c,e,f){switch(g){case "ellipse":return this.drawEllipsePath(d,b,a,c,e);case "polygon":return this.drawPolygonPath(d,b,a,c,e,f);case "roundrectangle":return this.drawRoundRectanglePath(d,b,a,c,e);
case "cutrectangle":return this.drawCutRectanglePath(d,b,a,c,e);case "bottomroundrectangle":return this.drawBottomRoundRectanglePath(d,b,a,c,e);case "barrel":return this.drawBarrelPath(d,b,a,c,e)}}}},function(p,n,g){var l=g(0),d=g(1),b=g(18);n=function c(){if(!(this instanceof c))return new c;this.length=0};g=n.prototype;g.instanceString=function(){return"stylesheet"};g.selector=function(b){return this[this.length++]={selector:b,properties:[]},this};g.css=function(c,e){var f=this.length-1;if(l.string(c))this[f].properties.push({name:c,
value:e});else if(l.plainObject(c))for(e=0;e<b.properties.length;e++){var g=b.properties[e],k=c[g.name];(void 0===k&&(k=c[d.dash2camel(g.name)]),void 0!==k)&&this[f].properties.push({name:g.name,value:k})}return this};g.style=g.css;g.generateStyle=function(c){c=new b(c);return this.appendToStyle(c)};g.appendToStyle=function(b){for(var c=0;c<this.length;c++){var d=this[c],g=d.properties;b.selector(d.selector);for(d=0;d<g.length;d++){var k=g[d];b.css(k.name,k.value)}}return b};p.exports=n},function(p,
n,g){p.exports="3.2.12"}])});
